{"version":3,"file":"itee-plugin-three.esm.js","sources":["../sources/frontend/controllers/CameraControls.js","../sources/frontend/controllers/CameraPathController.js","../sources/frontend/controllers/ClippingControls.js","../sources/frontend/managers/BufferGeometriesManager.js","../sources/frontend/managers/CurvesManager.js","../sources/frontend/managers/FilairesManager.js","../sources/frontend/managers/GeometriesManager.js","../sources/frontend/managers/TexturesManager.js","../sources/frontend/managers/MaterialsManager.js","../sources/frontend/managers/ObjectsManager.js","../sources/frontend/objects3d/OrbitControlsHelper.js"],"sourcesContent":["/**\r\n * @author [Tristan Valcke]{@link https://github.com/Itee}\r\n * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause}\r\n *\r\n * @file Todo\r\n *\r\n * @example Todo\r\n *\r\n */\r\n\r\nimport {\r\n    DefaultLogger,\r\n    Keys,\r\n    Mouse\r\n} from 'itee-client'\r\nimport {\r\n    degreesToRadians,\r\n    toEnum\r\n} from 'itee-utils'\r\nimport {\r\n    isEmptyArray,\r\n    isNotBoolean,\r\n    isNotDefined,\r\n    isNull,\r\n    isUndefined\r\n} from 'itee-validators'\r\nimport {\r\n    Camera,\r\n    EventDispatcher,\r\n    Object3D,\r\n    Spherical,\r\n    Vector2,\r\n    Vector3\r\n} from 'three-full'\r\n\r\nconst FRONT = new Vector3( 0, 0, -1 )\r\nconst BACK  = new Vector3( 0, 0, 1 )\r\nconst UP    = new Vector3( 0, 1, 0 )\r\nconst DOWN  = new Vector3( 0, -1, 0 )\r\nconst RIGHT = new Vector3( 1, 0, 0 )\r\nconst LEFT  = new Vector3( -1, 0, 0 )\r\n\r\nconst State = toEnum( {\r\n    None:     0,\r\n    Rotating: 1,\r\n    Panning:  2,\r\n    Rolling:  3,\r\n    Zooming:  4,\r\n    Moving:   5\r\n} )\r\n\r\nconst CameraControlMode = toEnum( {\r\n    FirstPerson: 1,\r\n    Orbit:       2,\r\n    Fly:         3,\r\n    Path:        4\r\n} )\r\n\r\nclass CameraControls extends EventDispatcher {\r\n\r\n    constructor ( parameters = {} ) {\r\n\r\n        const _parameters = {\r\n            ...{\r\n                logger:     DefaultLogger,\r\n                camera:     null,\r\n                target:     new Object3D(),\r\n                mode:       CameraControlMode.Orbit,\r\n                domElement: window\r\n            }, ...parameters\r\n        }\r\n\r\n        super()\r\n\r\n        // Need to be defined before domElement to make correct binding events\r\n        this._handlers = {\r\n            onMouseEnter:  this._onMouseEnter.bind( this ),\r\n            onMouseLeave:  this._onMouseLeave.bind( this ),\r\n            onMouseDown:   this._onMouseDown.bind( this ),\r\n            onMouseMove:   this._onMouseMove.bind( this ),\r\n            onMouseWheel:  this._onMouseWheel.bind( this ),\r\n            onMouseUp:     this._onMouseUp.bind( this ),\r\n            onDblClick:    this._onDblClick.bind( this ),\r\n            onTouchStart:  this._onTouchStart.bind( this ),\r\n            onTouchEnd:    this._onTouchEnd.bind( this ),\r\n            onTouchCancel: this._onTouchCancel.bind( this ),\r\n            onTouchLeave:  this._onTouchLeave.bind( this ),\r\n            onTouchMove:   this._onTouchMove.bind( this ),\r\n            onKeyDown:     this._onKeyDown.bind( this ),\r\n            onKeyUp:       this._onKeyUp.bind( this )\r\n        }\r\n\r\n        this.logger     = _parameters.logger\r\n        this.camera     = _parameters.camera\r\n        this.target     = _parameters.target\r\n        this.mode       = _parameters.mode\r\n        this.domElement = _parameters.domElement\r\n\r\n        // Set to false to disable controls\r\n        this.enabled = true\r\n\r\n        this._paths               = []\r\n        this._trackPath           = false\r\n        this._cameraJump          = 0.1 // = 1 / path.getLength()\r\n        this._currentPathPosition = null\r\n        this._currentPathOffset   = 0\r\n        this._currentPathIndex    = 0\r\n        this._currentPath         = null\r\n        this._maxJump             = 1.0\r\n\r\n        this._lockedTarget = true\r\n\r\n        // Touches events specific\r\n        this.previousTouches = []\r\n\r\n        // Set to false to disable all/specific displacement\r\n        this.canMove   = true\r\n        this.moveSpeed = 1.0\r\n\r\n        this.canFront          = true\r\n        this.frontMinimum      = -Infinity\r\n        this.frontMaximum      = -Infinity\r\n        this.frontMinSpeed     = 0.0\r\n        this.frontSpeed        = 1.0\r\n        this.frontMaxSpeed     = Infinity\r\n        this.frontAcceleration = 1.0\r\n\r\n        this.canBack          = true\r\n        this.backMinimum      = -Infinity\r\n        this.backMaximum      = -Infinity\r\n        this.backMinSpeed     = 0.0\r\n        this.backSpeed        = 1.0\r\n        this.backMaxSpeed     = Infinity\r\n        this.backAcceleration = 1.0\r\n\r\n        this.canUp          = true\r\n        this.upMinimum      = -Infinity\r\n        this.upMaximum      = -Infinity\r\n        this.upMinSpeed     = 0.0\r\n        this.upSpeed        = 1.0\r\n        this.upMaxSpeed     = Infinity\r\n        this.upAcceleration = 1.0\r\n\r\n        this.canDown          = true\r\n        this.downMinimum      = -Infinity\r\n        this.downMaximum      = -Infinity\r\n        this.downMinSpeed     = 0.0\r\n        this.downSpeed        = 1.0\r\n        this.downMaxSpeed     = Infinity\r\n        this.downAcceleration = 1.0\r\n\r\n        this.canLeft          = true\r\n        this.leftMinimum      = -Infinity\r\n        this.leftMaximum      = -Infinity\r\n        this.leftMinSpeed     = 0.0\r\n        this.leftSpeed        = 1.0\r\n        this.leftMaxSpeed     = Infinity\r\n        this.leftAcceleration = 1.0\r\n\r\n        this.canRight          = true\r\n        this.rightMinimum      = -Infinity\r\n        this.rightMaximum      = -Infinity\r\n        this.rightMinSpeed     = 0.0\r\n        this.rightSpeed        = 1.0\r\n        this.rightMaxSpeed     = Infinity\r\n        this.rightAcceleration = 1.0\r\n\r\n        this.canRotate = true\r\n\r\n        /**\r\n         * How far you can orbit vertically, upper and lower limits.\r\n         * Range is 0 to Math.PI radians.\r\n         * @type {number}\r\n         */\r\n        this.minPolarAngle = 0.001\r\n\r\n        /**\r\n         * How far you can orbit horizontally, upper and lower limits.\r\n         * If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\r\n         * @type {number}\r\n         */\r\n        this.maxPolarAngle = ( Math.PI - 0.001 )\r\n        this.minAzimuthAngle    = -Infinity\r\n        this.maxAzimuthAngle    = Infinity\r\n        this.rotateMinSpeed     = 0.0\r\n        this.rotateSpeed        = 1.0\r\n        this.rotateMaxSpeed     = Infinity\r\n        this.rotateAcceleration = 1.0\r\n\r\n        this.canPan          = true\r\n        this.panMinimum      = -Infinity\r\n        this.panMaximum      = -Infinity\r\n        this.panMinSpeed     = 0.0\r\n        this.panSpeed        = 0.001\r\n        this.panMaxSpeed     = Infinity\r\n        this.panAcceleration = 1.0\r\n\r\n        this.canRoll          = true\r\n        this.rollMinimum      = -Infinity\r\n        this.rollMaximum      = -Infinity\r\n        this.rollMinSpeed     = 0.0\r\n        this.rollSpeed        = 0.1\r\n        this.rollMaxSpeed     = Infinity\r\n        this.rollAcceleration = 1.0\r\n\r\n        this.canZoom          = true\r\n        this.zoomMinimum      = 0\r\n        this.zoomMaximum      = Infinity\r\n        this.zoomMinSpeed     = 0.0\r\n        this.zoomSpeed        = 0.001\r\n        this.zoomMaxSpeed     = Infinity\r\n        this.zoomAcceleration = 1.0\r\n\r\n        this.canLookAt = true\r\n\r\n        // The actions map about input events\r\n        this.actionsMap = {\r\n            front:            [ Keys.Z.value, Keys.UP_ARROW.value ],\r\n            back:             [ Keys.S.value, Keys.DOWN_ARROW.value ],\r\n            up:               [ Keys.A.value, Keys.PAGE_UP.value ],\r\n            down:             [ Keys.E.value, Keys.PAGE_DOWN.value ],\r\n            left:             [ Keys.Q.value, Keys.LEFT_ARROW.value ],\r\n            right:            [ Keys.D.value, Keys.RIGHT_ARROW.value ],\r\n            rotate:           [ Mouse.LEFT.value ],\r\n            pan:              [ Mouse.MIDDLE.value ],\r\n            roll:             {\r\n                left:  [ Keys.R.value ],\r\n                right: [ Keys.T.value ]\r\n            },\r\n            zoom:             [ Mouse.WHEEL.value ],\r\n            lookAtFront:      [ Keys.NUMPAD_2.value ],\r\n            lookAtFrontLeft:  [ Keys.NUMPAD_3.value ],\r\n            lookAtFrontRight: [ Keys.NUMPAD_1.value ],\r\n            lookAtBack:       [ Keys.NUMPAD_8.value ],\r\n            lookAtBackLeft:   [ Keys.NUMPAD_9.value ],\r\n            lookAtBackRight:  [ Keys.NUMPAD_7.value ],\r\n            lookAtUp:         [ Keys.NUMPAD_5.value ],\r\n            lookAtDown:       [ Keys.NUMPAD_0.value ],\r\n            lookAtLeft:       [ Keys.NUMPAD_6.value ],\r\n            lookAtRight:      [ Keys.NUMPAD_4.value ]\r\n        }\r\n\r\n        // The current internal state of controller\r\n        this._state = State.None\r\n\r\n    }\r\n\r\n    get camera () {\r\n\r\n        return this._camera\r\n\r\n    }\r\n\r\n    set camera ( value ) {\r\n\r\n        if ( isNull( value ) ) { throw new Error( 'Camera cannot be null ! Expect an instance of Camera' ) }\r\n        if ( isUndefined( value ) ) { throw new Error( 'Camera cannot be undefined ! Expect an instance of Camera' ) }\r\n        if ( !( value instanceof Camera ) ) { throw new Error( `Camera cannot be an instance of ${value.constructor.name}. Expect an instance of Camera.` ) }\r\n\r\n        this._camera = value\r\n\r\n    }\r\n\r\n    get target () {\r\n\r\n        return this._target\r\n\r\n    }\r\n\r\n    set target ( value ) {\r\n\r\n        if ( isNull( value ) ) { throw new Error( 'Target cannot be null ! Expect an instance of Object3D.' ) }\r\n        if ( isUndefined( value ) ) { throw new Error( 'Target cannot be undefined ! Expect an instance of Object3D.' ) }\r\n        if ( !( value instanceof Object3D ) ) { throw new Error( `Target cannot be an instance of ${value.constructor.name}. Expect an instance of Object3D.` ) }\r\n\r\n        this._target = value\r\n\r\n    }\r\n\r\n    get mode () {\r\n        return this._mode\r\n    }\r\n\r\n    set mode ( value ) {\r\n\r\n        if ( isNull( value ) ) { throw new Error( 'Mode cannot be null ! Expect a value from CameraControlMode enum.' ) }\r\n        if ( isUndefined( value ) ) { throw new Error( 'Mode cannot be undefined ! Expect a value from CameraControlMode enum.' ) }\r\n        if ( !( value instanceof CameraControlMode ) ) { throw new Error( `Mode cannot be an instance of ${value.constructor.name}. Expect a value from TCameraControlMode enum.` ) }\r\n\r\n        this._mode = value\r\n\r\n        if ( this._trackPath ) {\r\n            this._initPathDisplacement()\r\n        }\r\n\r\n    }\r\n\r\n    get paths () {\r\n        return this._paths\r\n    }\r\n\r\n    set paths ( value ) {\r\n\r\n        this._paths = value\r\n\r\n    }\r\n\r\n    get trackPath () {\r\n        return this._trackPath\r\n    }\r\n\r\n    set trackPath ( value ) {\r\n\r\n        if ( isNotBoolean( value ) ) { throw new Error( `Track path cannot be an instance of ${value.constructor.name}. Expect a boolean.` ) }\r\n\r\n        this._trackPath = value\r\n\r\n        if ( this._trackPath ) {\r\n            this._initPathDisplacement()\r\n        }\r\n\r\n    }\r\n\r\n    get domElement () {\r\n\r\n        return this._domElement\r\n\r\n    }\r\n\r\n    set domElement ( value ) {\r\n\r\n        if ( isNull( value ) ) { throw new Error( 'DomElement cannot be null ! Expect an instance of HTMLDocument.' ) }\r\n        if ( isUndefined( value ) ) { throw new Error( 'DomElement cannot be undefined ! Expect an instance of HTMLDocument.' ) }\r\n        if ( !( ( value instanceof Window ) || ( value instanceof HTMLDocument ) || ( value instanceof HTMLDivElement ) || ( value instanceof HTMLCanvasElement ) ) ) { throw new Error( `DomElement cannot be an instance of ${value.constructor.name}. Expect an instance of Window, HTMLDocument or HTMLDivElement.` ) }\r\n\r\n        // Check focusability of given dom element because in case the element is not focusable\r\n        // the keydown event won't work !\r\n\r\n        // Clear previous element\r\n        if ( this._domElement ) {\r\n            this._domElement.removeEventListener( 'mouseenter', this._handlers.onMouseEnter, false )\r\n            this._domElement.removeEventListener( 'mouseleave', this._handlers.onMouseLeave, false )\r\n            this.dispose()\r\n        }\r\n\r\n        this._domElement = value\r\n        this._domElement.addEventListener( 'mouseenter', this._handlers.onMouseEnter, false )\r\n        this._domElement.addEventListener( 'mouseleave', this._handlers.onMouseLeave, false )\r\n        this.impose()\r\n\r\n    }\r\n\r\n    setCamera ( value ) {\r\n\r\n        this.camera = value\r\n        return this\r\n\r\n    }\r\n\r\n    setTarget ( value ) {\r\n\r\n        this.target = value\r\n        return this\r\n\r\n    }\r\n\r\n    setMode ( value ) {\r\n\r\n        this.mode = value\r\n        return this\r\n\r\n    }\r\n\r\n    setPaths ( value ) {\r\n\r\n        this.paths = value\r\n        return this\r\n\r\n    }\r\n\r\n    addPath ( value ) {\r\n\r\n        this._paths.push( value )\r\n        return this\r\n\r\n    }\r\n\r\n    setTrackPath ( value ) {\r\n\r\n        this.trackPath = value\r\n        return this\r\n\r\n    }\r\n\r\n    setDomElement ( value ) {\r\n\r\n        this.domElement = value\r\n        return this\r\n\r\n    }\r\n\r\n    ///////////////\r\n\r\n    impose () {\r\n\r\n        this._domElement.addEventListener( 'keydown', this._handlers.onKeyDown, false )\r\n        this._domElement.addEventListener( 'keyup', this._handlers.onKeyUp, false )\r\n\r\n        this._domElement.addEventListener( 'dblclick', this._handlers.onDblClick, false )\r\n        this._domElement.addEventListener( 'mousedown', this._handlers.onMouseDown, false )\r\n        this._domElement.addEventListener( 'mousemove', this._handlers.onMouseMove, false )\r\n        this._domElement.addEventListener( 'mouseup', this._handlers.onMouseUp, false )\r\n        this._domElement.addEventListener( 'wheel', this._handlers.onMouseWheel, {\r\n            capture: true,\r\n            once:    false,\r\n            passive: false\r\n        } )\r\n\r\n        this._domElement.addEventListener( 'touchcancel', this._handlers.onTouchCancel, false )\r\n        this._domElement.addEventListener( 'touchend', this._handlers.onTouchEnd, false )\r\n        this._domElement.addEventListener( 'touchleave', this._handlers.onTouchLeave, false )\r\n        this._domElement.addEventListener( 'touchmove', this._handlers.onTouchMove, {\r\n            capture: true,\r\n            once:    false,\r\n            passive: false\r\n        } )\r\n        this._domElement.addEventListener( 'touchstart', this._handlers.onTouchStart, {\r\n            capture: true,\r\n            once:    false,\r\n            passive: false\r\n        } )\r\n\r\n        this.dispatchEvent( { type: 'impose' } )\r\n\r\n    }\r\n\r\n    dispose () {\r\n\r\n        this._domElement.removeEventListener( 'keydown', this._handlers.onKeyDown, false )\r\n        this._domElement.removeEventListener( 'keyup', this._handlers.onKeyUp, false )\r\n\r\n        this._domElement.removeEventListener( 'dblclick', this._handlers.onDblClick, false )\r\n        this._domElement.removeEventListener( 'mousedown', this._handlers.onMouseDown, false )\r\n        this._domElement.removeEventListener( 'mousemove', this._handlers.onMouseMove, false )\r\n        this._domElement.removeEventListener( 'mouseup', this._handlers.onMouseUp, false )\r\n        this._domElement.removeEventListener( 'wheel', this._handlers.onMouseWheel, {\r\n            capture: true,\r\n            once:    false,\r\n            passive: false\r\n        } )\r\n\r\n        this._domElement.removeEventListener( 'touchcancel', this._handlers.onTouchCancel, false )\r\n        this._domElement.removeEventListener( 'touchend', this._handlers.onTouchEnd, false )\r\n        this._domElement.removeEventListener( 'touchleave', this._handlers.onTouchLeave, false )\r\n        this._domElement.removeEventListener( 'touchmove', this._handlers.onTouchMove, {\r\n            capture: true,\r\n            once:    false,\r\n            passive: false\r\n        } )\r\n        this._domElement.removeEventListener( 'touchstart', this._handlers.onTouchStart, {\r\n            capture: true,\r\n            once:    false,\r\n            passive: false\r\n        } )\r\n\r\n        this.dispatchEvent( { type: 'dispose' } )\r\n\r\n    }\r\n\r\n    update () {\r\n\r\n    }\r\n\r\n    setCameraPosition ( newCameraPosition ) {\r\n\r\n        this._camera.position.copy( newCameraPosition )\r\n        this._camera.lookAt( this._target.position )\r\n\r\n        return this\r\n\r\n    }\r\n\r\n    setTargetPosition ( newTargetPosition ) {\r\n\r\n        this._target.position.copy( newTargetPosition )\r\n        this._camera.lookAt( this._target.position )\r\n\r\n        return this\r\n\r\n    }\r\n\r\n    // Handlers\r\n    _consumeEvent ( event ) {\r\n\r\n        if ( !event.cancelable ) {\r\n            return\r\n        }\r\n\r\n        event.stopImmediatePropagation()\r\n\r\n    }\r\n\r\n    // Keys\r\n    _onKeyDown ( keyEvent ) {\r\n\r\n        if ( !this.enabled ) { return }\r\n        keyEvent.preventDefault()\r\n\r\n        const actionMap = this.actionsMap\r\n        const key       = keyEvent.keyCode\r\n\r\n        //todo\r\n        //        const altActive   = keyEvent.altKey\r\n        //        const ctrlActive  = keyEvent.ctrlKey\r\n        //        const metaActive  = keyEvent.metaKey\r\n        //        const shiftActive = keyEvent.shiftKey\r\n\r\n        if ( actionMap.front.includes( key ) ) {\r\n\r\n            this._front()\r\n            this._consumeEvent( keyEvent )\r\n\r\n        } else if ( actionMap.back.includes( key ) ) {\r\n\r\n            this._back()\r\n            this._consumeEvent( keyEvent )\r\n\r\n        } else if ( actionMap.up.includes( key ) ) {\r\n\r\n            this._up()\r\n            this._consumeEvent( keyEvent )\r\n\r\n        } else if ( actionMap.down.includes( key ) ) {\r\n\r\n            this._down()\r\n            this._consumeEvent( keyEvent )\r\n\r\n        } else if ( actionMap.left.includes( key ) ) {\r\n\r\n            this._left()\r\n            this._consumeEvent( keyEvent )\r\n\r\n        } else if ( actionMap.right.includes( key ) ) {\r\n\r\n            this._right()\r\n            this._consumeEvent( keyEvent )\r\n\r\n        } else if ( actionMap.rotate.includes( key ) ) {\r\n\r\n            this._rotate( 1.0 )\r\n        } else if ( actionMap.pan.includes( key ) ) {\r\n\r\n            this._pan( 1.0 )\r\n            this._consumeEvent( keyEvent )\r\n\r\n        } else if ( actionMap.roll.left.includes( key ) ) {\r\n\r\n            this._roll( 1.0 )\r\n            this._consumeEvent( keyEvent )\r\n\r\n        } else if ( actionMap.roll.right.includes( key ) ) {\r\n\r\n            this._roll( -1.0 )\r\n            this._consumeEvent( keyEvent )\r\n\r\n        } else if ( actionMap.zoom.includes( key ) ) {\r\n\r\n            this._zoom( 1.0 )\r\n            this._consumeEvent( keyEvent )\r\n\r\n        } else if ( actionMap.lookAtFront.includes( key ) ) {\r\n\r\n            this._lookAt( FRONT )\r\n            this._consumeEvent( keyEvent )\r\n\r\n        } else if ( actionMap.lookAtFrontLeft.includes( key ) ) {\r\n\r\n            this._lookAt( new Vector3( -1, 0, -1 ).normalize() )\r\n            this._consumeEvent( keyEvent )\r\n\r\n        } else if ( actionMap.lookAtFrontRight.includes( key ) ) {\r\n\r\n            this._lookAt( new Vector3( 1, 0, -1 ).normalize() )\r\n            this._consumeEvent( keyEvent )\r\n\r\n        } else if ( actionMap.lookAtBack.includes( key ) ) {\r\n\r\n            this._lookAt( BACK )\r\n            this._consumeEvent( keyEvent )\r\n\r\n        } else if ( actionMap.lookAtBackLeft.includes( key ) ) {\r\n\r\n            this._lookAt( new Vector3( -1, 0, 1 ).normalize() )\r\n            this._consumeEvent( keyEvent )\r\n\r\n        } else if ( actionMap.lookAtBackRight.includes( key ) ) {\r\n\r\n            this._lookAt( new Vector3( 1, 0, 1 ).normalize() )\r\n            this._consumeEvent( keyEvent )\r\n\r\n        } else if ( actionMap.lookAtUp.includes( key ) ) {\r\n\r\n            this._lookAt( UP )\r\n            this._consumeEvent( keyEvent )\r\n\r\n        } else if ( actionMap.lookAtDown.includes( key ) ) {\r\n\r\n            this._lookAt( DOWN )\r\n            this._consumeEvent( keyEvent )\r\n\r\n        } else if ( actionMap.lookAtLeft.includes( key ) ) {\r\n\r\n            this._lookAt( LEFT )\r\n            this._consumeEvent( keyEvent )\r\n\r\n        } else if ( actionMap.lookAtRight.includes( key ) ) {\r\n\r\n            this._lookAt( RIGHT )\r\n            this._consumeEvent( keyEvent )\r\n\r\n        } else {\r\n            // Unmapped key, just ignore it ! May be this is for an other controls.\r\n        }\r\n\r\n    }\r\n\r\n    _onKeyUp ( keyEvent ) {\r\n\r\n        if ( !this.enabled ) { return }\r\n        keyEvent.preventDefault()\r\n\r\n    }\r\n\r\n    // Touches\r\n    _onTouchStart ( touchEvent ) {\r\n\r\n        if ( !this.enabled ) { return }\r\n        touchEvent.preventDefault()\r\n\r\n        this.previousTouches = touchEvent.touches\r\n\r\n    }\r\n\r\n    _onTouchEnd ( touchEvent ) {\r\n\r\n        if ( !this.enabled ) { return }\r\n        touchEvent.preventDefault()\r\n\r\n        this.previousTouches = []\r\n        this._state          = State.None\r\n\r\n    }\r\n\r\n    _onTouchCancel ( touchEvent ) {\r\n\r\n        if ( !this.enabled ) { return }\r\n        touchEvent.preventDefault()\r\n\r\n        this.previousTouches = []\r\n        this._state          = State.None\r\n\r\n    }\r\n\r\n    _onTouchLeave ( touchEvent ) {\r\n\r\n        if ( !this.enabled ) { return }\r\n        touchEvent.preventDefault()\r\n\r\n        this.previousTouches = []\r\n        this._state          = State.None\r\n\r\n    }\r\n\r\n    _onTouchMove ( touchEvent ) {\r\n\r\n        if ( !this.enabled ) { return }\r\n        touchEvent.preventDefault()\r\n\r\n        const previousTouches         = this.previousTouches\r\n        const currentTouches          = touchEvent.changedTouches\r\n        const numberOfPreviousTouches = previousTouches.length\r\n        const numberOfCurrentTouches  = currentTouches.length\r\n\r\n        if ( numberOfPreviousTouches === 2 && numberOfCurrentTouches === 2 ) {\r\n\r\n            const previousTouchA    = new Vector2( previousTouches[ 0 ].clientX, previousTouches[ 0 ].clientY )\r\n            const previousTouchB    = new Vector2( previousTouches[ 1 ].clientX, previousTouches[ 1 ].clientY )\r\n            const previousGap       = previousTouchA.distanceTo( previousTouchB )\r\n            const previousCenter    = new Vector2().addVectors( previousTouchA, previousTouchB ).divideScalar( 2 )\r\n            const previousDirection = new Vector2().subVectors( previousTouchA, previousTouchB ).normalize()\r\n\r\n            const currentTouchA    = new Vector2( currentTouches[ 0 ].clientX, currentTouches[ 0 ].clientY )\r\n            const currentTouchB    = new Vector2( currentTouches[ 1 ].clientX, currentTouches[ 1 ].clientY )\r\n            const currentGap       = currentTouchA.distanceTo( currentTouchB )\r\n            const currentCenter    = new Vector2().addVectors( currentTouchA, currentTouchB ).divideScalar( 2 )\r\n            const currentDirection = new Vector2().subVectors( previousTouchA, previousTouchB ).normalize()\r\n\r\n            const deltaPan  = new Vector2().subVectors( currentCenter, previousCenter )\r\n            const deltaZoom = currentGap - previousGap\r\n            const deltaRoll = currentDirection.dot( previousDirection )\r\n\r\n            this._pan( deltaPan )\r\n            this._zoom( deltaZoom )\r\n            this._roll( deltaRoll )\r\n            this._consumeEvent( touchEvent )\r\n\r\n        } else if ( numberOfPreviousTouches === 1 && numberOfCurrentTouches === 1 ) {\r\n\r\n            const deltaRotate = new Vector2(\r\n                currentTouches[ 0 ].clientX - previousTouches[ 0 ].clientX,\r\n                currentTouches[ 0 ].clientY - previousTouches[ 0 ].clientY\r\n            ).divideScalar( 10 ) //todo: to high sensibility else !!!\r\n\r\n            this._rotate( deltaRotate )\r\n            this._consumeEvent( touchEvent )\r\n\r\n        } else {\r\n\r\n            this.logger.warn( 'Ignoring inconsistent touches event.' )\r\n\r\n        }\r\n\r\n        this.previousTouches = currentTouches\r\n\r\n    }\r\n\r\n    // Mouse\r\n    _onMouseEnter ( mouseEvent ) {\r\n\r\n        if ( !this.enabled ) { return }\r\n        mouseEvent.preventDefault()\r\n\r\n        this.impose()\r\n        if ( mouseEvent.target.constructor !== HTMLDocument ) {\r\n            this._domElement.focus()\r\n        }\r\n\r\n    }\r\n\r\n    _onMouseLeave ( mouseEvent ) {\r\n\r\n        if ( !this.enabled ) { return }\r\n        mouseEvent.preventDefault()\r\n\r\n        if ( mouseEvent.target.constructor !== HTMLDocument ) {\r\n            this._domElement.blur()\r\n        }\r\n        this.dispose()\r\n        this._state = State.None\r\n\r\n    }\r\n\r\n    _onMouseDown ( mouseEvent ) {\r\n\r\n        if ( !this.enabled ) { return }\r\n        mouseEvent.preventDefault()\r\n\r\n        const actionMap = this.actionsMap\r\n        const button    = mouseEvent.button\r\n\r\n        if ( actionMap.front.includes( button ) ) {\r\n\r\n            this._state = State.Moving\r\n            this._front()\r\n            this._consumeEvent( mouseEvent )\r\n\r\n        } else if ( actionMap.back.includes( button ) ) {\r\n\r\n            this._state = State.Moving\r\n            this._back()\r\n            this._consumeEvent( mouseEvent )\r\n\r\n        } else if ( actionMap.up.includes( button ) ) {\r\n\r\n            this._state = State.Moving\r\n            this._up()\r\n            this._consumeEvent( mouseEvent )\r\n\r\n        } else if ( actionMap.down.includes( button ) ) {\r\n\r\n            this._state = State.Moving\r\n            this._down()\r\n            this._consumeEvent( mouseEvent )\r\n\r\n        } else if ( actionMap.left.includes( button ) ) {\r\n\r\n            this._state = State.Moving\r\n            this._left()\r\n            this._consumeEvent( mouseEvent )\r\n\r\n        } else if ( actionMap.right.includes( button ) ) {\r\n\r\n            this._state = State.Moving\r\n            this._right()\r\n            this._consumeEvent( mouseEvent )\r\n\r\n        } else if ( actionMap.rotate.includes( button ) ) {\r\n\r\n            this._state = State.Rotating\r\n            this._consumeEvent( mouseEvent )\r\n\r\n        } else if ( actionMap.pan.includes( button ) ) {\r\n\r\n            this._state = State.Panning\r\n            this._consumeEvent( mouseEvent )\r\n\r\n        } else if ( actionMap.roll.left.includes( button ) ) {\r\n\r\n            this._state = State.Rolling\r\n            this._consumeEvent( mouseEvent )\r\n\r\n        } else if ( actionMap.roll.right.includes( button ) ) {\r\n\r\n            this._state = State.Rolling\r\n            this._consumeEvent( mouseEvent )\r\n\r\n        } else if ( actionMap.zoom.includes( button ) ) {\r\n\r\n            this._state = State.Zooming\r\n            this._consumeEvent( mouseEvent )\r\n\r\n        } else {\r\n\r\n            this._state = State.None\r\n\r\n        }\r\n\r\n    }\r\n\r\n    _onMouseMove ( mouseEvent ) {\r\n\r\n        if ( !this.enabled || this._state === State.None ) { return }\r\n        mouseEvent.preventDefault()\r\n\r\n        const state = this._state\r\n        const delta = {\r\n            x: mouseEvent.movementX || mouseEvent.mozMovementX || mouseEvent.webkitMovementX || 0,\r\n            y: mouseEvent.movementY || mouseEvent.mozMovementY || mouseEvent.webkitMovementY || 0\r\n        }\r\n\r\n        switch ( state ) {\r\n\r\n            case State.Moving:\r\n                break\r\n\r\n            case State.Rotating:\r\n                this._rotate( delta )\r\n                this._consumeEvent( mouseEvent )\r\n                break\r\n\r\n            case State.Panning:\r\n                this._pan( delta )\r\n                this._consumeEvent( mouseEvent )\r\n                break\r\n\r\n            case State.Rolling:\r\n                this._roll( delta )\r\n                this._consumeEvent( mouseEvent )\r\n                break\r\n\r\n            case State.Zooming:\r\n                this._zoom( delta )\r\n                this._consumeEvent( mouseEvent )\r\n                break\r\n\r\n            default:\r\n                throw new RangeError( `Unknown state: ${state}` )\r\n\r\n        }\r\n\r\n    }\r\n\r\n    //todo allow other displacement from wheel\r\n    _onMouseWheel ( mouseEvent ) {\r\n\r\n        if ( !this.enabled ) { return }\r\n        mouseEvent.preventDefault()\r\n\r\n        const delta = mouseEvent.wheelDelta || mouseEvent.deltaY\r\n        this._zoom( delta )\r\n        this._consumeEvent( mouseEvent )\r\n\r\n    }\r\n\r\n    _onMouseUp ( mouseEvent ) {\r\n\r\n        if ( !this.enabled ) { return }\r\n        mouseEvent.preventDefault()\r\n\r\n        this._state = State.None\r\n\r\n    }\r\n\r\n    _onDblClick ( mouseEvent ) {\r\n\r\n        if ( !this.enabled ) { return }\r\n        mouseEvent.preventDefault()\r\n\r\n        this.logger.warn( 'CameraControls: Double click events is not implemented yet, sorry for the disagreement.' )\r\n\r\n    }\r\n\r\n    // Positional methods\r\n    _front () {\r\n\r\n        if ( !this.canMove || !this.canFront ) { return }\r\n\r\n        if ( this._camera.type === 'PerspectiveCamera' ) {\r\n\r\n            const cameraDirection = FRONT.clone().applyQuaternion( this._camera.quaternion )\r\n            const displacement    = ( this._trackPath ) ? this._getPathDisplacement( cameraDirection ) : cameraDirection.multiplyScalar( this.frontSpeed )\r\n\r\n            this._camera.position.add( displacement )\r\n            this._target.position.add( displacement )\r\n\r\n        } else {\r\n\r\n            // Todo: ...\r\n\r\n        }\r\n\r\n        this.dispatchEvent( { type: 'move' } )\r\n        this.dispatchEvent( { type: 'change' } )\r\n\r\n    }\r\n\r\n    _back () {\r\n\r\n        if ( !this.canMove || !this.canBack ) { return }\r\n\r\n        if ( this._camera.type === 'PerspectiveCamera' ) {\r\n\r\n            const cameraDirection = BACK.clone().applyQuaternion( this._camera.quaternion )\r\n            const displacement    = ( this._trackPath ) ? this._getPathDisplacement( cameraDirection ) : cameraDirection.multiplyScalar( this.backSpeed )\r\n\r\n            this._camera.position.add( displacement )\r\n            this._target.position.add( displacement )\r\n\r\n        } else {\r\n\r\n            // Todo: ...\r\n\r\n        }\r\n\r\n        this.dispatchEvent( { type: 'move' } )\r\n        this.dispatchEvent( { type: 'change' } )\r\n\r\n    }\r\n\r\n    _up () {\r\n\r\n        if ( !this.canMove || !this.canUp ) { return }\r\n\r\n        if ( this._camera.type === 'PerspectiveCamera' ) {\r\n\r\n            const displacement = UP.clone()\r\n                                   .applyQuaternion( this._camera.quaternion )\r\n                                   .multiplyScalar( this.upSpeed )\r\n\r\n            this._camera.position.add( displacement )\r\n            this._target.position.add( displacement )\r\n\r\n        } else {\r\n\r\n            // Todo: ...\r\n\r\n        }\r\n\r\n        this.dispatchEvent( { type: 'move' } )\r\n        this.dispatchEvent( { type: 'change' } )\r\n\r\n    }\r\n\r\n    _down () {\r\n\r\n        if ( !this.canMove || !this.canDown ) { return }\r\n\r\n        if ( this._camera.type === 'PerspectiveCamera' ) {\r\n\r\n            const displacement = DOWN.clone()\r\n                                     .applyQuaternion( this._camera.quaternion )\r\n                                     .multiplyScalar( this.downSpeed )\r\n\r\n            this._camera.position.add( displacement )\r\n            this._target.position.add( displacement )\r\n\r\n        } else {\r\n\r\n            // Todo: ...\r\n\r\n        }\r\n\r\n        this.dispatchEvent( { type: 'move' } )\r\n        this.dispatchEvent( { type: 'change' } )\r\n\r\n    }\r\n\r\n    _left () {\r\n\r\n        if ( !this.canMove || !this.canLeft ) { return }\r\n\r\n        if ( this._camera.type === 'PerspectiveCamera' ) {\r\n\r\n            const displacement = LEFT.clone()\r\n                                     .applyQuaternion( this._camera.quaternion )\r\n                                     .multiplyScalar( this.leftSpeed )\r\n\r\n            this._camera.position.add( displacement )\r\n            this._target.position.add( displacement )\r\n\r\n        } else {\r\n\r\n            // Todo: ...\r\n\r\n        }\r\n\r\n        this.dispatchEvent( { type: 'move' } )\r\n        this.dispatchEvent( { type: 'change' } )\r\n\r\n    }\r\n\r\n    _right () {\r\n\r\n        if ( !this.canMove || !this.canRight ) { return }\r\n\r\n        if ( this._camera.type === 'PerspectiveCamera' ) {\r\n\r\n            const displacement = RIGHT.clone()\r\n                                      .applyQuaternion( this._camera.quaternion )\r\n                                      .multiplyScalar( this.rightSpeed )\r\n\r\n            this._camera.position.add( displacement )\r\n            this._target.position.add( displacement )\r\n\r\n        } else {\r\n\r\n            // Todo: ...\r\n\r\n        }\r\n\r\n        this.dispatchEvent( { type: 'move' } )\r\n        this.dispatchEvent( { type: 'change' } )\r\n\r\n    }\r\n\r\n    _rotate ( delta ) {\r\n\r\n        if ( !this.canRotate ) { return }\r\n\r\n        if ( this._camera.type === 'PerspectiveCamera' ) {\r\n\r\n            const cameraPosition = this._camera.position\r\n            const targetPosition = this._target.position\r\n            const distanceTo     = cameraPosition.distanceTo( targetPosition )\r\n            const targetToCamera = new Vector3().subVectors( cameraPosition, targetPosition ).normalize()\r\n            const rotateSpeed    = this.rotateSpeed\r\n\r\n            switch ( this._mode ) {\r\n\r\n                case CameraControlMode.FirstPerson:\r\n\r\n                    //        const normalizedX = (delta.x / this._domElement.clientWidth) - 1.0\r\n                    //        const normalizedY = (delta.y / this._domElement.clientHeight) - 1.0\r\n                    const normalizedX = delta.x\r\n                    const normalizedY = delta.y\r\n\r\n                    const newTargetPosition = new Vector3( -normalizedX, normalizedY, 0 )\r\n                        .applyQuaternion( this._camera.quaternion )\r\n                        .multiplyScalar( rotateSpeed )\r\n                        .add( targetPosition )\r\n\r\n                    // Protect against owl head\r\n                    const cameraToTargetDirection = new Vector3().subVectors( newTargetPosition, cameraPosition ).normalize()\r\n                    const dotProductUp            = UP.clone().dot( cameraToTargetDirection )\r\n                    const dotProductRight         = RIGHT.clone().dot( cameraToTargetDirection )\r\n\r\n                    const max = 0.97\r\n                    if ( dotProductUp < -max || dotProductUp > max || dotProductRight < -2 || dotProductRight > 2 ) {\r\n                        return\r\n                    }\r\n\r\n                    // Care the target distance will change the sensitivity of mouse move\r\n                    // and\r\n                    // We need to set target at pre-defined distance of camera\r\n                    // because if we use newTargetPosition the distance between\r\n                    // camera and target will increase silently over the time\r\n                    const lockedTargetPostion = cameraToTargetDirection.multiplyScalar( 1.0 ) // Todo: option\r\n                                                                       .add( cameraPosition )\r\n                    this.setTargetPosition( lockedTargetPostion )\r\n\r\n                    break\r\n\r\n                case CameraControlMode.Orbit:\r\n\r\n                    // restrict theta and phi between desired limits\r\n                    const spherical = new Spherical().setFromVector3( targetToCamera )\r\n\r\n                    const newTheta  = spherical.theta + ( degreesToRadians( -delta.x ) * rotateSpeed )\r\n                    const newPhi    = spherical.phi + ( degreesToRadians( -delta.y ) * rotateSpeed )\r\n                    spherical.theta = Math.max( this.minAzimuthAngle, Math.min( this.maxAzimuthAngle, newTheta ) )\r\n                    spherical.phi   = Math.max( this.minPolarAngle, Math.min( this.maxPolarAngle, newPhi ) )\r\n\r\n                    const newPosition = new Vector3().setFromSpherical( spherical )\r\n                                                     .multiplyScalar( distanceTo )\r\n                                                     .add( targetPosition )\r\n\r\n                    this.setCameraPosition( newPosition )\r\n\r\n                    break\r\n\r\n                default:\r\n                    throw new RangeError( `Unamanaged rotation for camera mode ${this._mode}` )\r\n\r\n            }\r\n\r\n        } else {\r\n\r\n            // Todo: ...\r\n\r\n        }\r\n\r\n        this.dispatchEvent( { type: 'rotate' } )\r\n        this.dispatchEvent( { type: 'change' } )\r\n\r\n    }\r\n\r\n    _pan ( delta ) {\r\n\r\n        if ( !this.canPan ) { return }\r\n\r\n        if ( this._camera.type === 'PerspectiveCamera' ) {\r\n\r\n            // Take into account the distance between the camera and his target\r\n            const cameraPosition = this._camera.position\r\n            const targetPosition = this._target.position\r\n            const distanceTo     = cameraPosition.distanceTo( targetPosition )\r\n            const displacement   = new Vector3( -delta.x, delta.y, 0 ).applyQuaternion( this._camera.quaternion )\r\n                                                                      .multiplyScalar( this.panSpeed * distanceTo )\r\n\r\n            this._camera.position.add( displacement )\r\n            this._target.position.add( displacement )\r\n\r\n        } else {\r\n\r\n            // Todo: ...\r\n\r\n        }\r\n\r\n        this.dispatchEvent( { type: 'pan' } )\r\n        this.dispatchEvent( { type: 'change' } )\r\n\r\n    }\r\n\r\n    _roll ( delta ) {\r\n\r\n        if ( !this.canRoll ) { return }\r\n\r\n        if ( this._camera.type === 'PerspectiveCamera' ) {\r\n\r\n            const cameraPosition = this._camera.position\r\n            const targetPosition = this._target.position\r\n            const targetToCamera = new Vector3().subVectors( cameraPosition, targetPosition ).normalize()\r\n            const angle          = delta * this.rollSpeed\r\n\r\n            this._camera.up.applyAxisAngle( targetToCamera, angle )\r\n            this._camera.lookAt( targetPosition )\r\n            //or\r\n            //        this._camera.rotateOnAxis( targetToCamera, angle )\r\n\r\n        } else {\r\n\r\n            // Todo: ...\r\n\r\n        }\r\n\r\n        this.dispatchEvent( { type: 'roll' } )\r\n        this.dispatchEvent( { type: 'change' } )\r\n\r\n    }\r\n\r\n    _zoom ( delta ) {\r\n\r\n        if ( !this.canZoom ) { return }\r\n\r\n        if ( this._camera.type === 'PerspectiveCamera' ) {\r\n\r\n            switch ( this._mode ) {\r\n\r\n                case CameraControlMode.FirstPerson:\r\n\r\n                    if ( delta > 0 ) {\r\n                        this._camera.fov--\r\n                    } else {\r\n                        this._camera.fov++\r\n                    }\r\n\r\n                    this._camera.updateProjectionMatrix()\r\n\r\n                    break\r\n\r\n                case CameraControlMode.Orbit:\r\n\r\n                    const cameraPosition                 = this._camera.position\r\n                    const targetPosition                 = this._target.position\r\n                    const distanceBetweenCameraAndTarget = cameraPosition.distanceTo( targetPosition )\r\n                    const displacement                   = FRONT.clone()\r\n                                                                .applyQuaternion( this._camera.quaternion )\r\n                                                                .multiplyScalar( delta * this.zoomSpeed * distanceBetweenCameraAndTarget )\r\n\r\n                    let cameraNextPosition                   = cameraPosition.clone().add( displacement )\r\n                    const currentCameraToNextCameraDirection = new Vector3().subVectors( cameraNextPosition, cameraPosition ).normalize()\r\n                    const targetToCurrentCameraDirection     = new Vector3().subVectors( cameraPosition, targetPosition ).normalize()\r\n                    const targetToNextCameraDirection        = new Vector3().subVectors( cameraNextPosition, targetPosition ).normalize()\r\n                    const dotCurrentDirection                = currentCameraToNextCameraDirection.dot( targetToCurrentCameraDirection )\r\n                    const dotNextDirection                   = currentCameraToNextCameraDirection.dot( targetToNextCameraDirection )\r\n                    const nextCameraToTargetSquaredDistance  = cameraNextPosition.distanceToSquared( targetPosition )\r\n\r\n                    if ( dotCurrentDirection < 0 && ( ( nextCameraToTargetSquaredDistance < ( this.zoomMinimum * this.zoomMinimum ) ) || dotNextDirection > 0 ) ) {\r\n\r\n                        cameraNextPosition = targetToCurrentCameraDirection.clone()\r\n                                                                           .multiplyScalar( this.zoomMinimum )\r\n                                                                           .add( targetPosition )\r\n\r\n                    }\r\n\r\n                    this._camera.position.copy( cameraNextPosition )\r\n\r\n                    break\r\n\r\n                default:\r\n                    throw new RangeError( `Invalid camera control mode parameter: ${this._mode}` )\r\n\r\n            }\r\n\r\n        } else {\r\n\r\n            // Todo: ...\r\n\r\n        }\r\n\r\n        this.dispatchEvent( { type: 'zoom' } )\r\n        this.dispatchEvent( { type: 'change' } )\r\n\r\n    }\r\n\r\n    _lookAt ( direction ) {\r\n\r\n        if ( !this.canLookAt ) { return }\r\n\r\n        if ( this._camera.type === 'PerspectiveCamera' ) {\r\n\r\n            const _direction     = direction.clone()\r\n            const cameraPosition = this._camera.position\r\n            const targetPosition = this._target.position\r\n            const distanceTo     = cameraPosition.distanceTo( targetPosition )\r\n\r\n            switch ( this.mode ) {\r\n\r\n                case CameraControlMode.FirstPerson:\r\n                    // The result is inverted in front of Orbit type but is correct in FP mode except up and down so invert y axis\r\n                    _direction.y            = -( _direction.y )\r\n                    const newTargetPosition = _direction.multiplyScalar( distanceTo ).add( cameraPosition )\r\n                    this.setTargetPosition( newTargetPosition )\r\n                    break\r\n\r\n                case CameraControlMode.Orbit:\r\n                    const newCameraPosition = _direction.multiplyScalar( distanceTo ).add( targetPosition )\r\n                    this.setCameraPosition( newCameraPosition )\r\n                    break\r\n\r\n                default:\r\n                    throw new RangeError( `Invalid camera control mode parameter: ${this._mode}` )\r\n\r\n            }\r\n\r\n        } else {\r\n\r\n            // Todo: ...\r\n\r\n        }\r\n\r\n        this.dispatchEvent( { type: 'lookAt' } )\r\n        this.dispatchEvent( { type: 'change' } )\r\n\r\n    }\r\n\r\n    // Helpers\r\n    _initPathDisplacement () {\r\n\r\n        //todo: project on closest path position\r\n        //todo: move on path in the FRONT camera direction\r\n\r\n        if ( isEmptyArray( this._paths ) ) {\r\n            this.logger.warn( 'Try to init path displacement without any paths' )\r\n            return\r\n        }\r\n\r\n        if ( isNotDefined( this._currentPath ) ) {\r\n\r\n            this._currentPathIndex  = 0\r\n            this._currentPathOffset = 0\r\n            this._currentPath       = this._paths[ 0 ]\r\n\r\n        }\r\n\r\n        this._currentPathPosition = this._currentPath.getPointAt( this._currentPathOffset )\r\n\r\n        switch ( this._mode ) {\r\n\r\n            case CameraControlMode.FirstPerson:\r\n\r\n                if ( this._lockedTarget ) {\r\n\r\n                    const displacement = new Vector3().subVectors( this._currentPathPosition, this.camera.position )\r\n                    this._camera.position.add( displacement )\r\n                    this._target.position.add( displacement )\r\n\r\n                } else {\r\n\r\n                    this.setCameraPosition( this._currentPathPosition )\r\n\r\n                }\r\n\r\n                break\r\n\r\n            case CameraControlMode.Orbit:\r\n\r\n                if ( this._lockedTarget ) {\r\n\r\n                    const displacement = new Vector3().subVectors( this._currentPathPosition, this.target.position )\r\n                    this._camera.position.add( displacement )\r\n                    this._target.position.add( displacement )\r\n\r\n                } else {\r\n\r\n                    this.setTargetPosition( this._currentPathPosition )\r\n\r\n                }\r\n\r\n                break\r\n\r\n            default:\r\n                throw new RangeError( `Invalid camera control _mode parameter: ${this._mode}` )\r\n\r\n        }\r\n\r\n    }\r\n\r\n    _getPathDisplacement ( cameraDirection ) {\r\n\r\n        let displacement = null\r\n\r\n        //Todo: add options to move in camera direction or not\r\n        // try a default positive progress on path\r\n        const currentPathPosition = this._currentPathPosition\r\n\r\n        const nextPositiveOffset   = this._currentPathOffset + this._cameraJump\r\n        const positiveOffset       = ( nextPositiveOffset < 1 ) ? nextPositiveOffset : 1\r\n        const positivePathPosition = this._currentPath.getPointAt( positiveOffset )\r\n        const positiveDisplacement = new Vector3().subVectors( positivePathPosition, currentPathPosition )\r\n        const positiveDirection    = positiveDisplacement.clone().normalize()\r\n        const positiveDot          = cameraDirection.dot( positiveDirection )\r\n\r\n        const nextNegativeOffset   = this._currentPathOffset - this._cameraJump\r\n        const negativeOffset       = ( nextNegativeOffset > 0 ) ? nextNegativeOffset : 0\r\n        const negativePathPosition = this._currentPath.getPointAt( negativeOffset )\r\n        const negativeDisplacement = new Vector3().subVectors( negativePathPosition, currentPathPosition )\r\n        const negativeDirection    = negativeDisplacement.clone().normalize()\r\n        const negativeDot          = cameraDirection.dot( negativeDirection )\r\n\r\n        if ( positiveDot === 0 && negativeDot < 0 ) {\r\n\r\n            // Search closest path\r\n            const pathExtremityMap = this._getDirectionsMap()\r\n\r\n            let indexOfBestPath  = undefined\r\n            let bestDisplacement = undefined\r\n            let bestDotProduct   = -1\r\n            let isFromStart      = undefined\r\n            pathExtremityMap.forEach( ( pathExtremity ) => {\r\n\r\n                const pathIndex = pathExtremity.index\r\n\r\n                const startDisplacement = pathExtremity.startDisplacement\r\n                if ( startDisplacement ) {\r\n\r\n                    const startDirection = startDisplacement.clone().normalize()\r\n                    const startDot       = cameraDirection.dot( startDirection )\r\n\r\n                    if ( startDot > bestDotProduct ) {\r\n\r\n                        indexOfBestPath  = pathIndex\r\n                        bestDisplacement = startDisplacement\r\n                        bestDotProduct   = startDot\r\n                        isFromStart      = true\r\n\r\n                    }\r\n\r\n                }\r\n\r\n                const endDisplacement = pathExtremity.endDisplacement\r\n                if ( endDisplacement ) {\r\n\r\n                    const endDirection = endDisplacement.clone().normalize()\r\n                    const endDot       = cameraDirection.dot( endDirection )\r\n\r\n                    if ( endDot > bestDotProduct ) {\r\n                        indexOfBestPath  = pathIndex\r\n                        bestDisplacement = endDisplacement\r\n                        bestDotProduct   = endDot\r\n                        isFromStart      = false\r\n                    }\r\n\r\n                }\r\n\r\n            } )\r\n\r\n            if ( indexOfBestPath !== undefined ) {\r\n\r\n                this._currentPathIndex    = indexOfBestPath\r\n                this._currentPath         = this._paths[ this._currentPathIndex ]\r\n                this._currentPathOffset   = ( isFromStart ) ? this._cameraJump : 1 - this._cameraJump\r\n                this._currentPathPosition = this._currentPath.getPointAt( this._currentPathOffset )\r\n                displacement              = bestDisplacement\r\n\r\n            } else {\r\n\r\n                this.logger.warn( 'Reach path end.' )\r\n                displacement = new Vector3()\r\n\r\n            }\r\n\r\n        } else if ( positiveDot > 0 && negativeDot <= 0 ) {\r\n\r\n            displacement              = positiveDisplacement\r\n            this._currentPathOffset   = positiveOffset\r\n            this._currentPathPosition = positivePathPosition\r\n\r\n        } else if ( positiveDot <= 0 && negativeDot > 0 ) {\r\n\r\n            displacement              = negativeDisplacement\r\n            this._currentPathOffset   = negativeOffset\r\n            this._currentPathPosition = negativePathPosition\r\n\r\n        } else if ( positiveDot < 0 && negativeDot === 0 ) {\r\n\r\n            // Search closest path\r\n            const pathExtremityMap = this._getDirectionsMap()\r\n\r\n            let indexOfBestPath  = undefined\r\n            let bestDisplacement = undefined\r\n            let bestDotProduct   = -1\r\n            let isFromStart      = undefined\r\n            pathExtremityMap.forEach( ( pathExtremity ) => {\r\n\r\n                const pathIndex = pathExtremity.index\r\n\r\n                const startDisplacement = pathExtremity.startDisplacement\r\n                if ( startDisplacement ) {\r\n\r\n                    const startDirection = startDisplacement.clone().normalize()\r\n                    const startDot       = cameraDirection.dot( startDirection )\r\n\r\n                    if ( startDot > bestDotProduct ) {\r\n\r\n                        indexOfBestPath  = pathIndex\r\n                        bestDisplacement = startDisplacement\r\n                        bestDotProduct   = startDot\r\n                        isFromStart      = true\r\n\r\n                    }\r\n\r\n                }\r\n\r\n                const endDisplacement = pathExtremity.endDisplacement\r\n                if ( endDisplacement ) {\r\n\r\n                    const endDirection = endDisplacement.clone().normalize()\r\n                    const endDot       = cameraDirection.dot( endDirection )\r\n\r\n                    if ( endDot > bestDotProduct ) {\r\n                        indexOfBestPath  = pathIndex\r\n                        bestDisplacement = endDisplacement\r\n                        bestDotProduct   = endDot\r\n                        isFromStart      = false\r\n                    }\r\n\r\n                }\r\n\r\n            } )\r\n\r\n            if ( indexOfBestPath !== undefined ) {\r\n\r\n                this._currentPathIndex    = indexOfBestPath\r\n                this._currentPath         = this._paths[ this._currentPathIndex ]\r\n                this._currentPathOffset   = ( isFromStart ) ? this._cameraJump : 1 - this._cameraJump\r\n                this._currentPathPosition = this._currentPath.getPointAt( this._currentPathOffset )\r\n                displacement              = bestDisplacement\r\n\r\n            } else {\r\n\r\n                this.logger.warn( 'Reach path start.' )\r\n                displacement = new Vector3()\r\n\r\n            }\r\n\r\n        } else if ( ( positiveDot < 0 && negativeDot < 0 ) || ( positiveDot > 0 && negativeDot > 0 ) ) { // Could occurs in high sharp curve with big move step\r\n\r\n            if ( positiveDot > negativeDot ) {\r\n\r\n                displacement              = positiveDisplacement\r\n                this._currentPathOffset   = positiveOffset\r\n                this._currentPathPosition = positivePathPosition\r\n\r\n            } else {\r\n\r\n                displacement              = negativeDisplacement\r\n                this._currentPathOffset   = negativeOffset\r\n                this._currentPathPosition = negativePathPosition\r\n\r\n            }\r\n\r\n        } else {\r\n\r\n            this.logger.warn( 'Unable to find correct next path position.' )\r\n            displacement = new Vector3()\r\n\r\n        }\r\n\r\n        return displacement\r\n\r\n    }\r\n\r\n    _getDirectionsMap () {\r\n\r\n        //todo: use cache !!! Could become a complet map with nodes on path network\r\n\r\n        const currentPathPosition = this._currentPathPosition\r\n        const currentIndex        = this._currentPathIndex\r\n        const jump                = this._cameraJump\r\n        const maxDistance         = this._maxJump\r\n\r\n        return this._paths.reduce( ( array, path, index ) => {\r\n\r\n            if ( index === currentIndex ) { return array }\r\n\r\n            const start           = path.getPointAt( 0 )\r\n            const distanceToStart = currentPathPosition.distanceToSquared( start )\r\n            let startDisplacement = undefined\r\n            if ( distanceToStart < maxDistance ) {\r\n                startDisplacement = new Vector3().subVectors( path.getPointAt( jump ), start )\r\n            }\r\n\r\n            const end           = path.getPointAt( 1 )\r\n            const distanceToEnd = currentPathPosition.distanceToSquared( end )\r\n            let endDisplacement = undefined\r\n            if ( distanceToEnd < maxDistance ) {\r\n                endDisplacement = new Vector3().subVectors( path.getPointAt( 1 - jump ), end )\r\n            }\r\n\r\n            if ( startDisplacement || endDisplacement ) {\r\n                array.push( {\r\n                    index,\r\n                    startDisplacement,\r\n                    endDisplacement\r\n                } )\r\n            }\r\n\r\n            return array\r\n\r\n        }, [] )\r\n\r\n    }\r\n\r\n}\r\n\r\nexport {\r\n    CameraControls,\r\n    CameraControlMode\r\n}\r\n\r\n//// Extra work\r\n\r\n//\r\n//// t: current time, b: begInnIng value, c: change In value, d: duration\r\n//const ease = {\r\n//    def:              'easeOutQuad',\r\n//    easeInQuad:       function ( x, t, b, c, d ) {\r\n//        return c * (t /= d) * t + b;\r\n//    },\r\n//    easeOutQuad:      function ( x, t, b, c, d ) {\r\n//        return -c * (t /= d) * (t - 2) + b;\r\n//    },\r\n//    easeInOutQuad:    function ( x, t, b, c, d ) {\r\n//        if ( (t /= d / 2) < 1 ) {\r\n//            return c / 2 * t * t + b;\r\n//        }\r\n//        return -c / 2 * ((--t) * (t - 2) - 1) + b;\r\n//    },\r\n//    easeInCubic:      function ( x, t, b, c, d ) {\r\n//        return c * (t /= d) * t * t + b;\r\n//    },\r\n//    easeOutCubic:     function ( x, t, b, c, d ) {\r\n//        return c * ((t = t / d - 1) * t * t + 1) + b;\r\n//    },\r\n//    easeInOutCubic:   function ( x, t, b, c, d ) {\r\n//        if ( (t /= d / 2) < 1 ) {\r\n//            return c / 2 * t * t * t + b;\r\n//        }\r\n//        return c / 2 * ((t -= 2) * t * t + 2) + b;\r\n//    },\r\n//    easeInQuart:      function ( x, t, b, c, d ) {\r\n//        return c * (t /= d) * t * t * t + b;\r\n//    },\r\n//    easeOutQuart:     function ( x, t, b, c, d ) {\r\n//        return -c * ((t = t / d - 1) * t * t * t - 1) + b;\r\n//    },\r\n//    easeInOutQuart:   function ( x, t, b, c, d ) {\r\n//        if ( (t /= d / 2) < 1 ) {\r\n//            return c / 2 * t * t * t * t + b;\r\n//        }\r\n//        return -c / 2 * ((t -= 2) * t * t * t - 2) + b;\r\n//    },\r\n//    easeInQuint:      function ( x, t, b, c, d ) {\r\n//        return c * (t /= d) * t * t * t * t + b;\r\n//    },\r\n//    easeOutQuint:     function ( x, t, b, c, d ) {\r\n//        return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\r\n//    },\r\n//    easeInOutQuint:   function ( x, t, b, c, d ) {\r\n//        if ( (t /= d / 2) < 1 ) {\r\n//            return c / 2 * t * t * t * t * t + b;\r\n//        }\r\n//        return c / 2 * ((t -= 2) * t * t * t * t + 2) + b;\r\n//    },\r\n//    easeInSine:       function ( x, t, b, c, d ) {\r\n//        return -c * Math.cos( t / d * (Math.PI / 2) ) + c + b;\r\n//    },\r\n//    easeOutSine:      function ( x, t, b, c, d ) {\r\n//        return c * Math.sin( t / d * (Math.PI / 2) ) + b;\r\n//    },\r\n//    easeInOutSine:    function ( x, t, b, c, d ) {\r\n//        return -c / 2 * (Math.cos( Math.PI * t / d ) - 1) + b;\r\n//    },\r\n//    easeInExpo:       function ( x, t, b, c, d ) {\r\n//        return (t == 0) ? b : c * Math.pow( 2, 10 * (t / d - 1) ) + b;\r\n//    },\r\n//    easeOutExpo:      function ( x, t, b, c, d ) {\r\n//        return (t == d) ? b + c : c * (-Math.pow( 2, -10 * t / d ) + 1) + b;\r\n//    },\r\n//    easeInOutExpo:    function ( x, t, b, c, d ) {\r\n//        if ( t == 0 ) {\r\n//            return b;\r\n//        }\r\n//        if ( t == d ) {\r\n//            return b + c;\r\n//        }\r\n//        if ( (t /= d / 2) < 1 ) {\r\n//            return c / 2 * Math.pow( 2, 10 * (t - 1) ) + b;\r\n//        }\r\n//        return c / 2 * (-Math.pow( 2, -10 * --t ) + 2) + b;\r\n//    },\r\n//    easeInCirc:       function ( x, t, b, c, d ) {\r\n//        return -c * (Math.sqrt( 1 - (t /= d) * t ) - 1) + b;\r\n//    },\r\n//    easeOutCirc:      function ( x, t, b, c, d ) {\r\n//        return c * Math.sqrt( 1 - (t = t / d - 1) * t ) + b;\r\n//    },\r\n//    easeInOutCirc:    function ( x, t, b, c, d ) {\r\n//        if ( (t /= d / 2) < 1 ) {\r\n//            return -c / 2 * (Math.sqrt( 1 - t * t ) - 1) + b;\r\n//        }\r\n//        return c / 2 * (Math.sqrt( 1 - (t -= 2) * t ) + 1) + b;\r\n//    },\r\n//    easeInElastic:    function ( x, t, b, c, d ) {\r\n//        var s = 1.70158;\r\n//        var p = 0;\r\n//        var a = c;\r\n//        if ( t == 0 ) {\r\n//            return b;\r\n//        }\r\n//        if ( (t /= d) == 1 ) {\r\n//            return b + c;\r\n//        }\r\n//        if ( !p ) {\r\n//            p = d * .3;\r\n//        }\r\n//        if ( a < Math.abs( c ) ) {\r\n//            a     = c;\r\n//            var s = p / 4;\r\n//        }\r\n//        else {\r\n//            var s = p / (2 * Math.PI) * Math.asin( c / a );\r\n//        }\r\n//        return -(a * Math.pow( 2, 10 * (t -= 1) ) * Math.sin( (t * d - s) * (2 * Math.PI) / p )) + b;\r\n//    },\r\n//    easeOutElastic:   function ( x, t, b, c, d ) {\r\n//        var s = 1.70158;\r\n//        var p = 0;\r\n//        var a = c;\r\n//        if ( t == 0 ) {\r\n//            return b;\r\n//        }\r\n//        if ( (t /= d) == 1 ) {\r\n//            return b + c;\r\n//        }\r\n//        if ( !p ) {\r\n//            p = d * .3;\r\n//        }\r\n//        if ( a < Math.abs( c ) ) {\r\n//            a     = c;\r\n//            var s = p / 4;\r\n//        }\r\n//        else {\r\n//            var s = p / (2 * Math.PI) * Math.asin( c / a );\r\n//        }\r\n//        return a * Math.pow( 2, -10 * t ) * Math.sin( (t * d - s) * (2 * Math.PI) / p ) + c + b;\r\n//    },\r\n//    easeInOutElastic: function ( x, t, b, c, d ) {\r\n//        var s = 1.70158;\r\n//        var p = 0;\r\n//        var a = c;\r\n//        if ( t == 0 ) {\r\n//            return b;\r\n//        }\r\n//        if ( (t /= d / 2) == 2 ) {\r\n//            return b + c;\r\n//        }\r\n//        if ( !p ) {\r\n//            p = d * (.3 * 1.5);\r\n//        }\r\n//        if ( a < Math.abs( c ) ) {\r\n//            a     = c;\r\n//            var s = p / 4;\r\n//        }\r\n//        else {\r\n//            var s = p / (2 * Math.PI) * Math.asin( c / a );\r\n//        }\r\n//        if ( t < 1 ) {\r\n//            return -.5 * (a * Math.pow( 2, 10 * (t -= 1) ) * Math.sin( (t * d - s) * (2 * Math.PI) / p )) + b;\r\n//        }\r\n//        return a * Math.pow( 2, -10 * (t -= 1) ) * Math.sin( (t * d - s) * (2 * Math.PI) / p ) * .5 + c + b;\r\n//    },\r\n//    easeInBack:       function ( x, t, b, c, d, s ) {\r\n//        if ( s == undefined ) {\r\n//            s = 1.70158;\r\n//        }\r\n//        return c * (t /= d) * t * ((s + 1) * t - s) + b;\r\n//    },\r\n//    easeOutBack:      function ( x, t, b, c, d, s ) {\r\n//        if ( s == undefined ) {\r\n//            s = 1.70158;\r\n//        }\r\n//        return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\r\n//    },\r\n//    easeInOutBack:    function ( x, t, b, c, d, s ) {\r\n//        if ( s == undefined ) {\r\n//            s = 1.70158;\r\n//        }\r\n//        if ( (t /= d / 2) < 1 ) {\r\n//            return c / 2 * (t * t * (((s *= (1.525)) + 1) * t - s)) + b;\r\n//        }\r\n//        return c / 2 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2) + b;\r\n//    },\r\n//    easeInBounce:     function ( x, t, b, c, d ) {\r\n//        return c - jQuery.easing.easeOutBounce( x, d - t, 0, c, d ) + b;\r\n//    },\r\n//    easeOutBounce:    function ( x, t, b, c, d ) {\r\n//        if ( (t /= d) < (1 / 2.75) ) {\r\n//            return c * (7.5625 * t * t) + b;\r\n//        } else if ( t < (2 / 2.75) ) {\r\n//            return c * (7.5625 * (t -= (1.5 / 2.75)) * t + .75) + b;\r\n//        } else if ( t < (2.5 / 2.75) ) {\r\n//            return c * (7.5625 * (t -= (2.25 / 2.75)) * t + .9375) + b;\r\n//        } else {\r\n//            return c * (7.5625 * (t -= (2.625 / 2.75)) * t + .984375) + b;\r\n//        }\r\n//    },\r\n//    easeInOutBounce:  function ( x, t, b, c, d ) {\r\n//        if ( t < d / 2 ) {\r\n//            return jQuery.easing.easeInBounce( x, t * 2, 0, c, d ) * .5 + b;\r\n//        }\r\n//        return jQuery.easing.easeOutBounce( x, t * 2 - d, 0, c, d ) * .5 + c * .5 + b;\r\n//    }\r\n//}\r\n//\r\n////const accelerations = {\r\n////    Linear: function( speed ) {\r\n////        return speed + acceleration\r\n////    }\r\n////}\r\n//\r\n//class Movement {\r\n//\r\n//    constructor ( min, max, minSpeed, currentSpeed, maxSpeed, acceleration ) {\r\n//\r\n//        this.bounds   = {\r\n//            min: -Infinity,\r\n//            max: Infinity\r\n//        }\r\n//        this.speed    = {\r\n//            min:     0,\r\n//            current: 1.0,\r\n//            max:     Infinity\r\n//        }\r\n//        this.minSpeed = 0.0\r\n//        this.speed    = 1.0\r\n//        this.maxSpeed = Infinity\r\n//\r\n//        this.acceleration = function ( timer ) {\r\n//            return speed += 0.1\r\n//        }\r\n//\r\n//        this.deceleration = function ( timer, speed ) {\r\n//            return speed -= 0.1\r\n//        }\r\n//    }\r\n//\r\n//}\r\n","/**\r\n * @author [Tristan Valcke]{@link https://github.com/Itee}\r\n * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause}\r\n *\r\n * @file Todo\r\n *\r\n * @example Todo\r\n *\r\n */\r\n\r\nimport {\r\n    DefaultLogger as TLogger,\r\n    Keys\r\n}                            from 'itee-client'\r\nimport {\r\n    isNull,\r\n    isUndefined\r\n}                            from 'itee-validators'\r\nimport {\r\n    Camera,\r\n    EventDispatcher,\r\n    MOUSE,\r\n    Object3D,\r\n    Quaternion,\r\n    Vector3\r\n}                            from 'three-full'\r\nimport { CameraControlMode } from './CameraControls'\r\n\r\nconst PI_2    = Math.PI / 2\r\nconst STATE   = {\r\n    NONE:   -1,\r\n    ROTATE: 0,\r\n    ZOOM:   1,\r\n    PAN:    2\r\n}\r\nconst xVector = new Vector3( 1, 0, 0 )\r\nconst yVector = new Vector3( 0, 1, 0 )\r\n\r\n/**\r\n *\r\n * @param camera\r\n * @param domElement\r\n * @constructor\r\n */\r\nfunction CameraPathController ( parameters = {} ) {\r\n\r\n    const _parameters = {\r\n        ...{\r\n            camera:     null,\r\n            target:     new Object3D(),\r\n            mode:       CameraControlMode.Orbit,\r\n            domElement: window\r\n        }, ...parameters\r\n    }\r\n\r\n    const self = this\r\n\r\n    let currentState = STATE.NONE\r\n\r\n    this.camera     = _parameters.camera\r\n    this.cameraJump = 0.0\r\n\r\n    this.paths               = []\r\n    this.pathsMap            = new Map()\r\n    this.currentPath         = undefined\r\n    this.currentPathIndex    = -1\r\n    this.currentPathPosition = 0\r\n\r\n    this.domElement      = ( domElement !== undefined ) ? domElement : document\r\n    this.forwardControl  = this.domElement.children[ 0 ].children[ 0 ].children[ 0 ]\r\n    this.backwardControl = this.domElement.children[ 0 ].children[ 1 ].children[ 0 ]\r\n    this.timeoutId       = undefined\r\n\r\n    // Set to false to disable controls\r\n    this.enabled = false\r\n\r\n    // Set to false to disable zooming\r\n    this.enableZoom = true\r\n    this.zoomSpeed  = 1.0\r\n\r\n    // Set to false to disable rotating\r\n    this.enableRotate = true\r\n    this.rotateSpeed  = 0.0025\r\n\r\n    // Set to false to disable panning\r\n    this.enablePan   = true\r\n    this.keyPanSpeed = 7.0\t// pixels moved per arrow key push\r\n\r\n    this.verticalOffset = 1.5\r\n\r\n    this.keysCodes = {\r\n        forwardKeys:  [ Keys.Z, Keys.UP_ARROW ],\r\n        backwardKeys: [ Keys.S, Keys.BOTTOM_ARROW ]\r\n    }\r\n\r\n    // Mouse\r\n    let mouseQuat = {\r\n        x: new Quaternion(),\r\n        y: new Quaternion()\r\n    }\r\n\r\n    this.mouseButtons = {\r\n        ORBIT: MOUSE.LEFT,\r\n        ZOOM:  MOUSE.MIDDLE,\r\n        PAN:   MOUSE.RIGHT\r\n    }\r\n\r\n    this.orientation = {\r\n        x: 0,\r\n        y: 0\r\n    }\r\n\r\n    // Private methods\r\n    function moveForward () {\r\n\r\n        self.currentPathPosition += self.cameraJump\r\n        if ( self.currentPathPosition > 1 ) {\r\n\r\n            TLogger.log( 'reachEnd' )\r\n            var indexOfNextPath           = self.pathsMap.get( self.currentPathIndex ).indexOfNextPath\r\n            var indexOfNextPathOfNextPath = self.pathsMap.get( indexOfNextPath ).indexOfNextPath\r\n\r\n            // If next path of the next path is the current path that means flows are in the same direction\r\n            // so we need to inverse the current path position to 1 to start at the right position\r\n            if ( indexOfNextPathOfNextPath === self.currentPathIndex ) {\r\n                self.currentPathPosition = 1\r\n            } else {\r\n                self.currentPathPosition = 0\r\n            }\r\n\r\n            self.currentPathIndex = indexOfNextPath\r\n            self.currentPath      = self.paths[ indexOfNextPath ]\r\n\r\n        }\r\n\r\n        self.update()\r\n        self.dispatchEvent( { type: 'move' } )\r\n\r\n    }\r\n\r\n    function moveBackward () {\r\n\r\n        self.currentPathPosition -= self.cameraJump\r\n        if ( self.currentPathPosition < 0 ) {\r\n\r\n            TLogger.log( 'reachStart' )\r\n            var indexOfPreviousPath               = self.pathsMap.get( self.currentPathIndex ).indexOfPreviousPath\r\n            var indexOfPreviousPathOfPreviousPath = self.pathsMap.get( indexOfPreviousPath ).indexOfPreviousPath\r\n\r\n            // If previous path of the previous path is the current path that means flows have the same origin\r\n            // so we need to inverse the current path position to 0 to start at the right position\r\n            if ( indexOfPreviousPathOfPreviousPath === self.currentPathIndex ) {\r\n                self.currentPathPosition = 0\r\n            } else {\r\n                self.currentPathPosition = 1\r\n            }\r\n\r\n            self.currentPathIndex = indexOfPreviousPath\r\n            self.currentPath      = self.paths[ indexOfPreviousPath ]\r\n\r\n        }\r\n\r\n        self.update()\r\n        self.dispatchEvent( { type: 'move' } )\r\n\r\n    }\r\n\r\n    function rotate ( event ) {\r\n\r\n        //TLogger.log( 'handleMouseMoveRotate' )\r\n\r\n        var movementX = event.movementX || event.mozMovementX || event.webkitMovementX || 0\r\n        var movementY = event.movementY || event.mozMovementY || event.webkitMovementY || 0\r\n\r\n        var orientation = self.orientation\r\n        orientation.y += movementX * self.rotateSpeed\r\n        orientation.x += movementY * self.rotateSpeed\r\n        orientation.x   = Math.max( -PI_2, Math.min( PI_2, orientation.x ) )\r\n\r\n        self.update()\r\n        self.dispatchEvent( { type: 'rotate' } )\r\n\r\n    }\r\n\r\n    // Handlers\r\n    function onKeyDown ( event ) {\r\n\r\n        if ( self.enabled === false ) {\r\n            return\r\n        }\r\n\r\n        var pathCurrentPoint = self.currentPath.getPointAt( self.currentPathPosition )\r\n        var pathNextPoint    = undefined\r\n        var pathDirection    = undefined\r\n        if ( self.currentPathPosition + self.cameraJump > 1 ) { // end of path\r\n            pathNextPoint = self.currentPath.getPointAt( self.currentPathPosition - self.cameraJump )\r\n            pathDirection = pathNextPoint.sub( pathCurrentPoint ).normalize().negate()\r\n        } else {\r\n            pathNextPoint = self.currentPath.getPointAt( self.currentPathPosition + self.cameraJump )\r\n            pathDirection = pathNextPoint.sub( pathCurrentPoint ).normalize()\r\n        }\r\n\r\n        var cameraDirection = camera.getWorldDirection().normalize()\r\n        var dotProduct      = cameraDirection.dot( pathDirection )\r\n\r\n        if ( dotProduct > 0 && self.keysCodes.forwardKeys.includes( event.keyCode ) ) {\r\n\r\n            event.preventDefault()\r\n            moveForward()\r\n\r\n        } else if ( dotProduct < 0 && self.keysCodes.forwardKeys.includes( event.keyCode ) ) {\r\n\r\n            event.preventDefault()\r\n            moveBackward()\r\n\r\n        } else if ( dotProduct > 0 && self.keysCodes.backwardKeys.includes( event.keyCode ) ) {\r\n\r\n            event.preventDefault()\r\n            moveBackward()\r\n\r\n        } else if ( dotProduct < 0 && self.keysCodes.backwardKeys.includes( event.keyCode ) ) {\r\n\r\n            event.preventDefault()\r\n            moveForward()\r\n\r\n        } else {\r\n\r\n            TLogger.warn( 'The key event is not implemented for key code: ' + event.keyCode )\r\n\r\n        }\r\n\r\n    }\r\n\r\n    function onKeyUp ( event ) {\r\n\r\n        if ( self.enabled === false ) {\r\n            return\r\n        }\r\n\r\n        if ( !self.keysCodes.forwardKeys.includes( event.keyCode ) && !self.keysCodes.backwardKeys.includes( event.keyCode ) ) {\r\n            return\r\n        }\r\n\r\n        if ( event ) { event.preventDefault() }\r\n\r\n        self.dispatchEvent( { type: 'moveEnd' } )\r\n\r\n    }\r\n\r\n    function onMouseDown ( event ) {\r\n\r\n        if ( self.enabled === false ) {\r\n            return\r\n        }\r\n\r\n        event.preventDefault()\r\n\r\n        if ( self.enableRotate === true && event.button === self.mouseButtons.ORBIT ) {\r\n\r\n            currentState = STATE.ROTATE\r\n\r\n        } else if ( self.enableZoom === true && event.button === self.mouseButtons.ZOOM ) {\r\n\r\n            // state = STATE.DOLLY\r\n\r\n        } else if ( self.enablePan === true && event.button === self.mouseButtons.PAN ) {\r\n\r\n            // state = STATE.PAN\r\n\r\n        }\r\n\r\n    }\r\n\r\n    function onMouseMove ( event ) {\r\n\r\n        if ( self.enabled === false ) {\r\n            return\r\n        }\r\n\r\n        event.preventDefault()\r\n\r\n        if ( currentState === STATE.ROTATE ) {\r\n\r\n            rotate( event )\r\n\r\n        } else if ( currentState === STATE.DOLLY ) {\r\n\r\n            // handleMouseMoveDolly( event )\r\n\r\n        } else if ( currentState === STATE.PAN ) {\r\n\r\n            // handleMouseMovePan( event )\r\n\r\n        }\r\n\r\n    }\r\n\r\n    function onMouseUp ( event ) {\r\n\r\n        if ( self.enabled === false ) {\r\n            return\r\n        }\r\n\r\n        if ( event ) { event.preventDefault() }\r\n\r\n        currentState = STATE.NONE\r\n\r\n        self.dispatchEvent( { type: 'rotateEnd' } )\r\n\r\n    }\r\n\r\n    function onForward ( event ) {\r\n\r\n        clearTimeout( self.timeoutId )\r\n\r\n        event.keyCode = Keys.UP_ARROW\r\n        onKeyDown( event )\r\n\r\n        self.timeoutId = setTimeout( onKeyUp.bind( self ), 750 )\r\n\r\n    }\r\n\r\n    function onBackward ( event ) {\r\n\r\n        clearTimeout( self.timeoutId )\r\n\r\n        event.keyCode = Keys.BOTTOM_ARROW\r\n        onKeyDown( event )\r\n\r\n        self.timeoutId = setTimeout( onKeyUp.bind( self ), 750 )\r\n\r\n    }\r\n\r\n    // Public function that access private methods\r\n    this.update = function () {\r\n\r\n        if ( this.enabled === false ) {\r\n            return\r\n        }\r\n\r\n        // Update position\r\n        var newPosition        = this.currentPath.getPointAt( this.currentPathPosition )\r\n        this.camera.position.x = newPosition.x\r\n        this.camera.position.y = newPosition.y + this.verticalOffset\r\n        this.camera.position.z = newPosition.z\r\n\r\n        // Update rotation\r\n        mouseQuat.x.setFromAxisAngle( xVector, this.orientation.x )\r\n        mouseQuat.y.setFromAxisAngle( yVector, this.orientation.y )\r\n        this.camera.quaternion.copy( mouseQuat.y ).multiply( mouseQuat.x )\r\n\r\n    }\r\n\r\n    this.dispose = function () {\r\n\r\n        this.domElement.removeEventListener( 'mousedown', onMouseDown, false )\r\n        this.domElement.removeEventListener( 'mousemove', onMouseMove, false )\r\n        this.domElement.removeEventListener( 'mouseup', onMouseUp, false )\r\n\r\n        window.removeEventListener( 'keydown', onKeyDown, false )\r\n        window.removeEventListener( 'keyup', onKeyUp, false )\r\n\r\n    }\r\n\r\n    this.domElement.addEventListener( 'mousedown', onMouseDown, false )\r\n    this.domElement.addEventListener( 'mousemove', onMouseMove, false )\r\n    this.domElement.addEventListener( 'mouseup', onMouseUp, false )\r\n\r\n    window.addEventListener( 'keydown', onKeyDown, false )\r\n    window.addEventListener( 'keyup', onKeyUp, false )\r\n\r\n    this.forwardControl.addEventListener( 'click', onForward, false )\r\n    this.backwardControl.addEventListener( 'click', onBackward, false )\r\n\r\n}\r\n\r\nObject.assign( CameraPathController.prototype, EventDispatcher.prototype, {\r\n\r\n    get camera () {\r\n\r\n        return this._camera\r\n\r\n    },\r\n\r\n    set camera ( value ) {\r\n\r\n        if ( isNull( value ) ) { throw new Error( 'Camera cannot be null ! Expect an instance of Camera' ) }\r\n        if ( isUndefined( value ) ) { throw new Error( 'Camera cannot be undefined ! Expect an instance of Camera' ) }\r\n        if ( !( value instanceof Camera ) ) { throw new Error( `Camera cannot be an instance of ${value.constructor.name}. Expect an instance of Camera.` ) }\r\n\r\n        this._camera = value\r\n\r\n    },\r\n\r\n    setCamera ( value ) {\r\n\r\n        this.camera = value\r\n        return this\r\n\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param path\r\n     */\r\n    setPath ( path ) {\r\n\r\n        this.currentPath = path\r\n        this.cameraJump  = 1 / path.getLength()\r\n\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param paths\r\n     * @param nameOfFirstPathToFollow\r\n     */\r\n    setPaths ( paths, nameOfFirstPathToFollow ) {\r\n\r\n        this.paths            = paths\r\n        this.currentPathIndex = 0\r\n\r\n        var pathToFollow = this.paths[ this.currentPathIndex ]\r\n\r\n        var numberOfPaths = this.paths.length\r\n\r\n        var firstPath      = undefined\r\n        var startFirstPath = undefined\r\n        var endFirstPath   = undefined\r\n\r\n        var secondPath      = undefined\r\n        var startSecondPath = undefined\r\n        var endSecondPath   = undefined\r\n\r\n        for ( var firstPathIndex = 0 ; firstPathIndex < numberOfPaths ; firstPathIndex++ ) {\r\n\r\n            firstPath      = this.paths[ firstPathIndex ]\r\n            startFirstPath = firstPath.getPointAt( 0 )\r\n            endFirstPath   = firstPath.getPointAt( 1 )\r\n\r\n            if ( nameOfFirstPathToFollow && firstPath.name === nameOfFirstPathToFollow ) {\r\n                pathToFollow          = firstPath\r\n                this.currentPathIndex = firstPathIndex\r\n            }\r\n\r\n            var closestStartDistance    = Infinity\r\n            var closestEndDistance      = Infinity\r\n            var indexOfClosestStartPath = undefined\r\n            var indexOfClosestEndPath   = undefined\r\n\r\n            for ( var secondPathIndex = 0 ; secondPathIndex < numberOfPaths ; secondPathIndex++ ) {\r\n\r\n                if ( firstPathIndex === secondPathIndex ) {\r\n                    continue\r\n                }\r\n\r\n                secondPath      = this.paths[ secondPathIndex ]\r\n                startSecondPath = secondPath.getPointAt( 0 )\r\n                endSecondPath   = secondPath.getPointAt( 1 )\r\n\r\n                if ( startFirstPath.distanceTo( startSecondPath ) < closestStartDistance ) {\r\n\r\n                    closestStartDistance    = startFirstPath.distanceTo( startSecondPath )\r\n                    indexOfClosestStartPath = secondPathIndex\r\n\r\n                }\r\n\r\n                if ( startFirstPath.distanceTo( endSecondPath ) < closestStartDistance ) {\r\n\r\n                    closestStartDistance    = startFirstPath.distanceTo( endSecondPath )\r\n                    indexOfClosestStartPath = secondPathIndex\r\n\r\n                }\r\n\r\n                if ( endFirstPath.distanceTo( startSecondPath ) < closestEndDistance ) {\r\n\r\n                    closestEndDistance    = endFirstPath.distanceTo( startSecondPath )\r\n                    indexOfClosestEndPath = secondPathIndex\r\n\r\n                }\r\n\r\n                if ( endFirstPath.distanceTo( endSecondPath ) < closestEndDistance ) {\r\n\r\n                    closestEndDistance    = endFirstPath.distanceTo( endSecondPath )\r\n                    indexOfClosestEndPath = secondPathIndex\r\n\r\n                }\r\n\r\n            }\r\n\r\n            this.pathsMap.set( firstPathIndex, {\r\n                indexOfPreviousPath: indexOfClosestStartPath,\r\n                indexOfNextPath:     indexOfClosestEndPath\r\n            } )\r\n\r\n        }\r\n\r\n        //        TLogger.log( this.pathsMap )\r\n\r\n        this.setPath( pathToFollow )\r\n\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param quat\r\n     */\r\n    setMouseQuat ( quat ) {\r\n\r\n        this.orientation.y = Math.asin( quat.y ) * 2\r\n        this.orientation.x = 0\r\n\r\n    },\r\n\r\n    /**\r\n     *\r\n     */\r\n    getCurrentPathPosition () {\r\n\r\n        return this.currentPath.getPointAt( this.currentPathPosition )\r\n\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @return {undefined}\r\n     */\r\n    getNextPathPosition () {\r\n\r\n        var nextPosition = undefined\r\n\r\n        if ( this.currentPathPosition + this.cameraJump > 1 ) { // end of path\r\n            nextPosition = this.currentPath.getPointAt( this.currentPathPosition - this.cameraJump ).negate()\r\n        } else {\r\n            nextPosition = this.currentPath.getPointAt( this.currentPathPosition + this.cameraJump )\r\n        }\r\n\r\n        return nextPosition\r\n\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @return {number}\r\n     */\r\n    getDistanceFromStart () {\r\n\r\n        //Linear distance\r\n        //\t\tvar firstPosition = this.currentPath.getPointAt( 0 )\r\n        //\t\tvar currentPosition = this.currentPath.getPointAt( this.currentPathPosition )\r\n        //\r\n        //\t\treturn firstPosition.distanceTo( currentPosition )\r\n\r\n        // Accordingly to the fact than currentPathPosition is an multiple of cameraJump that is equals to 1 / path.getLength()\r\n        // Todo: need to go the projection to Tronçon\r\n        return this.currentPathPosition * this.currentPath.getLength()\r\n\r\n    },\r\n\r\n    /**\r\n     *\r\n     */\r\n    lookAtPath () {\r\n\r\n        // Set lookup point at the camera height\r\n        var nextPosition = this.getNextPathPosition()\r\n        nextPosition.y   = this.camera.position.y\r\n\r\n        this.camera.lookAt( nextPosition )\r\n\r\n        // We need to update local orientation else on first move event the camera will return to default position !\r\n        this.setMouseQuat( this.camera.quaternion )\r\n\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param position\r\n     */\r\n    goTo ( position ) {\r\n\r\n        //Todo: Should use 2D instead of 3D !\r\n\r\n        var numberOfPoints    = undefined\r\n        var currentPath       = undefined\r\n        var currentPathPoints = undefined\r\n        var closestPointIndex = undefined\r\n        var closestPath       = undefined\r\n        var closestPathIndex  = undefined\r\n        var currentDistance   = undefined\r\n        var closestDistance   = Infinity\r\n\r\n        for ( var pathIndex = 0, numberOfPath = this.paths.length ; pathIndex < numberOfPath ; pathIndex++ ) {\r\n\r\n            currentPath       = this.paths[ pathIndex ]\r\n            numberOfPoints    = Math.floor( currentPath.getLength() )\r\n            currentPathPoints = currentPath.getSpacedPoints( numberOfPoints )\r\n\r\n            for ( var pointIndex = 0 ; pointIndex < numberOfPoints ; pointIndex++ ) {\r\n\r\n                currentDistance = position.distanceTo( currentPathPoints[ pointIndex ] )\r\n\r\n                if ( currentDistance < closestDistance ) {\r\n\r\n                    closestDistance   = currentDistance\r\n                    closestPathIndex  = pathIndex\r\n                    closestPath       = currentPath\r\n                    closestPointIndex = pointIndex\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n        this.setPath( closestPath )\r\n        this.currentPathIndex    = closestPathIndex\r\n        this.currentPathPosition = this.cameraJump * closestPointIndex\r\n\r\n        this.lookAtPath()\r\n        this.update()\r\n\r\n        this.dispatchEvent( { type: 'moveEnd' } )\r\n        this.dispatchEvent( { type: 'rotateEnd' } )\r\n\r\n    }\r\n\r\n} )\r\n\r\nexport { CameraPathController }\r\n","/**\r\n * @author [Ahmed DCHAR]{@link https://github.com/Dragoneel}\r\n * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause}\r\n *\r\n * @file Todo\r\n *\r\n * @example Todo\r\n *\r\n */\r\n\r\n/* global Math */\r\n\r\nimport {\r\n    degreesToRadians,\r\n    toEnum\r\n} from 'itee-utils'\r\nimport {\r\n    isArray,\r\n    isDefined,\r\n    isNotArray,\r\n    isNotDefined,\r\n    isNull,\r\n    isUndefined\r\n} from 'itee-validators'\r\nimport {\r\n    Box3,\r\n    BoxBufferGeometry,\r\n    BufferGeometry,\r\n    Camera,\r\n    ConeBufferGeometry,\r\n    CylinderBufferGeometry,\r\n    DoubleSide,\r\n    EdgesGeometry,\r\n    Euler,\r\n    Float32BufferAttribute,\r\n    Line,\r\n    LineBasicMaterial,\r\n    LineSegments,\r\n    Mesh,\r\n    MeshBasicMaterial,\r\n    Object3D,\r\n    OctahedronBufferGeometry,\r\n    Plane,\r\n    PlaneBufferGeometry,\r\n    Quaternion,\r\n    Raycaster,\r\n    SphereBufferGeometry,\r\n    TorusBufferGeometry,\r\n    Vector2,\r\n    Vector3\r\n} from 'three-full'\r\nimport {\r\n    Keys,\r\n    Mouse\r\n} from 'itee-client'\r\n\r\n// Basic Geometries\r\n\r\nclass LineGeometry extends BufferGeometry {\r\n\r\n    constructor ( pointA = new Vector3( 0, 0, 0 ), pointB = new Vector3( 1, 0, 0 ) ) {\r\n        super()\r\n\r\n        this.type = 'LineGeometry'\r\n        this.addAttribute( 'position', new Float32BufferAttribute( [ pointA.x, pointA.y, pointA.z, pointB.x, pointB.y, pointB.z ], 3 ) )\r\n\r\n    }\r\n\r\n}\r\n\r\nclass ClippingBox extends LineSegments {\r\n\r\n    constructor () {\r\n        super()\r\n\r\n        this.geometry = new EdgesGeometry( new BoxBufferGeometry( 2, 2, 2 ) )\r\n        this.material = new LineBasicMaterial( {\r\n            color: 0xffffff\r\n        } )\r\n\r\n        // Planes\r\n        this.normalPlanes = {\r\n            normalRightSide:  new Vector3( -1, 0, 0 ),\r\n            normalLeftSide:   new Vector3( 1, 0, 0 ),\r\n            normalFrontSide:  new Vector3( 0, -1, 0 ),\r\n            normalBackSide:   new Vector3( 0, 1, 0 ),\r\n            normalTopSide:    new Vector3( 0, 0, -1 ),\r\n            normalBottomSide: new Vector3( 0, 0, 1 )\r\n        }\r\n\r\n        this.planes = {\r\n            rightSidePlane:  new Plane( this.normalPlanes.normalRightSide.clone(), 0 ),\r\n            leftSidePlane:   new Plane( this.normalPlanes.normalLeftSide.clone(), 0 ),\r\n            frontSidePlane:  new Plane( this.normalPlanes.normalFrontSide.clone(), 0 ),\r\n            backSidePlane:   new Plane( this.normalPlanes.normalBackSide.clone(), 0 ),\r\n            topSidePlane:    new Plane( this.normalPlanes.normalTopSide.clone(), 0 ),\r\n            bottomSidePlane: new Plane( this.normalPlanes.normalBottomSide.clone(), 0 )\r\n        }\r\n\r\n        this._boundingBox = new Box3()\r\n\r\n    }\r\n\r\n    getBoundingSphere () {\r\n\r\n        this.geometry.computeBoundingSphere()\r\n        this.geometry.boundingSphere.applyMatrix4( this.matrixWorld )\r\n\r\n        return this.geometry.boundingSphere\r\n\r\n    }\r\n\r\n    setColor ( color ) {\r\n\r\n        this.material.color.set( color )\r\n\r\n    }\r\n\r\n    applyClippingTo ( state, objects ) {\r\n\r\n        if ( isNotDefined( objects ) ) { return }\r\n\r\n        let planes = []\r\n        for ( let i in this.planes ) {\r\n            planes.push( this.planes[ i ] )\r\n        }\r\n\r\n        objects.traverse( ( object ) => {\r\n\r\n            if ( isNotDefined( object ) ) { return }\r\n            if ( isNotDefined( object.geometry ) ) { return }\r\n            if ( isNotDefined( object.material ) ) { return }\r\n\r\n            const materials = isArray( object.material ) ? object.material : [ object.material ]\r\n\r\n            for ( let materialIndex = 0, numberOfMaterial = materials.length ; materialIndex < numberOfMaterial ; materialIndex++ ) {\r\n                let material = materials[ materialIndex ]\r\n                if ( !material.clippingPlanes ) {\r\n                    material.clippingPlanes = []\r\n                }\r\n                material.clippingPlanes = ( state ) ? planes : []\r\n            }\r\n\r\n        } )\r\n\r\n    }\r\n\r\n    updateSize ( size ) {\r\n\r\n        this.scale.set( size.x, size.y, size.z )\r\n\r\n    }\r\n\r\n    update () {\r\n\r\n        this._boundingBox.setFromObject( this )\r\n\r\n        const margin = 0.0\r\n        const min    = this._boundingBox.min\r\n        const max    = this._boundingBox.max\r\n\r\n        this.planes.rightSidePlane.constant  = max.x + margin\r\n        this.planes.leftSidePlane.constant   = -min.x + margin\r\n        this.planes.frontSidePlane.constant  = max.y + margin\r\n        this.planes.backSidePlane.constant   = -min.y + margin\r\n        this.planes.topSidePlane.constant    = max.z + margin\r\n        this.planes.bottomSidePlane.constant = -min.z + margin\r\n\r\n    }\r\n\r\n}\r\n\r\n// Materials\r\n\r\nclass HighlightableMaterial extends MeshBasicMaterial {\r\n\r\n    constructor ( parameters ) {\r\n        super( parameters )\r\n        this.isHighlightableMaterial = true\r\n        //        this.type                    = 'HighlightableMaterial'\r\n\r\n        this.depthTest   = false\r\n        this.depthWrite  = false\r\n        this.fog         = false\r\n        this.side        = DoubleSide\r\n        this.transparent = true\r\n        this.oldColor    = this.color.clone()\r\n\r\n    }\r\n\r\n    highlight ( highlighted ) {\r\n\r\n        if ( highlighted ) {\r\n\r\n            const lum = 0.35\r\n            const _r  = this.color.r\r\n            const _g  = this.color.g\r\n            const _b  = this.color.b\r\n            const r   = Math.min( Math.max( 0, _r + ( _r * lum ) ), 1.0 )\r\n            const g   = Math.min( Math.max( 0, _g + ( _g * lum ) ), 1.0 )\r\n            const b   = Math.min( Math.max( 0, _b + ( _b * lum ) ), 1.0 )\r\n            this.color.setRGB( r, g, b )\r\n\r\n        } else {\r\n\r\n            this.color.copy( this.oldColor )\r\n\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nclass HighlightableLineMaterial extends LineBasicMaterial {\r\n\r\n    constructor ( parameters ) {\r\n        super( parameters )\r\n        this.isHighlightableMaterial = true\r\n        //        this.type                    = 'HighlightableLineMaterial'\r\n\r\n        this.depthTest   = false\r\n        this.depthWrite  = false\r\n        this.fog         = false\r\n        this.transparent = true\r\n        this.linewidth   = 1\r\n        this.oldColor    = this.color.clone()\r\n\r\n    }\r\n\r\n    highlight ( highlighted ) {\r\n\r\n        if ( highlighted ) {\r\n\r\n            const lum = 0.35\r\n            const _r  = this.color.r\r\n            const _g  = this.color.g\r\n            const _b  = this.color.b\r\n            const r   = Math.min( Math.max( 0, _r + ( _r * lum ) ), 1.0 )\r\n            const g   = Math.min( Math.max( 0, _g + ( _g * lum ) ), 1.0 )\r\n            const b   = Math.min( Math.max( 0, _b + ( _b * lum ) ), 1.0 )\r\n            this.color.setRGB( r, g, b )\r\n\r\n        } else {\r\n\r\n            this.color.copy( this.oldColor )\r\n\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n// Pickers\r\n\r\nclass AbstractHitbox extends Mesh {\r\n\r\n    constructor ( parameters = {} ) {\r\n\r\n        const _parameters = {\r\n            ...{\r\n                geometry: new BufferGeometry(),\r\n                material: new MeshBasicMaterial( {\r\n                    visible:    false,\r\n                    depthTest:  false,\r\n                    depthWrite: false,\r\n                    fog:        false,\r\n                    side:       DoubleSide\r\n                    //                    opacity:     0.0,\r\n                    //                    transparent: true\r\n                } )\r\n            }, ...parameters\r\n        }\r\n\r\n        super( _parameters.geometry, _parameters.material )\r\n        this.isHitbox = true\r\n        this.type     = 'Hitbox'\r\n\r\n    }\r\n}\r\n\r\nclass CylindricaHitbox extends AbstractHitbox {\r\n\r\n    constructor ( parameters = {} ) {\r\n\r\n        const cylinderGeometry = new CylinderBufferGeometry( 0.2, 0, 1, 4, 1, false )\r\n        cylinderGeometry.translate( 0, 0.5, 0 )\r\n        const _parameters = {\r\n            ...{\r\n                geometry: cylinderGeometry\r\n            }, ...parameters\r\n        }\r\n\r\n        super( _parameters )\r\n        this.isCylindricaHitbox = true\r\n        this.type               = 'CylindricaHitbox'\r\n\r\n    }\r\n\r\n}\r\n\r\nclass PlanarHitbox extends AbstractHitbox {\r\n\r\n    constructor ( parameters = {} ) {\r\n\r\n        const planePositions      = [\r\n            0.0, 0.0, 0.0,\r\n            1.1, 0.0, 0.0,\r\n            1.1, 1.1, 0.0,\r\n            0.0, 1.1, 0.0\r\n        ]\r\n        const planeIndexes        = [\r\n            0, 1, 2,\r\n            2, 3, 0\r\n        ]\r\n        const planeBufferGeometry = new BufferGeometry()\r\n        planeBufferGeometry.addAttribute( 'position', new Float32BufferAttribute( planePositions, 3 ) )\r\n        planeBufferGeometry.setIndex( planeIndexes )\r\n\r\n        const _parameters = {\r\n            ...{\r\n                geometry: planeBufferGeometry\r\n            }, ...parameters\r\n        }\r\n\r\n        super( _parameters )\r\n        this.isPlanarHitbox = true\r\n        this.type           = 'PlanarHitbox'\r\n\r\n    }\r\n\r\n}\r\n\r\nclass LozengeHitbox extends AbstractHitbox {\r\n\r\n    constructor ( parameters = {} ) {\r\n\r\n        // Lozenge\r\n        const lozengePositions        = [\r\n            0.0, 0.0, 0.0,\r\n            0.85, 0.0, 0.0,\r\n            1.1, 1.1, 0.0,\r\n            0.0, 0.85, 0.0\r\n        ]\r\n        const lozengeIndexes          = [\r\n            0, 1, 2,\r\n            2, 3, 0\r\n        ]\r\n        const positionBufferAttribute = new Float32BufferAttribute( lozengePositions, 3 )\r\n        const lozengeBufferGeometry   = new BufferGeometry()\r\n        lozengeBufferGeometry.addAttribute( 'position', positionBufferAttribute )\r\n        lozengeBufferGeometry.setIndex( lozengeIndexes )\r\n\r\n        const _parameters = {\r\n            ...{\r\n                geometry: lozengeBufferGeometry\r\n            }, ...parameters\r\n        }\r\n\r\n        super( _parameters )\r\n        this.isPlanarHitbox = true\r\n        this.type           = 'PlanarHitbox'\r\n\r\n    }\r\n\r\n}\r\n\r\nclass OctahedricalHitbox extends AbstractHitbox {\r\n\r\n    constructor ( parameters = {} ) {\r\n\r\n        const _parameters = {\r\n            ...{\r\n                geometry: new OctahedronBufferGeometry( 1.2, 0 )\r\n            }, ...parameters\r\n        }\r\n\r\n        super( _parameters )\r\n        this.isOctahedricalHitbox = true\r\n        this.type                 = 'OctahedricalHitbox'\r\n\r\n    }\r\n\r\n}\r\n\r\nclass SphericalHitbox extends AbstractHitbox {\r\n\r\n    constructor ( parameters = {} ) {\r\n\r\n        const _parameters = {\r\n            ...{\r\n                geometry: new SphereBufferGeometry( 1, 8, 6, 0, 2 * Math.PI, 0, Math.PI )\r\n            }, ...parameters\r\n        }\r\n\r\n        super( _parameters )\r\n        this.isSphericalHitbox = true\r\n        this.type              = 'SphericalHitbox'\r\n\r\n    }\r\n\r\n}\r\n\r\nclass TorusHitbox extends AbstractHitbox {\r\n\r\n    constructor ( parameters = {} ) {\r\n\r\n        const _parameters = {\r\n            ...{\r\n                geometry: new TorusBufferGeometry( 1, 0.12, 4, 12, Math.PI )\r\n            }, ...parameters\r\n        }\r\n\r\n        super( _parameters )\r\n        this.isTorusHitbox = true\r\n        this.type          = 'TorusHitbox'\r\n\r\n    }\r\n\r\n}\r\n\r\n// Handles\r\nclass AbstractHandle extends Object3D {\r\n\r\n    constructor ( parameters = {} ) {\r\n\r\n        const _parameters = {\r\n            ...{\r\n                color:  0xffffff,\r\n                hitbox: null\r\n            }, ...parameters\r\n        }\r\n\r\n        super()\r\n        this.isHandle = true\r\n        this.type     = 'Handle'\r\n\r\n        this.color  = _parameters.color\r\n        this.hitbox = _parameters.hitbox\r\n\r\n        this.baseQuaternion = new Quaternion()\r\n\r\n    }\r\n\r\n    get color () {\r\n\r\n        return this.line.material.color.clone()\r\n\r\n    }\r\n\r\n    set color ( value ) {\r\n\r\n        if ( isNull( value ) ) { throw new Error( 'Color cannot be null ! Expect an instance of Color.' ) }\r\n        if ( isUndefined( value ) ) { throw new Error( 'Color cannot be undefined ! Expect an instance of Color.' ) }\r\n        //        if ( !( value instanceof Color ) ) { throw new Error( `Color cannot be an instance of ${value.constructor.name}. Expect an instance of Color.` ) }\r\n\r\n        this.traverse( ( child ) => {\r\n\r\n            let materials = child.material\r\n            if ( !materials ) { return }\r\n\r\n            materials.color.setHex( value )\r\n\r\n        } )\r\n\r\n    }\r\n\r\n    get hitbox () {\r\n        return this._hitbox\r\n    }\r\n\r\n    set hitbox ( value ) {\r\n        this._hitbox = value\r\n        this.add( value )\r\n    }\r\n\r\n    setColor ( value ) {\r\n\r\n        this.color = value\r\n        return this\r\n\r\n    }\r\n\r\n    setHitbox ( value ) {\r\n        this.hitbox = value\r\n        return this\r\n    }\r\n\r\n    setScale ( x, y, z ) {\r\n\r\n        this.scale.set( x, y, z )\r\n        return this\r\n\r\n    }\r\n\r\n    setPosition ( x, y, z ) {\r\n        this.position.set( x, y, z )\r\n        return this\r\n    }\r\n\r\n    highlight ( value ) {\r\n\r\n        for ( let childIndex = 0, numberOfChildren = this.children.length ; childIndex < numberOfChildren ; childIndex++ ) {\r\n            const child = this.children[ childIndex ]\r\n            if ( child.isHitbox ) { continue }\r\n\r\n            const childMaterial = child.material\r\n            if ( isUndefined( childMaterial ) || !childMaterial.isHighlightableMaterial ) { continue }\r\n\r\n            childMaterial.highlight( value )\r\n        }\r\n\r\n    }\r\n\r\n    raycast ( raycaster, intersects ) {\r\n\r\n        const intersections = raycaster.intersectObject( this._hitbox, false )\r\n        if ( intersections.length > 0 ) {\r\n            intersects.push( {\r\n                distance: intersections[ 0 ].distance,\r\n                object:   this\r\n            } )\r\n        }\r\n\r\n    }\r\n\r\n    setRotationFromAxisAndAngle ( axis, angle ) {\r\n\r\n        this.quaternion.setFromAxisAngle( axis, angle )\r\n        this.baseQuaternion.copy( this.quaternion )\r\n        return this\r\n\r\n    }\r\n\r\n    update ( cameraDirection ) {}\r\n\r\n}\r\n\r\nclass TranslateHandle extends AbstractHandle {\r\n\r\n    constructor ( parameters = {} ) {\r\n\r\n        const _parameters = {\r\n            ...{\r\n                color:     0xffffff,\r\n                hitbox:    new CylindricaHitbox(),\r\n                direction: new Vector3( 0, 1, 0 )\r\n            }, ...parameters\r\n        }\r\n\r\n        super( _parameters )\r\n        this.isTranslateHandle = true\r\n        this.type              = 'TranslateHandle'\r\n\r\n        const lineGeometry = new LineGeometry( new Vector3( 0, 0, 0 ), new Vector3( 0, 0.8, 0 ) )\r\n        const lineMaterial = new HighlightableLineMaterial( { color: _parameters.color } )\r\n        const line         = new Line( lineGeometry, lineMaterial )\r\n        this.add( line )\r\n\r\n        const coneGeometry = new ConeBufferGeometry( 0.05, 0.2, 12, 1, false )\r\n        coneGeometry.translate( 0, 0.9, 0 )\r\n        const coneMaterial = new HighlightableMaterial( { color: _parameters.color } )\r\n        const cone         = new Mesh( coneGeometry, coneMaterial )\r\n        this.add( cone )\r\n\r\n        this.direction = _parameters.direction\r\n\r\n    }\r\n\r\n    get direction () {\r\n\r\n        return this._direction\r\n\r\n    }\r\n\r\n    set direction ( value ) {\r\n\r\n        if ( isNull( value ) ) { throw new Error( 'Direction cannot be null ! Expect an instance of Color.' ) }\r\n        if ( isUndefined( value ) ) { throw new Error( 'Direction cannot be undefined ! Expect an instance of Color.' ) }\r\n        if ( !( value instanceof Vector3 ) ) { throw new Error( `Direction cannot be an instance of ${value.constructor.name}. Expect an instance of Vector3.` ) }\r\n\r\n        this._direction = value\r\n\r\n        if ( value.y > 0.99999 ) {\r\n\r\n            this.quaternion.set( 0, 0, 0, 1 )\r\n\r\n        } else if ( value.y < -0.99999 ) {\r\n\r\n            this.quaternion.set( 1, 0, 0, 0 )\r\n\r\n        } else {\r\n\r\n            const axis    = new Vector3( value.z, 0, -value.x ).normalize()\r\n            const radians = Math.acos( value.y )\r\n\r\n            this.quaternion.setFromAxisAngle( axis, radians )\r\n\r\n        }\r\n\r\n    }\r\n\r\n    update ( cameraDirection ) {\r\n\r\n        super.update( cameraDirection )\r\n\r\n        const dotProduct = this._direction.dot( cameraDirection )\r\n        if ( dotProduct >= 0 ) {\r\n            this.flipDirection()\r\n        }\r\n\r\n    }\r\n\r\n    setDirection ( direction ) {\r\n\r\n        this.direction = direction\r\n        return this\r\n\r\n    }\r\n\r\n    flipDirection () {\r\n\r\n        this.direction = this._direction.negate()\r\n\r\n    }\r\n\r\n}\r\n\r\nclass ScaleHandle extends AbstractHandle {\r\n\r\n    constructor ( parameters = {} ) {\r\n\r\n        const _parameters = {\r\n            ...{\r\n                color:     0xffffff,\r\n                hitbox:    new CylindricaHitbox(),\r\n                direction: new Vector3( 0, 1, 0 )\r\n            }, ...parameters\r\n        }\r\n\r\n        super( _parameters )\r\n        this.isScaleHandle = true\r\n        this.type          = 'ScaleHandle'\r\n\r\n        const lineGeometry = new LineGeometry( new Vector3( 0, 0, 0 ), new Vector3( 0, 0.88, 0 ) )\r\n        const lineMaterial = new HighlightableLineMaterial( { color: _parameters.color } )\r\n        const line         = new Line( lineGeometry, lineMaterial )\r\n        this.add( line )\r\n\r\n        const boxGeometry = new BoxBufferGeometry( 0.12, 0.12, 0.12 )\r\n        boxGeometry.translate( 0, 0.94, 0 )\r\n        const boxMaterial = new HighlightableMaterial( { color: _parameters.color } )\r\n        const box         = new Mesh( boxGeometry, boxMaterial )\r\n        this.add( box )\r\n\r\n        this.direction = _parameters.direction\r\n\r\n    }\r\n\r\n    get direction () {\r\n\r\n        return this._direction\r\n\r\n    }\r\n\r\n    set direction ( value ) {\r\n\r\n        if ( isNull( value ) ) { throw new Error( 'Direction cannot be null ! Expect an instance of Color.' ) }\r\n        if ( isUndefined( value ) ) { throw new Error( 'Direction cannot be undefined ! Expect an instance of Color.' ) }\r\n        if ( !( value instanceof Vector3 ) ) { throw new Error( `Direction cannot be an instance of ${value.constructor.name}. Expect an instance of Vector3.` ) }\r\n\r\n        this._direction = value\r\n\r\n        if ( value.y > 0.99999 ) {\r\n\r\n            this.quaternion.set( 0, 0, 0, 1 )\r\n\r\n        } else if ( value.y < -0.99999 ) {\r\n\r\n            this.quaternion.set( 1, 0, 0, 0 )\r\n\r\n        } else {\r\n\r\n            const axis    = new Vector3( value.z, 0, -value.x ).normalize()\r\n            const radians = Math.acos( value.y )\r\n\r\n            this.quaternion.setFromAxisAngle( axis, radians )\r\n\r\n        }\r\n\r\n    }\r\n\r\n    update ( cameraDirection ) {\r\n\r\n        super.update( cameraDirection )\r\n\r\n        const dotProduct = this._direction.dot( cameraDirection )\r\n        if ( dotProduct >= 0 ) {\r\n            this.flipDirection()\r\n        }\r\n\r\n    }\r\n\r\n    setDirection ( direction ) {\r\n\r\n        this.direction = direction\r\n        return this\r\n\r\n    }\r\n\r\n    flipDirection () {\r\n\r\n        this.direction = this._direction.negate()\r\n\r\n    }\r\n\r\n}\r\n\r\nclass RotateHandle extends AbstractHandle {\r\n\r\n    constructor ( parameters = {} ) {\r\n\r\n        const _parameters = {\r\n            ...{}, ...parameters\r\n        }\r\n\r\n        super( _parameters )\r\n        this.isRotateHandle = true\r\n        this.type           = 'RotateHandle'\r\n\r\n    }\r\n\r\n    update ( cameraDirection ) {\r\n        super.update( cameraDirection )\r\n    }\r\n\r\n}\r\n\r\nclass PlaneHandle extends AbstractHandle {\r\n\r\n    constructor ( parameters = {} ) {\r\n\r\n        const _parameters = {\r\n            ...{\r\n                color:     0xffffff,\r\n                hitbox:    new PlanarHitbox(),\r\n                direction: new Vector3( 0, 1, 0 )\r\n            }, ...parameters\r\n        }\r\n\r\n        super( _parameters )\r\n        this.isPlaneHandle = true\r\n        this.type          = 'PlaneHandle'\r\n\r\n        // Edge line\r\n        const lineBufferGeometry = new BufferGeometry()\r\n        lineBufferGeometry.addAttribute( 'position', new Float32BufferAttribute( [ 0.75, 1.0, 0.0, 1.0, 1.0, 0.0, 1.0, 0.75, 0.0 ], 3 ) )\r\n\r\n        const lineMaterial = new HighlightableLineMaterial( {\r\n            color: _parameters.color\r\n        } )\r\n\r\n        const line = new Line( lineBufferGeometry, lineMaterial )\r\n        this.add( line )\r\n\r\n        // Plane\r\n        const planePositions      = [\r\n            0.1, 0.1, 0.0,\r\n            1.0, 0.1, 0.0,\r\n            1.0, 1.0, 0.0,\r\n            0.1, 1.0, 0.0\r\n        ]\r\n        const planeIndexes        = [\r\n            0, 1, 2,\r\n            2, 3, 0\r\n        ]\r\n        const planeBufferGeometry = new BufferGeometry()\r\n        planeBufferGeometry.addAttribute( 'position', new Float32BufferAttribute( planePositions, 3 ) )\r\n        planeBufferGeometry.setIndex( planeIndexes )\r\n\r\n        const planeMaterial = new HighlightableMaterial( {\r\n            color:       _parameters.color,\r\n            transparent: true,\r\n            opacity:     0.35\r\n        } )\r\n        const plane         = new Mesh( planeBufferGeometry, planeMaterial )\r\n        this.add( plane )\r\n\r\n        this.xAxis = new Vector3( 1, 0, 0 )\r\n        this.yAxis = new Vector3( 0, 1, 0 )\r\n        this.zAxis = new Vector3( 0, 0, 1 )\r\n\r\n        this.xDirection = new Vector3( _parameters.direction.x, 0, 0 )\r\n        this.yDirection = new Vector3( 0, _parameters.direction.y, 0 )\r\n        this.zDirection = new Vector3( 0, 0, _parameters.direction.z )\r\n        this.direction  = _parameters.direction\r\n\r\n    }\r\n\r\n    get direction () {\r\n\r\n        return this._direction\r\n\r\n    }\r\n\r\n    set direction ( value ) {\r\n\r\n        if ( isNull( value ) ) { throw new Error( 'Direction cannot be null ! Expect an instance of Color.' ) }\r\n        if ( isUndefined( value ) ) { throw new Error( 'Direction cannot be undefined ! Expect an instance of Color.' ) }\r\n        if ( !( value instanceof Vector3 ) ) { throw new Error( `Direction cannot be an instance of ${value.constructor.name}. Expect an instance of Vector3.` ) }\r\n\r\n        this._direction = value\r\n\r\n    }\r\n\r\n    update ( cameraDirection ) {\r\n\r\n        super.update( cameraDirection )\r\n\r\n        // Decompose direction by main orientation\r\n        const xDirection = new Vector3( this._direction.x, 0, 0 )\r\n        const yDirection = new Vector3( 0, this._direction.y, 0 )\r\n        const zDirection = new Vector3( 0, 0, this._direction.z )\r\n        const xDot       = xDirection.dot( cameraDirection )\r\n        const yDot       = yDirection.dot( cameraDirection )\r\n        const zDot       = zDirection.dot( cameraDirection )\r\n\r\n        this.quaternion.copy( this.baseQuaternion )\r\n\r\n        // XY Plane\r\n        if ( xDot > 0 && yDot > 0 && zDot === 0 ) {\r\n\r\n            this.rotateOnAxis( this.zAxis, degreesToRadians( 180 ) )\r\n            this.xDirection.setX( -1 )\r\n            this.yDirection.setY( -1 )\r\n            this.zDirection.setZ( 0 )\r\n\r\n        } else if ( xDot > 0 && yDot < 0 && zDot === 0 ) {\r\n\r\n            this.rotateOnAxis( this.zAxis, degreesToRadians( 90 ) )\r\n            this.xDirection.setX( -1 )\r\n            this.yDirection.setY( 1 )\r\n            this.zDirection.setZ( 0 )\r\n\r\n        } else if ( xDot < 0 && yDot > 0 && zDot === 0 ) {\r\n\r\n            this.rotateOnAxis( this.zAxis, degreesToRadians( 270 ) )\r\n            this.xDirection.setX( 1 )\r\n            this.yDirection.setY( -1 )\r\n            this.zDirection.setZ( 0 )\r\n\r\n        } else if ( xDot < 0 && yDot < 0 && zDot === 0 ) {\r\n\r\n            this.rotateOnAxis( this.zAxis, degreesToRadians( 0 ) )\r\n            this.xDirection.setX( 1 )\r\n            this.yDirection.setY( 1 )\r\n            this.zDirection.setZ( 0 )\r\n\r\n        }\r\n\r\n        // XZ Plane\r\n        else if ( xDot > 0 && yDot === 0 && zDot > 0 ) {\r\n\r\n            this.rotateOnAxis( this.zAxis, degreesToRadians( 180 ) )\r\n            this.xDirection.setX( -1 )\r\n            this.yDirection.setY( 0 )\r\n            this.zDirection.setZ( -1 )\r\n\r\n        } else if ( xDot > 0 && yDot === 0 && zDot < 0 ) {\r\n\r\n            this.rotateOnAxis( this.zAxis, degreesToRadians( 90 ) )\r\n            this.xDirection.setX( -1 )\r\n            this.yDirection.setY( 0 )\r\n            this.zDirection.setZ( 1 )\r\n\r\n        } else if ( xDot < 0 && yDot === 0 && zDot > 0 ) {\r\n\r\n            this.rotateOnAxis( this.zAxis, degreesToRadians( 270 ) )\r\n            this.xDirection.setX( 1 )\r\n            this.yDirection.setY( 0 )\r\n            this.zDirection.setZ( -1 )\r\n\r\n        } else if ( xDot < 0 && yDot === 0 && zDot < 0 ) {\r\n\r\n            this.rotateOnAxis( this.zAxis, degreesToRadians( 0 ) )\r\n            this.xDirection.setX( 1 )\r\n            this.yDirection.setY( 0 )\r\n            this.zDirection.setZ( 1 )\r\n\r\n        }\r\n\r\n        // YZ Plane\r\n        else if ( xDot === 0 && yDot > 0 && zDot > 0 ) {\r\n\r\n            this.rotateOnAxis( this.zAxis, degreesToRadians( 180 ) )\r\n            this.xDirection.setX( 0 )\r\n            this.yDirection.setY( -1 )\r\n            this.zDirection.setZ( -1 )\r\n\r\n        } else if ( xDot === 0 && yDot > 0 && zDot < 0 ) {\r\n\r\n            this.rotateOnAxis( this.zAxis, degreesToRadians( 270 ) )\r\n            this.xDirection.setX( 0 )\r\n            this.yDirection.setY( -1 )\r\n            this.zDirection.setZ( 1 )\r\n\r\n        } else if ( xDot === 0 && yDot < 0 && zDot > 0 ) {\r\n\r\n            this.rotateOnAxis( this.zAxis, degreesToRadians( 90 ) )\r\n            this.xDirection.setX( 0 )\r\n            this.yDirection.setY( 1 )\r\n            this.zDirection.setZ( -1 )\r\n\r\n        } else if ( xDot === 0 && yDot < 0 && zDot < 0 ) {\r\n\r\n            this.rotateOnAxis( this.zAxis, degreesToRadians( 0 ) )\r\n            this.xDirection.setX( 0 )\r\n            this.yDirection.setY( 1 )\r\n            this.zDirection.setZ( 1 )\r\n\r\n        }\r\n\r\n    }\r\n\r\n    setDirection ( direction ) {\r\n\r\n        this.direction = direction\r\n        return this\r\n\r\n    }\r\n\r\n    flipXDirection () {\r\n\r\n        this.xDirection.setX( -this.xDirection.x )\r\n\r\n    }\r\n\r\n    flipYDirection () {\r\n\r\n        this.yDirection.setY( -this.yDirection.y )\r\n\r\n    }\r\n\r\n    flipZDirection () {\r\n\r\n        this.zDirection.setZ( -this.zDirection.z )\r\n\r\n    }\r\n\r\n}\r\n\r\nclass LozengeHandle extends AbstractHandle {\r\n\r\n    constructor ( parameters = {} ) {\r\n\r\n        const _parameters = {\r\n            ...{\r\n                color:     0xffffff,\r\n                hitbox:    new LozengeHitbox(),\r\n                direction: new Vector3( 1, 1, 0 )\r\n            }, ...parameters\r\n        }\r\n\r\n        super( _parameters )\r\n        this.isPlaneHandle = true\r\n        this.type          = 'PlaneHandle'\r\n\r\n        // Edge line\r\n        const lineBufferGeometry = new BufferGeometry()\r\n        lineBufferGeometry.addAttribute( 'position', new Float32BufferAttribute( [ 0.1, 0.75, 0.0, 1.0, 1.0, 0.0, 0.75, 0.1, 0.0 ], 3 ) )\r\n\r\n        const lineMaterial = new HighlightableLineMaterial( {\r\n            color: _parameters.color\r\n        } )\r\n\r\n        const line = new Line( lineBufferGeometry, lineMaterial )\r\n        this.add( line )\r\n\r\n        // Lozenge\r\n        const lozengePositions      = [\r\n            0.1, 0.1, 0.0,\r\n            0.75, 0.1, 0.0,\r\n            1.0, 1.0, 0.0,\r\n            0.1, 0.75, 0.0\r\n        ]\r\n        const lozengeIndexes        = [\r\n            0, 1, 2,\r\n            2, 3, 0\r\n        ]\r\n        const lozengeBufferGeometry = new BufferGeometry()\r\n        lozengeBufferGeometry.addAttribute( 'position', new Float32BufferAttribute( lozengePositions, 3 ) )\r\n        lozengeBufferGeometry.setIndex( lozengeIndexes )\r\n\r\n        const lozengeMaterial = new HighlightableMaterial( {\r\n            color:       _parameters.color,\r\n            transparent: true,\r\n            opacity:     0.35\r\n        } )\r\n        const lozenge         = new Mesh( lozengeBufferGeometry, lozengeMaterial )\r\n        this.add( lozenge )\r\n\r\n        this.direction  = _parameters.direction\r\n        this.xDirection = new Vector3( _parameters.direction.x, 0, 0 )\r\n        this.yDirection = new Vector3( 0, _parameters.direction.y, 0 )\r\n        this.zDirection = new Vector3( 0, 0, _parameters.direction.z )\r\n        this.xAxis      = new Vector3( 1, 0, 0 )\r\n        this.yAxis      = new Vector3( 0, 1, 0 )\r\n        this.zAxis      = new Vector3( 0, 0, 1 )\r\n    }\r\n\r\n    get direction () {\r\n\r\n        return this._direction\r\n\r\n    }\r\n\r\n    set direction ( value ) {\r\n\r\n        if ( isNull( value ) ) { throw new Error( 'Direction cannot be null ! Expect an instance of Color.' ) }\r\n        if ( isUndefined( value ) ) { throw new Error( 'Direction cannot be undefined ! Expect an instance of Color.' ) }\r\n        if ( !( value instanceof Vector3 ) ) { throw new Error( `Direction cannot be an instance of ${value.constructor.name}. Expect an instance of Vector3.` ) }\r\n\r\n        this._direction = value\r\n\r\n    }\r\n\r\n    update ( cameraDirection ) {\r\n\r\n        super.update( cameraDirection )\r\n\r\n        const xDot = this.xDirection.dot( cameraDirection )\r\n        const yDot = this.yDirection.dot( cameraDirection )\r\n        const zDot = this.zDirection.dot( cameraDirection )\r\n\r\n        this.quaternion.copy( this.baseQuaternion )\r\n\r\n        // XY Plane\r\n        if ( xDot > 0 && yDot > 0 && zDot === 0 ) {\r\n\r\n            this.rotateOnAxis( this.zAxis, degreesToRadians( 180 ) )\r\n\r\n        } else if ( xDot > 0 && yDot < 0 && zDot === 0 ) {\r\n\r\n            this.rotateOnAxis( this.zAxis, degreesToRadians( 90 ) )\r\n\r\n        } else if ( xDot < 0 && yDot > 0 && zDot === 0 ) {\r\n\r\n            this.rotateOnAxis( this.zAxis, degreesToRadians( 270 ) )\r\n\r\n        } else if ( xDot < 0 && yDot < 0 && zDot === 0 ) {\r\n\r\n            this.rotateOnAxis( this.zAxis, degreesToRadians( 0 ) )\r\n\r\n        }\r\n\r\n        // XZ Plane\r\n        else if ( xDot > 0 && yDot === 0 && zDot > 0 ) {\r\n\r\n            this.rotateOnAxis( this.zAxis, degreesToRadians( 180 ) )\r\n\r\n        } else if ( xDot > 0 && yDot === 0 && zDot < 0 ) {\r\n\r\n            this.rotateOnAxis( this.zAxis, degreesToRadians( 90 ) )\r\n\r\n        } else if ( xDot < 0 && yDot === 0 && zDot > 0 ) {\r\n\r\n            this.rotateOnAxis( this.zAxis, degreesToRadians( 270 ) )\r\n\r\n        } else if ( xDot < 0 && yDot === 0 && zDot < 0 ) {\r\n\r\n            this.rotateOnAxis( this.zAxis, degreesToRadians( 0 ) )\r\n\r\n        }\r\n\r\n        // YZ Plane\r\n        else if ( xDot === 0 && yDot > 0 && zDot > 0 ) {\r\n\r\n            this.rotateOnAxis( this.zAxis, degreesToRadians( 180 ) )\r\n\r\n        } else if ( xDot === 0 && yDot > 0 && zDot < 0 ) {\r\n\r\n            this.rotateOnAxis( this.zAxis, degreesToRadians( 270 ) )\r\n\r\n        } else if ( xDot === 0 && yDot < 0 && zDot > 0 ) {\r\n\r\n            this.rotateOnAxis( this.zAxis, degreesToRadians( 90 ) )\r\n\r\n        } else if ( xDot === 0 && yDot < 0 && zDot < 0 ) {\r\n\r\n            this.rotateOnAxis( this.zAxis, degreesToRadians( 0 ) )\r\n\r\n        }\r\n\r\n    }\r\n\r\n    setDirection ( direction ) {\r\n\r\n        this.direction = direction\r\n        return this\r\n\r\n    }\r\n\r\n    flipXAxis () {\r\n\r\n        const tempDirection = this._direction.clone()\r\n        tempDirection.x     = -tempDirection.x\r\n\r\n        this.direction = tempDirection\r\n\r\n    }\r\n\r\n    flipYAxis () {\r\n\r\n        const tempDirection = this._direction.clone()\r\n        tempDirection.y     = -tempDirection.y\r\n\r\n        this.direction = tempDirection\r\n\r\n    }\r\n\r\n    flipZAxis () {\r\n\r\n        const tempDirection = this._direction.clone()\r\n        tempDirection.z     = -tempDirection.z\r\n\r\n        this.direction = tempDirection\r\n\r\n    }\r\n\r\n}\r\n\r\nclass OctahedricalHandle extends AbstractHandle {\r\n\r\n    constructor ( parameters = {} ) {\r\n\r\n        const _parameters = {\r\n            ...{\r\n                color:  0xffffff,\r\n                hitbox: new OctahedricalHitbox()\r\n            }, ...parameters\r\n        }\r\n\r\n        super( _parameters )\r\n        this.isOmnidirectionalHandle = true\r\n        this.type                    = 'OmnidirectionalHandle'\r\n\r\n        const octahedronGeometry = new OctahedronBufferGeometry( 1, 0 )\r\n        const octahedronMaterial = new HighlightableMaterial( {\r\n            color:       _parameters.color,\r\n            transparent: true,\r\n            opacity:     0.55\r\n        } )\r\n        const octahedron         = new Mesh( octahedronGeometry, octahedronMaterial )\r\n        this.add( octahedron )\r\n\r\n        const edgesGeometry = new EdgesGeometry( octahedronGeometry )\r\n        const edgesMaterial = new HighlightableLineMaterial( {\r\n            color:     _parameters.color,\r\n            linewidth: 4\r\n        } )\r\n        const edges         = new LineSegments( edgesGeometry, edgesMaterial )\r\n        this.add( edges )\r\n\r\n    }\r\n\r\n    update ( cameraDirection ) {\r\n        super.update( cameraDirection )\r\n    }\r\n\r\n}\r\n\r\n// Gizmos\r\n\r\nclass AbstractGizmo extends Object3D {\r\n\r\n    constructor () {\r\n\r\n        super()\r\n        this.isGizmo = true\r\n        this.type    = 'AbstractGizmo'\r\n\r\n    }\r\n\r\n    init () {\r\n\r\n        this.handles = new Object3D()\r\n\r\n        this.add( this.handles )\r\n\r\n        //// PLANES\r\n        const planeGeometry = new PlaneBufferGeometry( 50, 50, 2, 2 )\r\n        const planeMaterial = new MeshBasicMaterial( {\r\n            side:    DoubleSide,\r\n            visible: false\r\n            //            transparent: true,\r\n            //            opacity:     0.1\r\n        } )\r\n        this.intersectPlane = new Mesh( planeGeometry, planeMaterial )\r\n        this.add( this.intersectPlane )\r\n\r\n        //// HANDLES\r\n\r\n        const setupGizmos = ( gizmoMap, parent ) => {\r\n\r\n            for ( let name in gizmoMap ) {\r\n\r\n                const element = gizmoMap[ name ]\r\n                if ( isNotArray( element ) ) {\r\n\r\n                    element.name        = name\r\n                    element.renderOrder = Infinity\r\n\r\n                    parent.add( element )\r\n\r\n                } else {\r\n\r\n                    for ( let i = element.length ; i-- ; ) {\r\n\r\n                        const object   = gizmoMap[ name ][ i ][ 0 ]\r\n                        const position = gizmoMap[ name ][ i ][ 1 ]\r\n                        const rotation = gizmoMap[ name ][ i ][ 2 ]\r\n                        const scale    = gizmoMap[ name ][ i ][ 3 ]\r\n                        const tag      = gizmoMap[ name ][ i ][ 4 ]\r\n\r\n                        // name and tag properties are essential for picking and updating logic.\r\n                        object.name = name\r\n                        object.tag  = tag\r\n\r\n                        // avoid being hidden by other transparent objects\r\n                        object.renderOrder = Infinity\r\n\r\n                        if ( position ) {\r\n                            object.position.set( position[ 0 ], position[ 1 ], position[ 2 ] )\r\n                        }\r\n                        if ( rotation ) {\r\n                            object.rotation.set( rotation[ 0 ], rotation[ 1 ], rotation[ 2 ] )\r\n                        }\r\n                        if ( scale ) {\r\n                            object.scale.set( scale[ 0 ], scale[ 1 ], scale[ 2 ] )\r\n                        }\r\n\r\n                        object.updateMatrix()\r\n\r\n                        const tempGeometry = object.geometry.clone()\r\n                        tempGeometry.applyMatrix( object.matrix )\r\n                        object.geometry = tempGeometry\r\n\r\n                        object.position.set( 0, 0, 0 )\r\n                        object.rotation.set( 0, 0, 0 )\r\n                        object.scale.set( 1, 1, 1 )\r\n\r\n                        parent.add( object )\r\n\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n        setupGizmos( this.handleGizmos, this.handles )\r\n\r\n    }\r\n\r\n    highlight ( axis ) {\r\n\r\n        // Reset highlight for all of them\r\n        for ( let key in this.handleGizmos ) {\r\n            this.handleGizmos[ key ].highlight( false )\r\n        }\r\n\r\n        // Highlight the picked (if exist)\r\n        const currentHandle = this.handleGizmos[ axis ]\r\n        if ( currentHandle ) {\r\n            currentHandle.highlight( true )\r\n        }\r\n\r\n    }\r\n\r\n    update ( cameraPosition, cameraDirection ) {\r\n\r\n        this.traverse( ( child ) => {\r\n\r\n            if ( !child.isHandle ) { return }\r\n\r\n            child.update( cameraDirection )\r\n\r\n        } )\r\n\r\n        this.updateIntersectPlane( cameraPosition )\r\n\r\n    }\r\n\r\n    updateIntersectPlane ( cameraPosition ) {\r\n\r\n        this.intersectPlane.lookAt( cameraPosition )\r\n\r\n    }\r\n\r\n}\r\n\r\nclass TranslateGizmo extends AbstractGizmo {\r\n\r\n    constructor () {\r\n\r\n        super()\r\n        this.isTranslateGizmo = true\r\n        this.type             = 'TranslateGizmo'\r\n\r\n        this.handleGizmos = {\r\n\r\n            X: new TranslateHandle( {\r\n                color:     0xaa0000,\r\n                direction: new Vector3( 1, 0, 0 )\r\n            } ),\r\n\r\n            Y: new TranslateHandle( {\r\n                color:     0x00aa00,\r\n                direction: new Vector3( 0, 1, 0 )\r\n            } ),\r\n\r\n            Z: new TranslateHandle( {\r\n                color:     0x0000aa,\r\n                direction: new Vector3( 0, 0, 1 )\r\n            } ),\r\n\r\n            XY: new LozengeHandle( {\r\n                color:     0xaaaa00,\r\n                direction: new Vector3( 1, 1, 0 )\r\n            } ).setScale( 0.33, 0.33, 1.0 ),\r\n\r\n            YZ: new LozengeHandle( {\r\n                color:     0x00aaaa,\r\n                direction: new Vector3( 0, 1, 1 )\r\n            } ).setScale( 0.33, 0.33, 1.0 )\r\n               .setRotationFromAxisAndAngle( new Vector3( 0, 1, 0 ), degreesToRadians( -90 ) ),\r\n\r\n            XZ: new LozengeHandle( {\r\n                color:     0xaa00aa,\r\n                direction: new Vector3( 1, 0, 1 )\r\n            } ).setScale( 0.33, 0.33, 1.0 )\r\n               .setRotationFromAxisAndAngle( new Vector3( 1, 0, 0 ), degreesToRadians( 90 ) ),\r\n\r\n            XYZ: new OctahedricalHandle( {\r\n                color: 0xaaaaaa\r\n            } ).setScale( 0.15, 0.15, 0.15 )\r\n\r\n        }\r\n\r\n        this.init()\r\n\r\n    }\r\n\r\n}\r\n\r\nclass RotateGizmo extends AbstractGizmo {\r\n\r\n    constructor () {\r\n\r\n        super()\r\n        this.isRotateGizmo = true\r\n        this.type          = 'RotateGizmo'\r\n\r\n        const CircleGeometry = ( radius, facing, arc ) => {\r\n\r\n            const geometry = new BufferGeometry()\r\n            let vertices   = []\r\n            arc            = arc ? arc : 1\r\n\r\n            for ( let i = 0 ; i <= 64 * arc ; ++i ) {\r\n\r\n                if ( facing === 'x' ) {\r\n                    vertices.push( 0, Math.cos( i / 32 * Math.PI ) * radius, Math.sin( i / 32 * Math.PI ) * radius )\r\n                }\r\n                if ( facing === 'y' ) {\r\n                    vertices.push( Math.cos( i / 32 * Math.PI ) * radius, 0, Math.sin( i / 32 * Math.PI ) * radius )\r\n                }\r\n                if ( facing === 'z' ) {\r\n                    vertices.push( Math.sin( i / 32 * Math.PI ) * radius, Math.cos( i / 32 * Math.PI ) * radius, 0 )\r\n                }\r\n\r\n            }\r\n\r\n            geometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) )\r\n            return geometry\r\n\r\n        }\r\n\r\n        this.handleGizmos = {\r\n\r\n            X: [\r\n                [ new Line( new CircleGeometry( 1, 'x', 0.5 ), new HighlightableLineMaterial( { color: 0xff0000 } ) ) ],\r\n                [ new Mesh( new OctahedronBufferGeometry( 0.04, 0 ), new HighlightableMaterial( { color: 0xff0000 } ) ), [ 0, 0, 0.99 ], null, [ 3, 1, 1 ] ]\r\n            ],\r\n\r\n            Y: [\r\n                [ new Line( new CircleGeometry( 1, 'y', 0.5 ), new HighlightableLineMaterial( { color: 0x00ff00 } ) ) ],\r\n                [ new Mesh( new OctahedronBufferGeometry( 0.04, 0 ), new HighlightableMaterial( { color: 0x00ff00 } ) ), [ 0, 0, 0.99 ], null, [ 3, 1, 1 ] ]\r\n            ],\r\n\r\n            Z: [\r\n                [ new Line( new CircleGeometry( 1, 'z', 0.5 ), new HighlightableLineMaterial( { color: 0x0000ff } ) ) ],\r\n                [ new Mesh( new OctahedronBufferGeometry( 0.04, 0 ), new HighlightableMaterial( { color: 0x0000ff } ) ), [ 0.99, 0, 0 ], null, [ 1, 3, 1 ] ]\r\n            ],\r\n\r\n            E: [\r\n                [ new Line( new CircleGeometry( 1.25, 'z', 1 ), new HighlightableLineMaterial( { color: 0xcccc00 } ) ) ]\r\n            ],\r\n\r\n            XYZ: [\r\n                [ new Line( new CircleGeometry( 1, 'z', 1 ), new HighlightableLineMaterial( { color: 0x787878 } ) ) ]\r\n            ]\r\n\r\n        }\r\n\r\n        this.pickerGizmos = {\r\n\r\n            X: [\r\n                [ new TorusHitbox(), [ 0, 0, 0 ], [ 0, -Math.PI / 2, -Math.PI / 2 ] ]\r\n            ],\r\n\r\n            Y: [\r\n                [ new TorusHitbox(), [ 0, 0, 0 ], [ Math.PI / 2, 0, 0 ] ]\r\n            ],\r\n\r\n            Z: [\r\n                [ new TorusHitbox(), [ 0, 0, 0 ], [ 0, 0, -Math.PI / 2 ] ]\r\n            ],\r\n\r\n            E: [\r\n                [\r\n                    new TorusHitbox( {\r\n                        radius:          1.25,\r\n                        tube:            0.12,\r\n                        radialSegments:  2,\r\n                        tubularSegments: 24\r\n                    } )\r\n                ]\r\n            ],\r\n\r\n            XYZ: [\r\n                [ new TorusHitbox() ]\r\n            ]\r\n\r\n        }\r\n\r\n        //        this.pickerGizmos.XYZ[ 0 ][ 0 ].visible = false // disable XYZ picker gizmo\r\n\r\n        this.init()\r\n\r\n    }\r\n\r\n    /*\r\n     update ( rotation, eye2 ) {\r\n\r\n     super.update( rotation, eye2 )\r\n\r\n     const tempMatrix     = new Matrix4()\r\n     const worldRotation  = new Euler( 0, 0, 1 )\r\n     const tempQuaternion = new Quaternion()\r\n     const unitX          = new Vector3( 1, 0, 0 )\r\n     const unitY          = new Vector3( 0, 1, 0 )\r\n     const unitZ          = new Vector3( 0, 0, 1 )\r\n     const quaternionX    = new Quaternion()\r\n     const quaternionY    = new Quaternion()\r\n     const quaternionZ    = new Quaternion()\r\n     const eye            = eye2.clone()\r\n\r\n     worldRotation.copy( this.planes[ 'XY' ].rotation )\r\n     tempQuaternion.setFromEuler( worldRotation )\r\n\r\n     tempMatrix.makeRotationFromQuaternion( tempQuaternion ).getInverse( tempMatrix )\r\n     eye.applyMatrix4( tempMatrix )\r\n\r\n     this.traverse( child => {\r\n\r\n     tempQuaternion.setFromEuler( worldRotation )\r\n\r\n     if ( child.name === 'X' ) {\r\n\r\n     quaternionX.setFromAxisAngle( unitX, Math.atan2( -eye.y, eye.z ) )\r\n     tempQuaternion.multiplyQuaternions( tempQuaternion, quaternionX )\r\n     child.quaternion.copy( tempQuaternion )\r\n\r\n     }\r\n\r\n     if ( child.name === 'Y' ) {\r\n\r\n     quaternionY.setFromAxisAngle( unitY, Math.atan2( eye.x, eye.z ) )\r\n     tempQuaternion.multiplyQuaternions( tempQuaternion, quaternionY )\r\n     child.quaternion.copy( tempQuaternion )\r\n\r\n     }\r\n\r\n     if ( child.name === 'Z' ) {\r\n\r\n     quaternionZ.setFromAxisAngle( unitZ, Math.atan2( eye.y, eye.x ) )\r\n     tempQuaternion.multiplyQuaternions( tempQuaternion, quaternionZ )\r\n     child.quaternion.copy( tempQuaternion )\r\n\r\n     }\r\n\r\n     } )\r\n\r\n     }\r\n     */\r\n\r\n}\r\n\r\nclass ScaleGizmo extends AbstractGizmo {\r\n\r\n    constructor () {\r\n\r\n        super()\r\n        this.isScaleGizmo = true\r\n        this.type         = 'ScaleGizmo'\r\n\r\n        this.handleGizmos = {\r\n\r\n            XYZ: new OctahedricalHandle( {\r\n                color: 0xaaaaaa\r\n            } ).setScale( 0.15, 0.15, 0.15 ),\r\n\r\n            XY: new PlaneHandle( {\r\n                color:     0xaaaa00,\r\n                direction: new Vector3( 1, 1, 0 )\r\n            } ).setScale( 0.33, 0.33, 1.0 ),\r\n\r\n            YZ: new PlaneHandle( {\r\n                color:     0x00aaaa,\r\n                direction: new Vector3( 0, 1, 1 )\r\n            } ).setScale( 0.33, 0.33, 1.0 )\r\n               .setRotationFromAxisAndAngle( new Vector3( 0, 1, 0 ), degreesToRadians( -90 ) ),\r\n\r\n            XZ: new PlaneHandle( {\r\n                color:     0xaa00aa,\r\n                direction: new Vector3( 1, 0, 1 )\r\n            } ).setScale( 0.33, 0.33, 1.0 )\r\n               .setRotationFromAxisAndAngle( new Vector3( 1, 0, 0 ), degreesToRadians( 90 ) ),\r\n\r\n            X: new ScaleHandle( {\r\n                color:     0xaa0000,\r\n                direction: new Vector3( 1, 0, 0 )\r\n            } ),\r\n\r\n            Y: new ScaleHandle( {\r\n                color:     0x00aa00,\r\n                direction: new Vector3( 0, 1, 0 )\r\n            } ),\r\n\r\n            Z: new ScaleHandle( {\r\n                color:     0x0000aa,\r\n                direction: new Vector3( 0, 0, 1 )\r\n            } )\r\n\r\n        }\r\n\r\n        this.init()\r\n\r\n    }\r\n\r\n}\r\n\r\n// Controller\r\nconst ClippingModes = toEnum( {\r\n    None:      0,\r\n    Translate: 1,\r\n    Rotate:    2,\r\n    Scale:     3\r\n} )\r\n\r\nclass ClippingControls extends Object3D {\r\n\r\n    constructor ( parameters = {} ) {\r\n\r\n        const _parameters = {\r\n            ...{\r\n                camera:        null,\r\n                domElement:    window,\r\n                mode:          ClippingModes.None,\r\n                objectsToClip: new Object3D()\r\n            }, ...parameters\r\n        }\r\n\r\n        super()\r\n\r\n        // Need to be defined before domElement to make correct binding events\r\n        this._handlers                 = {\r\n            onMouseEnter:  this._onMouseEnter.bind( this ),\r\n            onMouseLeave:  this._onMouseLeave.bind( this ),\r\n            onMouseDown:   this._onMouseDown.bind( this ),\r\n            onMouseMove:   this._onMouseMove.bind( this ),\r\n            onMouseWheel:  this._onMouseWheel.bind( this ),\r\n            onMouseUp:     this._onMouseUp.bind( this ),\r\n            onDblClick:    this._onDblClick.bind( this ),\r\n            onTouchStart:  this._onTouchStart.bind( this ),\r\n            onTouchEnd:    this._onTouchEnd.bind( this ),\r\n            onTouchCancel: this._onTouchCancel.bind( this ),\r\n            onTouchLeave:  this._onTouchLeave.bind( this ),\r\n            onTouchMove:   this._onTouchMove.bind( this ),\r\n            onKeyDown:     this._onKeyDown.bind( this ),\r\n            onKeyUp:       this._onKeyUp.bind( this )\r\n        }\r\n        // Could/Should(?) use the objectsToClip boundingbox if exist ! [only in case we are sure that boundingbox (is/must be) implemented for each object3D.]\r\n        this._objectsToClipBoundingBox = new Box3()\r\n\r\n        this._clippingBox = new ClippingBox()\r\n        this.add( this._clippingBox )\r\n\r\n        this.camera          = _parameters.camera\r\n        this.domElement      = _parameters.domElement\r\n        this.mode            = _parameters.mode\r\n        this.objectsToClip   = _parameters.objectsToClip\r\n        this.translationSnap = 0.1\r\n        this.scaleSnap       = 0.1\r\n        this.rotationSnap    = 0.1\r\n\r\n        this.enabled = false // Should be true by default\r\n\r\n        this.size = 1\r\n\r\n        this._dragging          = false\r\n        this._firstPoint        = new Vector3()\r\n        this._secondPoint       = new Vector3()\r\n        this._mouseDisplacement = new Vector3()\r\n        this._offset            = new Vector3()\r\n        this._raycaster         = new Raycaster()\r\n        this._pointerVector     = new Vector2()\r\n        this._directionToMouse  = new Vector3()\r\n        this._cameraPosition    = new Vector3()\r\n        this._cameraDirection   = new Vector3()\r\n        this._worldPosition     = new Vector3()\r\n        this._worldRotation     = new Euler()\r\n\r\n        this._gizmos = {\r\n            //            'None':      null,\r\n            'Translate': new TranslateGizmo(),\r\n            'Scale':     new ScaleGizmo()\r\n            //            'Rotate':    new RotateGizmo(),\r\n        }\r\n        for ( let mode in this._gizmos ) {\r\n            this.add( this._gizmos[ mode ] )\r\n        }\r\n        this._currentGizmo  = null\r\n        this._currentHandle = null\r\n\r\n        this._events = {\r\n            change:       { type: 'change' },\r\n            mouseEnter:   { type: 'mouseEnter' },\r\n            mouseLeave:   { type: 'mouseLeave' },\r\n            mouseDown:    { type: 'mouseDown' },\r\n            mouseUp:      { type: 'mouseUp' },\r\n            objectChange: { type: 'objectChange' }\r\n        }\r\n\r\n        // The actions map about input events\r\n        this.actionsMap = {\r\n            setMode:   {\r\n                translate: [ Keys.T.value ],\r\n                rotate:    [ Keys.R.value ],\r\n                scale:     [ Keys.S.value ]\r\n            },\r\n            translate: {\r\n                front: [ Keys.Z.value, Keys.UP_ARROW.value ],\r\n                back:  [ Keys.S.value, Keys.DOWN_ARROW.value ],\r\n                up:    [ Keys.A.value, Keys.PAGE_UP.value ],\r\n                down:  [ Keys.E.value, Keys.PAGE_DOWN.value ],\r\n                left:  [ Keys.Q.value, Keys.LEFT_ARROW.value ],\r\n                right: [ Keys.D.value, Keys.RIGHT_ARROW.value ]\r\n            },\r\n            scale:     {\r\n                widthPlus:   [ Keys.LEFT_ARROW.value ],\r\n                widthMinus:  [ Keys.RIGHT_ARROW.value ],\r\n                heightPlus:  [ Keys.PAGE_UP.value ],\r\n                heightMinus: [ Keys.PAGE_DOWN.value ],\r\n                depthPlus:   [ Keys.UP_ARROW.value ],\r\n                depthMinus:  [ Keys.DOWN_ARROW.value ]\r\n            },\r\n            rotate:    {\r\n                xAxis: [ Keys.X.value ],\r\n                yAxis: [ Keys.Y.value ],\r\n                zAxis: [ Keys.Z.value ]\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    get objectsToClip () {\r\n        return this._objectsToClip\r\n    }\r\n\r\n    set objectsToClip ( value ) {\r\n\r\n        if ( isNull( value ) ) { throw new Error( 'Objects to clip cannot be null ! Expect an instance of Object3D' ) }\r\n        if ( isUndefined( value ) ) { throw new Error( 'Objects to clip cannot be undefined ! Expect an instance of Object3D' ) }\r\n        if ( !( value instanceof Object3D ) ) { throw new Error( `Objects to clip cannot be an instance of ${value.constructor.name}. Expect an instance of Object3D.` ) }\r\n\r\n        this._objectsToClip = value\r\n\r\n        const size = new Vector3()\r\n        this._objectsToClipBoundingBox\r\n            .makeEmpty()\r\n            .expandByObject( value )\r\n            .getSize( size )\r\n\r\n        const x = Math.round( size.x ) || 50\r\n        const y = Math.round( size.y ) || 22\r\n        const z = Math.round( size.z ) || 70\r\n        this.scale.set( x, y, z )\r\n        //        this.scale.set( 50, 22, 70 )\r\n\r\n        this._clippingBox.update()\r\n\r\n    }\r\n\r\n    get camera () {\r\n        return this._camera\r\n    }\r\n\r\n    set camera ( value ) {\r\n\r\n        if ( isNull( value ) ) { throw new Error( 'Camera cannot be null ! Expect an instance of Camera' ) }\r\n        if ( isUndefined( value ) ) { throw new Error( 'Camera cannot be undefined ! Expect an instance of Camera' ) }\r\n        if ( !( value instanceof Camera ) ) { throw new Error( `Camera cannot be an instance of ${value.constructor.name}. Expect an instance of Camera.` ) }\r\n\r\n        this._camera = value\r\n\r\n    }\r\n\r\n    get domElement () {\r\n        return this._domElement\r\n    }\r\n\r\n    set domElement ( value ) {\r\n\r\n        if ( isNull( value ) ) { throw new Error( 'DomElement cannot be null ! Expect an instance of Window, HTMLDocument, HTMLDivElement or HTMLCanvasElement.' ) }\r\n        if ( isUndefined( value ) ) { throw new Error( 'DomElement cannot be undefined ! Expect an instance of Window, HTMLDocument, HTMLDivElement or HTMLCanvasElement.' ) }\r\n        if ( !( ( value instanceof Window ) || ( value instanceof HTMLDocument ) || ( value instanceof HTMLDivElement ) || ( value instanceof HTMLCanvasElement ) ) ) { throw new Error( `Target cannot be an instance of ${value.constructor.name}. Expect an instance of Window, HTMLDocument, HTMLDivElement or HTMLCanvasElement.` ) }\r\n\r\n        // Clear previous element\r\n        if ( this._domElement ) {\r\n            this._domElement.removeEventListener( 'mouseenter', this._handlers.onMouseEnter, false )\r\n            this._domElement.removeEventListener( 'mouseleave', this._handlers.onMouseLeave, false )\r\n            this.dispose()\r\n        }\r\n\r\n        this._domElement = value\r\n        this._domElement.addEventListener( 'mouseenter', this._handlers.onMouseEnter, false )\r\n        this._domElement.addEventListener( 'mouseleave', this._handlers.onMouseLeave, false )\r\n        this.impose()\r\n\r\n    }\r\n\r\n    get mode () {\r\n        return this._mode\r\n    }\r\n\r\n    set mode ( value ) {\r\n\r\n        if ( isNull( value ) ) { throw new Error( 'Mode cannot be null ! Expect a value from ClippingModes enum.' ) }\r\n        if ( isUndefined( value ) ) { throw new Error( 'Mode cannot be undefined ! Expect a value from ClippingModes enum.' ) }\r\n        if ( !( value instanceof ClippingModes ) ) { throw new Error( `Mode cannot be an instance of ${value.constructor.name}. Expect a value from TClippingModes enum.` ) }\r\n\r\n        this._mode = value\r\n\r\n        // Reset gizmos visibility\r\n        for ( let mode in this._gizmos ) {\r\n            this._gizmos[ mode ].visible = false\r\n        }\r\n\r\n        if ( this._mode === ClippingModes.None ) {\r\n\r\n            this._currentGizmo = null\r\n\r\n        } else {\r\n\r\n            this._currentGizmo         = this._gizmos[ this._mode.name ]\r\n            this._currentGizmo.visible = true\r\n\r\n        }\r\n\r\n    }\r\n\r\n    setCamera ( value ) {\r\n\r\n        this.camera = value\r\n        return this\r\n\r\n    }\r\n\r\n    setDomElement ( value ) {\r\n\r\n        this.domElement = value\r\n        return this\r\n\r\n    }\r\n\r\n    setMode ( value ) {\r\n\r\n        this.mode = value\r\n        return this\r\n\r\n    }\r\n\r\n    setObjectsToClip ( objects ) {\r\n\r\n        this.objectsToClip = objects\r\n        return this\r\n\r\n    }\r\n\r\n    impose () {\r\n\r\n        this._domElement.addEventListener( 'keydown', this._handlers.onKeyDown, false )\r\n        this._domElement.addEventListener( 'keyup', this._handlers.onKeyUp, false )\r\n\r\n        this._domElement.addEventListener( 'dblclick', this._handlers.onDblClick, false )\r\n        this._domElement.addEventListener( 'mousedown', this._handlers.onMouseDown, false )\r\n        this._domElement.addEventListener( 'mousemove', this._handlers.onMouseMove, false )\r\n        this._domElement.addEventListener( 'mouseup', this._handlers.onMouseUp, false )\r\n        this._domElement.addEventListener( 'wheel', this._handlers.onMouseWheel, {\r\n            capture: true,\r\n            once:    false,\r\n            passive: false\r\n        } )\r\n\r\n        this._domElement.addEventListener( 'touchcancel', this._handlers.onTouchCancel, false )\r\n        this._domElement.addEventListener( 'touchend', this._handlers.onTouchEnd, false )\r\n        this._domElement.addEventListener( 'touchleave', this._handlers.onTouchLeave, false )\r\n        this._domElement.addEventListener( 'touchmove', this._handlers.onTouchMove, {\r\n            capture: true,\r\n            once:    false,\r\n            passive: false\r\n        } )\r\n        this._domElement.addEventListener( 'touchstart', this._handlers.onTouchStart, {\r\n            capture: true,\r\n            once:    false,\r\n            passive: false\r\n        } )\r\n\r\n        this.dispatchEvent( { type: 'impose' } )\r\n\r\n    }\r\n\r\n    dispose () {\r\n\r\n        this._domElement.removeEventListener( 'keydown', this._handlers.onKeyDown, false )\r\n        this._domElement.removeEventListener( 'keyup', this._handlers.onKeyUp, false )\r\n\r\n        this._domElement.removeEventListener( 'dblclick', this._handlers.onDblClick, false )\r\n        this._domElement.removeEventListener( 'mousedown', this._handlers.onMouseDown, false )\r\n        this._domElement.removeEventListener( 'mousemove', this._handlers.onMouseMove, false )\r\n        this._domElement.removeEventListener( 'mouseup', this._handlers.onMouseUp, false )\r\n        this._domElement.removeEventListener( 'wheel', this._handlers.onMouseWheel, {\r\n            capture: true,\r\n            once:    false,\r\n            passive: false\r\n        } )\r\n\r\n        this._domElement.removeEventListener( 'touchcancel', this._handlers.onTouchCancel, false )\r\n        this._domElement.removeEventListener( 'touchend', this._handlers.onTouchEnd, false )\r\n        this._domElement.removeEventListener( 'touchleave', this._handlers.onTouchLeave, false )\r\n        this._domElement.removeEventListener( 'touchmove', this._handlers.onTouchMove, {\r\n            capture: true,\r\n            once:    false,\r\n            passive: false\r\n        } )\r\n        this._domElement.removeEventListener( 'touchstart', this._handlers.onTouchStart, {\r\n            capture: true,\r\n            once:    false,\r\n            passive: false\r\n        } )\r\n\r\n        this.dispatchEvent( { type: 'dispose' } )\r\n\r\n    }\r\n\r\n    setTranslationSnap ( translationSnap ) {\r\n        this.translationSnap = translationSnap\r\n    }\r\n\r\n    setRotationSnap ( rotationSnap ) {\r\n        this.rotationSnap = rotationSnap\r\n    }\r\n\r\n    enable () {\r\n\r\n        this.visible = true\r\n        this.enabled = true\r\n        this.updateClipping()\r\n\r\n    }\r\n\r\n    disable () {\r\n\r\n        this.visible = false\r\n        this.enabled = false\r\n        this.updateClipping()\r\n\r\n    }\r\n\r\n    updateClipping () {\r\n\r\n        if ( isNotDefined( this._objectsToClip ) ) { return }\r\n\r\n        this._clippingBox.update()\r\n        this._clippingBox.applyClippingTo( this.enabled, this._objectsToClip )\r\n\r\n    }\r\n\r\n    update () {\r\n\r\n        if ( !this.enabled ) { return }\r\n        if ( this._mode === ClippingModes.None ) { return }\r\n        if ( isNotDefined( this._currentGizmo ) ) { return }\r\n\r\n        this._camera.getWorldPosition( this._cameraPosition )\r\n        this._camera.getWorldDirection( this._cameraDirection )\r\n        this._currentGizmo.update( this._cameraPosition, this._cameraDirection )\r\n\r\n    }\r\n\r\n    /// Handlers\r\n    _consumeEvent ( event ) {\r\n\r\n        if ( !event.cancelable ) {\r\n            return\r\n        }\r\n\r\n        event.stopImmediatePropagation()\r\n\r\n    }\r\n\r\n    // Keyboard\r\n    _onKeyDown ( keyEvent ) {\r\n\r\n        if ( !this.enabled ) { return }\r\n        keyEvent.preventDefault()\r\n\r\n        const actionMap   = this.actionsMap\r\n        const key         = keyEvent.keyCode\r\n        const altActive   = keyEvent.altKey\r\n        const ctrlActive  = keyEvent.ctrlKey\r\n        const metaActive  = keyEvent.metaKey\r\n        const shiftActive = keyEvent.shiftKey\r\n\r\n        if ( altActive ) {\r\n\r\n        } else if ( ctrlActive ) {\r\n\r\n            switch ( this._mode ) {\r\n\r\n                case ClippingModes.Translate:\r\n\r\n                    if ( actionMap.translate.front.includes( key ) ) {\r\n\r\n                        this._translateZ( this.translationSnap )\r\n                        this.updateClipping()\r\n                        this._consumeEvent( keyEvent )\r\n                        this.dispatchEvent( this._events.objectChange )\r\n\r\n                    } else if ( actionMap.translate.back.includes( key ) ) {\r\n\r\n                        this._translateZ( -this.translationSnap )\r\n                        this.updateClipping()\r\n                        this._consumeEvent( keyEvent )\r\n                        this.dispatchEvent( this._events.objectChange )\r\n\r\n                    } else if ( actionMap.translate.right.includes( key ) ) {\r\n\r\n                        this._translateX( this.translationSnap )\r\n                        this.updateClipping()\r\n                        this._consumeEvent( keyEvent )\r\n                        this.dispatchEvent( this._events.objectChange )\r\n\r\n                    } else if ( actionMap.translate.left.includes( key ) ) {\r\n\r\n                        this._translateX( -this.translationSnap )\r\n                        this.updateClipping()\r\n                        this._consumeEvent( keyEvent )\r\n                        this.dispatchEvent( this._events.objectChange )\r\n\r\n                    } else if ( actionMap.translate.up.includes( key ) ) {\r\n\r\n                        this._translateY( this.translationSnap )\r\n                        this.updateClipping()\r\n                        this._consumeEvent( keyEvent )\r\n                        this.dispatchEvent( this._events.objectChange )\r\n\r\n                    } else if ( actionMap.translate.down.includes( key ) ) {\r\n\r\n                        this._translateY( -this.translationSnap )\r\n                        this.updateClipping()\r\n                        this._consumeEvent( keyEvent )\r\n                        this.dispatchEvent( this._events.objectChange )\r\n\r\n                    }\r\n\r\n                    break\r\n\r\n                case ClippingModes.Rotate:\r\n\r\n                    break\r\n\r\n                case ClippingModes.Scale:\r\n\r\n                    if ( actionMap.scale.depthPlus.includes( key ) ) {\r\n\r\n                        this._scaleZ( this.scaleSnap )\r\n                        this.updateClipping()\r\n                        this._consumeEvent( keyEvent )\r\n                        this.dispatchEvent( this._events.objectChange )\r\n\r\n                    } else if ( actionMap.scale.depthMinus.includes( key ) ) {\r\n\r\n                        this._scaleZ( -this.scaleSnap )\r\n                        this.updateClipping()\r\n                        this._consumeEvent( keyEvent )\r\n                        this.dispatchEvent( this._events.objectChange )\r\n\r\n                    } else if ( actionMap.scale.widthPlus.includes( key ) ) {\r\n\r\n                        this._scaleX( this.scaleSnap )\r\n                        this.updateClipping()\r\n                        this._consumeEvent( keyEvent )\r\n                        this.dispatchEvent( this._events.objectChange )\r\n\r\n                    } else if ( actionMap.scale.widthMinus.includes( key ) ) {\r\n\r\n                        this._scaleX( -this.scaleSnap )\r\n                        this.updateClipping()\r\n                        this._consumeEvent( keyEvent )\r\n                        this.dispatchEvent( this._events.objectChange )\r\n\r\n                    } else if ( actionMap.scale.heightPlus.includes( key ) ) {\r\n\r\n                        this._scaleY( this.scaleSnap )\r\n                        this.updateClipping()\r\n                        this._consumeEvent( keyEvent )\r\n                        this.dispatchEvent( this._events.objectChange )\r\n\r\n                    } else if ( actionMap.scale.heightMinus.includes( key ) ) {\r\n\r\n                        this._scaleY( -this.scaleSnap )\r\n                        this.updateClipping()\r\n                        this._consumeEvent( keyEvent )\r\n                        this.dispatchEvent( this._events.objectChange )\r\n\r\n                    }\r\n\r\n                    break\r\n\r\n                default:\r\n                    break\r\n\r\n            }\r\n\r\n        } else if ( metaActive ) {\r\n        } else if ( shiftActive ) {\r\n        } else if ( actionMap.setMode.translate.includes( key ) ) {\r\n\r\n            this.setMode( ClippingModes.Translate )\r\n            this.updateClipping()\r\n            this._consumeEvent( keyEvent )\r\n\r\n        } else if ( actionMap.setMode.rotate.includes( key ) ) {\r\n\r\n            this.setMode( ClippingModes.Rotate )\r\n            this.updateClipping()\r\n            this._consumeEvent( keyEvent )\r\n\r\n        } else if ( actionMap.setMode.scale.includes( key ) ) {\r\n\r\n            this.setMode( ClippingModes.Scale )\r\n            this.updateClipping()\r\n            this._consumeEvent( keyEvent )\r\n\r\n        }\r\n\r\n    }\r\n\r\n    _onKeyUp ( keyEvent ) {\r\n\r\n        if ( !this.enabled || keyEvent.defaultPrevented ) { return }\r\n        keyEvent.preventDefault()\r\n\r\n        // Todo...\r\n\r\n    }\r\n\r\n    // Mouse\r\n    _onDblClick ( mouseEvent ) {\r\n\r\n        if ( !this.enabled ) { return }\r\n        if ( this._mode === ClippingModes.None ) { return }\r\n        mouseEvent.preventDefault()\r\n\r\n        // Todo...\r\n\r\n    }\r\n\r\n    _onMouseDown ( mouseEvent ) {\r\n\r\n        if ( !this.enabled ) { return }\r\n        if ( this._mode === ClippingModes.None ) { return }\r\n        if ( mouseEvent.button !== Mouse.LEFT.value ) { return }\r\n        if ( isNotDefined( this._currentHandle ) ) { return }\r\n\r\n        mouseEvent.preventDefault()\r\n\r\n        this._dragging = true\r\n\r\n        // Set the current plane to intersect with mouse\r\n        // Add first reference to mouse position for next usage under mouse move\r\n        const planeIntersect = this.intersectObjects( mouseEvent, [ this._currentGizmo.intersectPlane ] )\r\n        if ( planeIntersect ) {\r\n            this._firstPoint = planeIntersect.point\r\n        }\r\n\r\n        this._consumeEvent( mouseEvent )\r\n        this.dispatchEvent( this._events.mouseDown )\r\n\r\n    }\r\n\r\n    _onMouseEnter ( mouseEvent ) {\r\n\r\n        if ( !this.enabled ) { return }\r\n        if ( this._mode === ClippingModes.None ) { return }\r\n        mouseEvent.preventDefault()\r\n\r\n        this.impose()\r\n        if ( mouseEvent.target.constructor !== HTMLDocument ) {\r\n            this._domElement.focus()\r\n        }\r\n\r\n    }\r\n\r\n    _onMouseLeave ( mouseEvent ) {\r\n\r\n        if ( !this.enabled ) { return }\r\n        if ( this._mode === ClippingModes.None ) { return }\r\n        mouseEvent.preventDefault()\r\n\r\n        this._dragging = false\r\n\r\n        if ( mouseEvent.target.constructor !== HTMLDocument ) {\r\n            this._domElement.blur()\r\n        }\r\n        this.dispose()\r\n\r\n    }\r\n\r\n    _onMouseMove ( mouseEvent ) {\r\n\r\n        if ( !this.enabled ) { return }\r\n        if ( this._mode === ClippingModes.None ) { return }\r\n\r\n        mouseEvent.preventDefault()\r\n\r\n        // Check for hovering or not\r\n        if ( this._dragging === false ) {\r\n\r\n            // Check mouseIn\r\n            const intersect = this.intersectObjects( mouseEvent, this._currentGizmo.handles.children )\r\n            if ( intersect ) {\r\n\r\n                const handle = intersect.object\r\n\r\n                // Check if a previous handle is already selected\r\n                if ( this._currentHandle && handle !== this._currentHandle ) {\r\n                    this._currentHandle.highlight( false )\r\n                    this.dispatchEvent( this._events.mouseLeave )\r\n                }\r\n\r\n                this._currentHandle = handle\r\n                this._currentHandle.highlight( true )\r\n                this.dispatchEvent( this._events.mouseEnter )\r\n\r\n                this._consumeEvent( mouseEvent )\r\n\r\n            } else if ( isDefined( this._currentHandle ) ) {\r\n\r\n                this._currentHandle.highlight( false )\r\n                this._currentHandle = null\r\n                this.dispatchEvent( this._events.mouseLeave )\r\n\r\n            }\r\n\r\n        } else {\r\n\r\n            const currentHandle     = this._currentHandle\r\n            const currentHandleName = currentHandle.name\r\n\r\n            const planeIntersect = this.intersectObjects( mouseEvent, [ this._currentGizmo.intersectPlane ] )\r\n            if ( planeIntersect ) {\r\n\r\n                this._secondPoint = planeIntersect.point\r\n\r\n            }\r\n\r\n            // Update the mouse displacement in world coordinates\r\n            this._mouseDisplacement.subVectors( this._secondPoint, this._firstPoint )\r\n            this._firstPoint.copy( this._secondPoint )\r\n\r\n            // Apply change\r\n            switch ( this._mode ) {\r\n\r\n                case ClippingModes.Translate:\r\n\r\n                    if ( currentHandleName === 'X' ) {\r\n\r\n                        this._offset.set( 1, 0, 0 )\r\n\r\n                    } else if ( currentHandleName === 'Y' ) {\r\n\r\n                        this._offset.set( 0, 1, 0 )\r\n\r\n                    } else if ( currentHandleName === 'Z' ) {\r\n\r\n                        this._offset.set( 0, 0, 1 )\r\n\r\n                    } else if ( currentHandleName === 'XY' ) {\r\n\r\n                        this._offset.set( 1, 1, 0 )\r\n\r\n                    } else if ( currentHandleName === 'YZ' ) {\r\n\r\n                        this._offset.set( 0, 1, 1 )\r\n\r\n                    } else if ( currentHandleName === 'XZ' ) {\r\n\r\n                        this._offset.set( 1, 0, 1 )\r\n\r\n                    } else if ( currentHandleName === 'XYZ' ) {\r\n\r\n                        this._offset.set( 1, 1, 1 )\r\n\r\n                    }\r\n\r\n                    this._offset.multiply( this._mouseDisplacement )\r\n                    this._translate( this._offset )\r\n                    break\r\n\r\n                case ClippingModes.Rotate:\r\n\r\n                    if ( currentHandle.isRotateHandle ) {\r\n\r\n                    } else if ( currentHandle.isPlaneHandle ) {\r\n\r\n                    } else if ( currentHandle.isOmnidirectionalHandle ) {\r\n\r\n                    }\r\n\r\n                    break\r\n\r\n                case ClippingModes.Scale:\r\n\r\n                    if ( currentHandle.isScaleHandle ) {\r\n\r\n                        this._offset\r\n                            .copy( this._currentHandle.direction )\r\n                            .multiply( this._mouseDisplacement )\r\n\r\n                    } else if ( currentHandle.isPlaneHandle ) {\r\n\r\n                        const xDot = this._currentHandle.xDirection.dot( this._mouseDisplacement )\r\n                        if ( xDot > 0 ) {\r\n                            this._offset.setX( Math.abs( this._mouseDisplacement.x ) )\r\n                        } else if ( xDot < 0 ) {\r\n                            this._offset.setX( -Math.abs( this._mouseDisplacement.x ) )\r\n                        } else {\r\n                            this._offset.setX( 0 )\r\n                        }\r\n\r\n                        const yDot = this._currentHandle.yDirection.dot( this._mouseDisplacement )\r\n                        if ( yDot > 0 ) {\r\n                            this._offset.setY( Math.abs( this._mouseDisplacement.y ) )\r\n                        } else if ( yDot < 0 ) {\r\n                            this._offset.setY( -Math.abs( this._mouseDisplacement.y ) )\r\n                        } else {\r\n                            this._offset.setY( 0 )\r\n                        }\r\n\r\n                        const zDot = this._currentHandle.zDirection.dot( this._mouseDisplacement )\r\n                        if ( zDot > 0 ) {\r\n                            this._offset.setZ( Math.abs( this._mouseDisplacement.z ) )\r\n                        } else if ( zDot < 0 ) {\r\n                            this._offset.setZ( -Math.abs( this._mouseDisplacement.z ) )\r\n                        } else {\r\n                            this._offset.setZ( 0 )\r\n                        }\r\n\r\n                    } else if ( currentHandle.isOmnidirectionalHandle ) {\r\n\r\n                        this.getWorldPosition( this._worldPosition )\r\n                        this._directionToMouse.subVectors( this._firstPoint, this._worldPosition )\r\n                        const worldDot = this._directionToMouse.dot( this._mouseDisplacement )\r\n                        const length   = ( worldDot > 0 ) ? this._mouseDisplacement.length() : -this._mouseDisplacement.length()\r\n                        this._offset.set( length, length, length )\r\n\r\n                    }\r\n\r\n                    this._scale( this._offset )\r\n                    break\r\n\r\n                default:\r\n                    throw new RangeError( `Invalid switch parameter: ${this._mode}` )\r\n                    break\r\n\r\n            }\r\n\r\n            this.updateClipping()\r\n            this._consumeEvent( mouseEvent )\r\n            this.dispatchEvent( this._events.objectChange )\r\n\r\n        }\r\n\r\n    }\r\n\r\n    _onMouseUp ( mouseEvent ) {\r\n\r\n        if ( !this.enabled ) { return }\r\n        if ( this._mode === ClippingModes.None ) { return }\r\n        if ( event.button !== Mouse.LEFT.value ) { return }\r\n\r\n        mouseEvent.preventDefault()\r\n        this._consumeEvent( mouseEvent )\r\n\r\n        this._dragging = false\r\n        this.dispatchEvent( this._events.mouseUp )\r\n\r\n        // Check mouseIn\r\n        const intersect = this.intersectObjects( mouseEvent, this._currentGizmo.handles.children )\r\n        if ( intersect ) {\r\n\r\n            const handle = intersect.object\r\n\r\n            this._currentHandle = handle\r\n            this._currentHandle.highlight( true )\r\n\r\n            this._consumeEvent( mouseEvent )\r\n            this.dispatchEvent( this._events.mouseEnter )\r\n\r\n        } else if ( isDefined( this._currentHandle ) ) {\r\n\r\n            this._currentHandle.highlight( false )\r\n            this._currentHandle = null\r\n\r\n            this.dispatchEvent( this._events.mouseLeave )\r\n\r\n        }\r\n\r\n    }\r\n\r\n    _onMouseWheel ( mouseEvent ) {\r\n\r\n        if ( !this.enabled ) { return }\r\n        mouseEvent.preventDefault()\r\n\r\n        // Todo...\r\n\r\n    }\r\n\r\n    // Touche\r\n    _onTouchCancel ( touchEvent ) {\r\n\r\n        if ( !this.enabled ) { return }\r\n        touchEvent.preventDefault()\r\n\r\n        // Todo...\r\n\r\n    }\r\n\r\n    _onTouchEnd ( touchEvent ) {\r\n\r\n        if ( !this.enabled ) { return }\r\n        touchEvent.preventDefault()\r\n\r\n        // Todo...\r\n\r\n    }\r\n\r\n    _onTouchLeave ( touchEvent ) {\r\n\r\n        if ( !this.enabled ) { return }\r\n        touchEvent.preventDefault()\r\n\r\n        // Todo...\r\n\r\n    }\r\n\r\n    _onTouchMove ( touchEvent ) {\r\n\r\n        if ( !this.enabled ) { return }\r\n        touchEvent.preventDefault()\r\n\r\n        // Todo...\r\n\r\n    }\r\n\r\n    _onTouchStart ( touchEvent ) {\r\n\r\n        if ( !this.enabled ) { return }\r\n        touchEvent.preventDefault()\r\n\r\n        // Todo...\r\n\r\n    }\r\n\r\n    /// Utils\r\n    getActiveHandle ( pointer ) {\r\n\r\n    }\r\n\r\n    intersectObjects ( pointer, objects ) {\r\n\r\n        // calculate mouse position in normalized device coordinates\r\n        // (-1 to +1) for both components\r\n        /*\r\n         const mousePositionX  = mouseEvent.layerX || mouseEvent.offsetX || 1\r\n         const mousePositionY  = mouseEvent.layerY || mouseEvent.offsetY || 1\r\n         const containerWidth  = this._domElement.offsetWidth\r\n         const containerHeight = this._domElement.offsetHeight\r\n         const x               = ( mousePositionX / containerWidth ) * 2 - 1\r\n         const y               = -( mousePositionY / containerHeight ) * 2 + 1\r\n         */\r\n\r\n        const clientRect = this._domElement.getBoundingClientRect()\r\n        const x          = ( ( ( pointer.clientX - clientRect.left ) / clientRect.width ) * 2 ) - 1\r\n        const y          = ( -( ( pointer.clientY - clientRect.top ) / clientRect.height ) * 2 ) + 1\r\n\r\n        this._pointerVector.set( x, y )\r\n        this._raycaster.setFromCamera( this._pointerVector, this._camera )\r\n\r\n        const intersections = this._raycaster.intersectObjects( objects, false )\r\n        return intersections[ 0 ] ? intersections[ 0 ] : null\r\n\r\n    }\r\n\r\n    // Methods\r\n\r\n    // Moving\r\n    _translate ( displacement ) {\r\n\r\n        this.position.add( displacement )\r\n\r\n    }\r\n\r\n    _translateX ( deltaX ) {\r\n\r\n        this.position.setX( this.position.x + deltaX )\r\n\r\n    }\r\n\r\n    _translateY ( deltaY ) {\r\n\r\n        this.position.setY( this.position.y + deltaY )\r\n\r\n    }\r\n\r\n    _translateZ ( deltaZ ) {\r\n\r\n        this.position.setZ( this.position.z + deltaZ )\r\n\r\n    }\r\n\r\n    _translateXY ( deltaX, deltaY ) {\r\n\r\n        this.position.setX( this.position.x + deltaX )\r\n        this.position.setY( this.position.y + deltaY )\r\n\r\n    }\r\n\r\n    _translateXZ ( deltaX, deltaZ ) {\r\n\r\n        this.position.setX( this.position.x + deltaX )\r\n        this.position.setZ( this.position.z + deltaZ )\r\n\r\n    }\r\n\r\n    _translateYZ ( deltaY, deltaZ ) {\r\n\r\n        this.position.setY( this.position.y + deltaY )\r\n        this.position.setZ( this.position.z + deltaZ )\r\n\r\n    }\r\n\r\n    _translateXYZ ( deltaX, deltaY, deltaZ ) {\r\n\r\n        this.position.set( this.position.x + deltaX, this.position.y + deltaY, this.position.z + deltaZ )\r\n\r\n    }\r\n\r\n    // Rotating\r\n    _rotateX ( delta ) {}\r\n\r\n    _rotateY ( delta ) {}\r\n\r\n    _rotateZ ( delta ) {}\r\n\r\n    _rotateXY ( delta ) {}\r\n\r\n    _rotateXZ ( delta ) {}\r\n\r\n    _rotateYZ ( delta ) {}\r\n\r\n    _rotateXYZ ( delta ) {}\r\n\r\n    // Scaling\r\n    _scale ( changeAmout ) {\r\n\r\n        this.scale.add( changeAmout )\r\n\r\n    }\r\n\r\n    _scaleX ( deltaX ) {\r\n\r\n        this.scale.setX( this.scale.x + deltaX )\r\n\r\n    }\r\n\r\n    _scaleY ( deltaY ) {\r\n\r\n        this.scale.setY( this.scale.y + deltaY )\r\n\r\n    }\r\n\r\n    _scaleZ ( deltaZ ) {\r\n\r\n        this.scale.setZ( this.scale.z + deltaZ )\r\n\r\n    }\r\n\r\n    _scaleXY ( deltaX, deltaY ) {\r\n\r\n        this.scale.setX( this.scale.x + deltaX )\r\n        this.scale.setY( this.scale.y + deltaY )\r\n\r\n    }\r\n\r\n    _scaleXZ ( deltaX, deltaZ ) {\r\n\r\n        this.scale.setX( this.scale.x + deltaX )\r\n        this.scale.setZ( this.scale.z + deltaZ )\r\n\r\n    }\r\n\r\n    _scaleYZ ( deltaY, deltaZ ) {\r\n\r\n        this.scale.setY( this.scale.y + deltaY )\r\n        this.scale.setZ( this.scale.z + deltaZ )\r\n\r\n    }\r\n\r\n    _scaleXYZ ( deltaX, deltaY, deltaZ ) {\r\n\r\n        this.scale.set( this.scale.x + deltaX, this.scale.y + deltaY, this.scale.z + deltaZ )\r\n\r\n    }\r\n\r\n}\r\n\r\nexport {\r\n    ClippingBox,\r\n    HighlightableMaterial,\r\n    HighlightableLineMaterial,\r\n    AbstractGizmo,\r\n    TranslateGizmo,\r\n    RotateGizmo,\r\n    ScaleGizmo,\r\n    ClippingModes,\r\n    ClippingControls\r\n}\r\n","/**\r\n * @author [Tristan Valcke]{@link https://github.com/Itee}\r\n * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause}\r\n *\r\n * @file Todo\r\n *\r\n * @example Todo\r\n *\r\n */\r\n\r\nimport { TDataBaseManager } from 'itee-client'\r\nimport { isObject }         from 'itee-validators'\r\nimport {\r\n    Object3D,\r\n    Scene\r\n}                           from 'three-full'\r\n\r\n/**\r\n *\r\n * @constructor\r\n */\r\nfunction BufferGeometriesManager () {\r\n\r\n    TDataBaseManager.call( this )\r\n    this.basePath = '/buffergeometries'\r\n\r\n}\r\n\r\nBufferGeometriesManager.prototype = Object.assign( Object.create( TDataBaseManager.prototype ), {\r\n\r\n    /**\r\n     *\r\n     */\r\n    constructor: BufferGeometriesManager,\r\n\r\n    /**\r\n     *\r\n     * @param jsonData\r\n     * @param onError\r\n     * @return {*}\r\n     */\r\n    convert ( data, onError ) {\r\n\r\n        const textureType = data.type\r\n        let texture       = undefined\r\n\r\n        switch ( textureType ) {\r\n\r\n            case 'Scene':\r\n                texture = new Scene()\r\n                break\r\n\r\n            default:\r\n                texture = new Object3D()\r\n                break\r\n\r\n        }\r\n\r\n        // Common object properties\r\n\r\n        if ( textureType === 'Line' ) {\r\n\r\n        }\r\n\r\n        return texture\r\n\r\n    }\r\n\r\n} )\r\n\r\nObject.defineProperties( BufferGeometriesManager.prototype, {\r\n\r\n    /**\r\n     *\r\n     */\r\n    _onJson: {\r\n        value: function _onJson ( jsonData, onSuccess, onProgress, onError ) {\r\n\r\n            // Normalize to array\r\n            const datas   = ( isObject( jsonData ) ) ? [ jsonData ] : jsonData\r\n            const results = {}\r\n            let result    = undefined\r\n\r\n            for ( let dataIndex = 0, numberOfDatas = datas.length, data = undefined ; dataIndex < numberOfDatas ; dataIndex++ ) {\r\n\r\n                data   = datas[ dataIndex ]\r\n                result = this.convert( data, onError )\r\n                if ( result ) { results[ data._id ] = result }\r\n\r\n                onProgress( dataIndex / numberOfDatas )\r\n\r\n            }\r\n\r\n            onSuccess( results )\r\n\r\n        }\r\n    }\r\n\r\n} )\r\n\r\nexport { BufferGeometriesManager }\r\n","/**\r\n * @author [Tristan Valcke]{@link https://github.com/Itee}\r\n * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause}\r\n *\r\n * @file Todo\r\n *\r\n * @example Todo\r\n *\r\n */\r\n\r\nimport { TDataBaseManager } from 'itee-client'\r\nimport { isObject }         from 'itee-validators'\r\nimport {\r\n    ArcCurve,\r\n    CatmullRomCurve3,\r\n    CubicBezierCurve,\r\n    CubicBezierCurve3,\r\n    Curve,\r\n    CurvePath,\r\n    EllipseCurve,\r\n    LineCurve,\r\n    LineCurve3,\r\n    Path,\r\n    QuadraticBezierCurve,\r\n    QuadraticBezierCurve3,\r\n    Shape,\r\n    SplineCurve\r\n}                           from 'three-full'\r\n\r\n/**\r\n *\r\n * @constructor\r\n */\r\nfunction CurvesManager () {\r\n\r\n    TDataBaseManager.call( this )\r\n    this.basePath = '/curves'\r\n\r\n}\r\n\r\nCurvesManager.prototype = Object.assign( Object.create( TDataBaseManager.prototype ), {\r\n\r\n    /**\r\n     *\r\n     */\r\n    constructor: CurvesManager,\r\n\r\n    /**\r\n     *\r\n     * @param data\r\n     * @return {*}\r\n     */\r\n    convert ( data ) {\r\n\r\n        if ( !data ) {\r\n            throw new Error( 'CurvesManager: Unable to convert null or undefined data !' )\r\n        }\r\n\r\n        const curveType = data.type\r\n        let curve       = undefined\r\n\r\n        switch ( curveType ) {\r\n\r\n            case 'ArcCurve':\r\n                curve = new ArcCurve()\r\n                break\r\n\r\n            case 'CatmullRomCurve3':\r\n                curve = new CatmullRomCurve3()\r\n                break\r\n\r\n            case 'CubicBezierCurve':\r\n                curve = new CubicBezierCurve()\r\n                break\r\n\r\n            case 'CubicBezierCurve3':\r\n                curve = new CubicBezierCurve3()\r\n                break\r\n\r\n            case 'Curve':\r\n                curve = new Curve()\r\n                break\r\n\r\n            case 'CurvePath':\r\n                curve = new CurvePath()\r\n                break\r\n\r\n            case 'EllipseCurve':\r\n                curve = new EllipseCurve()\r\n                break\r\n\r\n            case 'LineCurve':\r\n                curve = new LineCurve()\r\n                break\r\n\r\n            case 'LineCurve3':\r\n                curve = new LineCurve3()\r\n                break\r\n\r\n            // Missing NURBSCurve\r\n\r\n            case 'Path':\r\n                curve = new Path()\r\n                break\r\n\r\n            case 'QuadraticBezierCurve':\r\n                curve = new QuadraticBezierCurve()\r\n                break\r\n\r\n            case 'QuadraticBezierCurve3':\r\n                curve = new QuadraticBezierCurve3()\r\n                break\r\n\r\n            case 'SplineCurve':\r\n                curve = new SplineCurve()\r\n                break\r\n\r\n            case 'Shape':\r\n                curve = new Shape()\r\n                break\r\n\r\n            default:\r\n                throw new Error( `TCurvesManager: Unknown curve of type: ${curveType}` )\r\n                break\r\n\r\n        }\r\n\r\n        curve.fromJSON( data )\r\n\r\n        return curve\r\n\r\n    }\r\n\r\n} )\r\n\r\nObject.defineProperties( CurvesManager.prototype, {\r\n\r\n    /**\r\n     *\r\n     */\r\n    _onJson: {\r\n        value: function _onJson ( jsonData, onSuccess, onProgress, onError ) {\r\n\r\n            // Normalize to array\r\n            const datas   = ( isObject( jsonData ) ) ? [ jsonData ] : jsonData\r\n            const results = {}\r\n\r\n            for ( let dataIndex = 0, numberOfDatas = datas.length, data = undefined ; dataIndex < numberOfDatas ; dataIndex++ ) {\r\n\r\n                data = datas[ dataIndex ]\r\n\r\n                try {\r\n                    results[ data._id ] = this.convert( data )\r\n                } catch ( err ) {\r\n                    onError( err )\r\n                }\r\n\r\n                onProgress( dataIndex / numberOfDatas )\r\n\r\n            }\r\n\r\n            onSuccess( results )\r\n\r\n        }\r\n    }\r\n\r\n} )\r\n\r\nexport { CurvesManager }\r\n","/**\r\n * @author [Ahmed DCHAR]{@link https://github.com/Dragoneel}\r\n * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause}\r\n *\r\n * @class ClassName\r\n * @classdesc Todo...\r\n * @example Todo...\r\n *\r\n */\r\n\r\n/* eslint-env browser */\r\n\r\nimport {\r\n    DefaultLogger as TLogger,\r\n    ResponseType,\r\n    TDataBaseManager\r\n} from 'itee-client'\r\nimport {\r\n    isNotDefined,\r\n    isObject\r\n} from 'itee-validators'\r\nimport {\r\n    BufferGeometry,\r\n    Float32BufferAttribute,\r\n    Line,\r\n    LineBasicMaterial,\r\n    Mesh,\r\n    MeshPhongMaterial,\r\n    SphereBufferGeometry\r\n} from 'three-full'\r\n\r\nclass FilairesManager extends TDataBaseManager {\r\n\r\n    /**\r\n     *\r\n     * @param basePath\r\n     * @param responseType\r\n     * @param bunchSize\r\n     * @param progressManager\r\n     * @param errorManager\r\n     */\r\n    constructor ( parameters = {} ) {\r\n\r\n        const _parameters = {\r\n            ...{\r\n                basePath:               '/',\r\n                responseType:           ResponseType.Json,\r\n                bunchSize:              500,\r\n                requestAggregationTime: 200,\r\n                requestsConcurrency:    6,\r\n                logger:                 TLogger\r\n            }, ...parameters\r\n        }\r\n\r\n        super( _parameters )\r\n\r\n    }\r\n\r\n    //// Methods\r\n\r\n    _onJson ( jsonData, onSuccess, onProgress, onError ) {\r\n\r\n        // Normalize to array\r\n        const datas   = ( isObject( jsonData ) ) ? [ jsonData ] : jsonData\r\n        const results = {}\r\n\r\n        for ( let dataIndex = 0, numberOfDatas = datas.length, data = undefined ; dataIndex < numberOfDatas ; dataIndex++ ) {\r\n\r\n            data = datas[ dataIndex ]\r\n\r\n            try {\r\n                results[ data.id ] = this.convert( data )\r\n            } catch ( err ) {\r\n                onError( err )\r\n            }\r\n\r\n            onProgress( new ProgressEvent( 'FilairesManager', {\r\n                lengthComputable: true,\r\n                loaded:           dataIndex + 1,\r\n                total:            numberOfDatas\r\n            } ) )\r\n\r\n        }\r\n\r\n        onSuccess( results )\r\n\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param data\r\n     * @return {*}\r\n     */\r\n    convert ( data ) {\r\n\r\n        if ( !data ) {\r\n            throw new Error( 'FilairesManager: Unable to convert null or undefined data !' )\r\n        }\r\n\r\n        const objectType = data.type\r\n        let object       = null\r\n\r\n        if ( isNotDefined( objectType ) ) {\r\n            throw new Error( `TFilaireManager.convert() : data type must be defined !!!` )\r\n        }\r\n\r\n        switch ( objectType ) {\r\n\r\n            case 'NaissanceVoute':\r\n                object = this._parseFilaire( data, 0x875100 )\r\n                break\r\n\r\n            case 'Radier':\r\n                object = this._parseFilaire( data, 0x0089af )\r\n                break\r\n\r\n            case 'Intrados':\r\n                object = this._parseFilaire( data, 0xc100b4 )\r\n                break\r\n\r\n            case 'Br':\r\n            case 'Bp':\r\n            case 'Src':\r\n                object = this._parsePoint( data, 0x00ff00 )\r\n                break\r\n\r\n            default:\r\n                throw new Error( `TFilaireManager: Unknown object of type: ${objectType}` )\r\n\r\n        }\r\n\r\n        return object\r\n\r\n    }\r\n\r\n    _parseFilaire ( data, color ) {\r\n\r\n        const geoJson   = JSON.parse( data.geojson )\r\n        const positions = geoJson.coordinates.reduce( ( acc, val ) => acc.concat( val ), [] )\r\n\r\n        if ( isNotDefined( positions ) ) {\r\n            throw new Error( `TFilaireManager._parseFilaire() : ${data.type} geometry doesn't contains coordinates !!!` )\r\n        }\r\n\r\n        const material = new LineBasicMaterial( {\r\n            color: color\r\n        } )\r\n\r\n        const bufferGeometry = new BufferGeometry()\r\n        bufferGeometry.addAttribute( 'position', new Float32BufferAttribute( positions, 3 ) )\r\n\r\n        let object = new Line( bufferGeometry, material )\r\n        if ( !isNotDefined( data.type ) ) {\r\n            object.name = ''.concat( data.type, '_' ).concat( data.numero_bloc, '_' ).concat( data.id )\r\n        } else {\r\n            object.name = ''.concat( data.id )\r\n        }\r\n\r\n        return object\r\n\r\n    }\r\n\r\n    _parsePoint ( data, color ) {\r\n\r\n        const geoJson   = JSON.parse( data.geojson )\r\n        const positions = geoJson.coordinates.reduce( ( acc, val ) => acc.concat( val ), [] )\r\n\r\n        if ( isNotDefined( positions ) ) {\r\n            throw new Error( 'FilairesManager._parsePoint() : '.concat( data.type, ' geometry doesn\\'t contains coordinates !!!' ) )\r\n        }\r\n\r\n        let geometry = new SphereBufferGeometry( parseFloat( data.attribut ), 50, 50, 0, Math.PI * 2, 0, Math.PI * 2 )\r\n        geometry.computeVertexNormals()\r\n\r\n        let material = new MeshPhongMaterial( { color: color } )\r\n        let object   = new Mesh( geometry, material )\r\n\r\n        object.position.set( positions[ '0' ], positions[ '1' ], positions[ '2' ] )\r\n\r\n        if ( !isNotDefined( data.type ) ) {\r\n            object.name = ''.concat( data.type, '_' ).concat( data.numero_bloc, '_' ).concat( data.id )\r\n        } else {\r\n            object.name = ''.concat( data.id )\r\n        }\r\n\r\n        return object\r\n\r\n    }\r\n\r\n}\r\n\r\nexport { FilairesManager }\r\n","/**\r\n * @author [Tristan Valcke]{@link https://github.com/Itee}\r\n * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause}\r\n *\r\n * @class GeometriesManager\r\n * @classdesc Todo...\r\n * @example Todo...\r\n *\r\n * @requires {@link TDataBaseManager}\r\n * @requires '../../../node_modules/three/src/core/Geometry'\r\n * @requires { BufferGeometry } from 'three'\r\n * @requires '../../../node_modules/three/src/core/BufferAttribute'\r\n *\r\n */\r\n\r\n/* eslint-env browser */\r\n\r\nimport { TDataBaseManager } from 'itee-client'\r\nimport {\r\n    isDefined,\r\n    isNotBoolean,\r\n    isNull,\r\n    isObject,\r\n    isUndefined\r\n}                           from 'itee-validators'\r\nimport {\r\n    BoxBufferGeometry,\r\n    BoxGeometry,\r\n    BufferAttribute,\r\n    BufferGeometry,\r\n    CircleBufferGeometry,\r\n    CircleGeometry,\r\n    ConeBufferGeometry,\r\n    ConeGeometry,\r\n    CylinderBufferGeometry,\r\n    CylinderGeometry,\r\n    DodecahedronBufferGeometry,\r\n    DodecahedronGeometry,\r\n    EdgesGeometry,\r\n    ExtrudeBufferGeometry,\r\n    ExtrudeGeometry,\r\n    Face3,\r\n    Geometry,\r\n    IcosahedronBufferGeometry,\r\n    IcosahedronGeometry,\r\n    InstancedBufferGeometry,\r\n    LatheBufferGeometry,\r\n    LatheGeometry,\r\n    OctahedronBufferGeometry,\r\n    OctahedronGeometry,\r\n    ParametricBufferGeometry,\r\n    ParametricGeometry,\r\n    PlaneBufferGeometry,\r\n    PlaneGeometry,\r\n    PolyhedronBufferGeometry,\r\n    PolyhedronGeometry,\r\n    RingBufferGeometry,\r\n    RingGeometry,\r\n    Shape,\r\n    ShapeGeometry,\r\n    SphereBufferGeometry,\r\n    SphereGeometry,\r\n    TetrahedronBufferGeometry,\r\n    TetrahedronGeometry,\r\n    TextBufferGeometry,\r\n    TextGeometry,\r\n    TorusBufferGeometry,\r\n    TorusGeometry,\r\n    TorusKnotBufferGeometry,\r\n    TorusKnotGeometry,\r\n    TubeBufferGeometry,\r\n    TubeGeometry,\r\n    Vector3,\r\n    WireframeGeometry\r\n}                           from 'three-full'\r\n\r\nconst ArrayType = {\r\n    Int8Array:         0,\r\n    Uint8Array:        1,\r\n    Uint8ClampedArray: 2,\r\n    Int16Array:        3,\r\n    Uint16Array:       4,\r\n    Int32Array:        5,\r\n    Uint32Array:       6,\r\n    Float32Array:      7,\r\n    Float64Array:      8\r\n}\r\n\r\nclass GeometriesManager extends TDataBaseManager {\r\n\r\n    /**\r\n     *\r\n     * @param parameters\r\n     */\r\n    constructor ( parameters = {} ) {\r\n\r\n        const _parameters = {\r\n            ...{\r\n                basePath:              '/geometries',\r\n                projectionSystem:      'zBack',\r\n                globalScale:           1,\r\n                computeNormals:        true,\r\n                computeBoundingBox:    true,\r\n                computeBoundingSphere: true\r\n            }, ...parameters\r\n        }\r\n\r\n        super( _parameters )\r\n\r\n        this.projectionSystem      = _parameters.projectionSystem\r\n        this.globalScale           = _parameters.globalScale\r\n        this.computeNormals        = _parameters.computeNormals\r\n        this.computeBoundingBox    = _parameters.computeBoundingBox\r\n        this.computeBoundingSphere = _parameters.computeBoundingSphere\r\n    }\r\n\r\n    //// Getter/Setter\r\n\r\n    get computeBoundingBox () {\r\n        return this._computeBoundingBox\r\n    }\r\n\r\n    set computeBoundingBox ( value ) {\r\n        if ( isNull( value ) ) { throw new TypeError( 'Compute bounding box cannot be null ! Expect a boolean.' ) }\r\n        if ( isUndefined( value ) ) { throw new TypeError( 'Compute bounding box cannot be undefined ! Expect a boolean.' ) }\r\n        if ( isNotBoolean( value ) ) { throw new TypeError( `Compute bounding box cannot be an instance of ${value.constructor.name} ! Expect a boolean.` ) }\r\n\r\n        this._computeBoundingBox = value\r\n    }\r\n\r\n    get computeBoundingSphere () {\r\n        return this._computeBoundingSphere\r\n    }\r\n\r\n    set computeBoundingSphere ( value ) {\r\n        if ( isNull( value ) ) { throw new TypeError( 'Compute bounding sphere cannot be null ! Expect a boolean.' ) }\r\n        if ( isUndefined( value ) ) { throw new TypeError( 'Compute bounding sphere cannot be undefined ! Expect a boolean.' ) }\r\n        if ( isNotBoolean( value ) ) { throw new TypeError( `Compute bounding sphere cannot be an instance of ${value.constructor.name} ! Expect a boolean.` ) }\r\n\r\n        this._computeBoundingSphere = value\r\n    }\r\n\r\n    get computeNormals () {\r\n        return this._computeNormals\r\n    }\r\n\r\n    set computeNormals ( value ) {\r\n        if ( isNull( value ) ) { throw new TypeError( 'Compute normals cannot be null ! Expect a boolean.' ) }\r\n        if ( isUndefined( value ) ) { throw new TypeError( 'Compute normals cannot be undefined ! Expect a boolean.' ) }\r\n        if ( isNotBoolean( value ) ) { throw new TypeError( `Compute normals cannot be an instance of ${value.constructor.name} ! Expect a boolean.` ) }\r\n\r\n        this._computeNormals = value\r\n    }\r\n\r\n    get projectionSystem () {\r\n        return this._projectionSystem\r\n    }\r\n\r\n    set projectionSystem ( value ) {\r\n\r\n        if ( isNull( value ) ) { throw new TypeError( 'Projection system cannot be null ! Expect a positive number.' ) }\r\n        if ( isUndefined( value ) ) { throw new TypeError( 'Projection system cannot be undefined ! Expect a positive number.' ) }\r\n\r\n        this._projectionSystem = value\r\n\r\n    }\r\n\r\n    get globalScale () {\r\n        return this._globalScale\r\n    }\r\n\r\n    set globalScale ( value ) {\r\n\r\n        if ( isNull( value ) ) { throw new TypeError( 'Global scale cannot be null ! Expect a positive number.' ) }\r\n        if ( isUndefined( value ) ) { throw new TypeError( 'Global scale cannot be undefined ! Expect a positive number.' ) }\r\n\r\n        this._globalScale = value\r\n\r\n    }\r\n\r\n    setComputeBoundingBox ( value ) {\r\n\r\n        this.computeBoundingBox = value\r\n        return this\r\n\r\n    }\r\n\r\n    setComputeBoundingShpere ( value ) {\r\n\r\n        this.computeBoundingSphere = value\r\n        return this\r\n\r\n    }\r\n\r\n    setComputeNormals ( value ) {\r\n        this.computeNormals = value\r\n        return this\r\n    }\r\n\r\n    setProjectionSystem ( value ) {\r\n\r\n        this.projectionSystem = value\r\n        return this\r\n\r\n    }\r\n\r\n    setGlobalScale ( value ) {\r\n\r\n        this.globalScale = value\r\n        return this\r\n\r\n    }\r\n\r\n    //// Methods\r\n\r\n    _onJson ( jsonData, onSuccess, onProgress, onError ) {\r\n\r\n        // Normalize to array\r\n        const datas   = ( isObject( jsonData ) ) ? [ jsonData ] : jsonData\r\n        const results = {}\r\n\r\n        for ( let dataIndex = 0, numberOfDatas = datas.length, data = undefined ; dataIndex < numberOfDatas ; dataIndex++ ) {\r\n\r\n            data = datas[ dataIndex ]\r\n\r\n            try {\r\n                results[ data._id ] = this.convert( data )\r\n            } catch ( err ) {\r\n                onError( err )\r\n            }\r\n\r\n            onProgress( new ProgressEvent( 'GeometriesManager', {\r\n                lengthComputable: true,\r\n                loaded:           dataIndex + 1,\r\n                total:            numberOfDatas\r\n            } ) )\r\n\r\n        }\r\n\r\n        onSuccess( results )\r\n\r\n    }\r\n\r\n    /**\r\n     * @public\r\n     * @memberOf GeometriesManager.prototype\r\n     *\r\n     * @param data\r\n     * @returns {*}\r\n     */\r\n    convert ( data ) {\r\n\r\n        if ( !data ) {\r\n            throw new Error( 'GeometriesManager: Unable to convert null or undefined data !' )\r\n        }\r\n\r\n        const geometryType = data.type\r\n        if ( !geometryType ) {\r\n            throw new Error( 'GeometriesManager: Unable to convert untyped data !' )\r\n        }\r\n\r\n        let geometry = null\r\n\r\n        // Keep backward compat to next Major release\r\n        if ( data.isBufferGeometry || geometryType.includes( 'BufferGeometry' ) ) {\r\n\r\n            geometry = this._convertJsonToBufferGeometry( data )\r\n            if ( this._computeNormals ) {\r\n                geometry.computeVertexNormals()\r\n            }\r\n\r\n        } else if ( data.isGeometry || geometryType.includes( 'Geometry' ) ) {\r\n\r\n            geometry = this._convertJsonToGeometry( data )\r\n            if ( this._computeNormals ) {\r\n                geometry.computeFaceNormals()\r\n            }\r\n\r\n        } else {\r\n\r\n            throw new Error( `TGeometriesManager: Unable to retrieve geometry of type ${geometryType} !` )\r\n\r\n        }\r\n\r\n        // Todo: Allow to force if exist\r\n        if ( this.computeBoundingBox ) {\r\n            geometry.boundingBox = null\r\n            geometry.computeBoundingBox()\r\n        }\r\n\r\n        if ( this.computeBoundingSphere ) {\r\n            geometry.boundingSphere = null\r\n            geometry.computeBoundingSphere()\r\n        }\r\n\r\n        return geometry\r\n\r\n    }\r\n\r\n    _convertJsonToGeometry ( data ) {\r\n\r\n        const geometryType = data.types\r\n        let geometry       = null\r\n\r\n        switch ( geometryType ) {\r\n\r\n            case 'BoxGeometry':\r\n                geometry = new BoxGeometry()\r\n                break\r\n\r\n            case 'CircleGeometry':\r\n                geometry = new CircleGeometry()\r\n                break\r\n\r\n            case 'CylinderGeometry':\r\n                geometry = new CylinderGeometry()\r\n                break\r\n\r\n            case 'ConeGeometry':\r\n                geometry = new ConeGeometry()\r\n                break\r\n\r\n            case 'EdgesGeometry':\r\n                geometry = new EdgesGeometry()\r\n                break\r\n\r\n            case 'DodecahedronGeometry':\r\n                geometry = new DodecahedronGeometry()\r\n                break\r\n\r\n            case 'ExtrudeGeometry':\r\n                geometry = new ExtrudeGeometry()\r\n                break\r\n\r\n            case 'Geometry':\r\n                geometry = new Geometry()\r\n                break\r\n\r\n            case 'IcosahedronGeometry':\r\n                geometry = new IcosahedronGeometry()\r\n                break\r\n\r\n            case 'LatheGeometry':\r\n                geometry = new LatheGeometry()\r\n                break\r\n\r\n            case 'OctahedronGeometry':\r\n                geometry = new OctahedronGeometry()\r\n                break\r\n\r\n            case 'ParametricGeometry':\r\n                geometry = new ParametricGeometry()\r\n                break\r\n\r\n            case 'PlaneGeometry':\r\n                geometry = new PlaneGeometry()\r\n                break\r\n\r\n            case 'PolyhedronGeometry':\r\n                geometry = new PolyhedronGeometry()\r\n                break\r\n\r\n            case 'RingGeometry':\r\n                geometry = new RingGeometry()\r\n                break\r\n\r\n            case 'ShapeGeometry':\r\n                geometry = new ShapeGeometry()\r\n                break\r\n\r\n            case 'TetrahedronGeometry':\r\n                geometry = new TetrahedronGeometry()\r\n                break\r\n\r\n            case 'TextGeometry':\r\n                geometry = new TextGeometry()\r\n                break\r\n\r\n            case 'TorusGeometry':\r\n                geometry = new TorusGeometry()\r\n                break\r\n\r\n            case 'TorusKnotGeometry':\r\n                geometry = new TorusKnotGeometry()\r\n                break\r\n\r\n            case 'TubeGeometry':\r\n                geometry = new TubeGeometry()\r\n                break\r\n\r\n            case 'SphereGeometry':\r\n                geometry = new SphereGeometry()\r\n                break\r\n\r\n            case 'WireframeGeometry':\r\n                geometry = new WireframeGeometry()\r\n                break\r\n\r\n            default:\r\n                throw new Error( `TGeometriesManager: Unknown geometry of type: ${geometryType}` )\r\n                break\r\n\r\n        }\r\n\r\n        geometry.uuid = data.uuid\r\n        geometry.name = data.name\r\n        geometry.type = data.type\r\n\r\n        var vertices = []\r\n        var vertex   = undefined\r\n        for ( var index = 0, numberOfVertices = data.vertices.length ; index < numberOfVertices ; ++index ) {\r\n\r\n            vertex = data.vertices[ index ]\r\n            vertices.push( new Vector3( vertex.x, vertex.y, vertex.z ) )\r\n\r\n        }\r\n        geometry.vertices = vertices\r\n        //                geometry.colors                  = data.colors\r\n\r\n        var faces = []\r\n        var face  = undefined\r\n        for ( var faceIndex = 0, numberOfFaces = data.faces.length ; faceIndex < numberOfFaces ; faceIndex++ ) {\r\n            face = data.faces[ faceIndex ]\r\n            faces.push( new Face3( face.a, face.b, face.c, face.normal, face.color, face.materialIndex ) )\r\n        }\r\n        geometry.faces         = faces\r\n        //                geometry.faceVertexUvs           = [ [ Number ] ]\r\n        geometry.morphTargets  = []\r\n        geometry.morphNormals  = []\r\n        geometry.skinWeights   = []\r\n        geometry.skinIndices   = []\r\n        geometry.lineDistances = []\r\n\r\n        geometry.elementsNeedUpdate      = true //data.elementsNeedUpdate\r\n        geometry.verticesNeedUpdate      = true //data.verticesNeedUpdate\r\n        geometry.uvsNeedUpdate           = true //data.uvsNeedUpdate\r\n        geometry.normalsNeedUpdate       = true //data.normalsNeedUpdate\r\n        geometry.colorsNeedUpdate        = true //data.colorsNeedUpdate\r\n        geometry.lineDistancesNeedUpdate = true //data.lineDistancesNeedUpdate\r\n        geometry.groupsNeedUpdate        = true //data.groupsNeedUpdate\r\n\r\n    }\r\n\r\n    _convertJsonToBufferGeometry ( data ) {\r\n\r\n        const bufferGeometryType = data.type\r\n        let bufferGeometry       = null\r\n\r\n        switch ( bufferGeometryType ) {\r\n\r\n            case 'BoxBufferGeometry':\r\n                bufferGeometry = new BoxBufferGeometry()\r\n                break\r\n\r\n            case 'BufferGeometry':\r\n                bufferGeometry = new BufferGeometry()\r\n                break\r\n\r\n            case 'CircleBufferGeometry':\r\n                bufferGeometry = new CircleBufferGeometry()\r\n                break\r\n\r\n            case 'CylinderBufferGeometry':\r\n                bufferGeometry = new CylinderBufferGeometry()\r\n                break\r\n\r\n            case 'ConeBufferGeometry':\r\n                bufferGeometry = new ConeBufferGeometry()\r\n                break\r\n\r\n            case 'DodecahedronBufferGeometry':\r\n                bufferGeometry = new DodecahedronBufferGeometry()\r\n                break\r\n\r\n            case 'ExtrudeBufferGeometry':\r\n                bufferGeometry = new ExtrudeBufferGeometry()\r\n                break\r\n\r\n            case 'IcosahedronBufferGeometry':\r\n                bufferGeometry = new IcosahedronBufferGeometry()\r\n                break\r\n\r\n            case 'LatheBufferGeometry':\r\n                bufferGeometry = new LatheBufferGeometry()\r\n                break\r\n\r\n            case 'OctahedronBufferGeometry':\r\n                bufferGeometry = new OctahedronBufferGeometry()\r\n                break\r\n\r\n            case 'ParametricBufferGeometry':\r\n                bufferGeometry = new ParametricBufferGeometry()\r\n                break\r\n\r\n            case 'PlaneBufferGeometry':\r\n                bufferGeometry = new PlaneBufferGeometry()\r\n                break\r\n\r\n            case 'PolyhedronBufferGeometry':\r\n                bufferGeometry = new PolyhedronBufferGeometry()\r\n                break\r\n\r\n            case 'RingBufferGeometry':\r\n                bufferGeometry = new RingBufferGeometry()\r\n                break\r\n\r\n            case 'ShapeBufferGeometry':\r\n                bufferGeometry = new BufferGeometry()\r\n                //                bufferGeometry = new ShapeBufferGeometry(  )\r\n                break\r\n\r\n            case 'TetrahedronBufferGeometry':\r\n                bufferGeometry = new TetrahedronBufferGeometry()\r\n                break\r\n\r\n            case 'TextBufferGeometry':\r\n                bufferGeometry = new TextBufferGeometry()\r\n                break\r\n\r\n            case 'TorusBufferGeometry':\r\n                bufferGeometry = new TorusBufferGeometry()\r\n                break\r\n\r\n            case 'TorusKnotBufferGeometry':\r\n                bufferGeometry = new TorusKnotBufferGeometry()\r\n                break\r\n\r\n            case 'TubeBufferGeometry':\r\n                bufferGeometry = new TubeBufferGeometry()\r\n                break\r\n\r\n            case 'SphereBufferGeometry':\r\n                bufferGeometry = new SphereBufferGeometry()\r\n                break\r\n\r\n            case 'InstancedBufferGeometry':\r\n                bufferGeometry = new InstancedBufferGeometry()\r\n                break\r\n\r\n            default:\r\n                throw new Error( `TGeometriesManager: Unknown buffer geometry of type: ${bufferGeometryType}` )\r\n\r\n        }\r\n\r\n        // COMMON PARTS\r\n        bufferGeometry._id  = data._id\r\n        bufferGeometry.uuid = data.uuid\r\n        bufferGeometry.name = data.name\r\n\r\n        // Extract index\r\n        const dataIndexes = data.index\r\n        if ( dataIndexes && dataIndexes.array && dataIndexes.array.length > 0 ) {\r\n\r\n            const arrayBuffer    = this.__convertBase64ToArrayBuffer( dataIndexes.array )\r\n            const typedArray     = this.__convertArrayBufferToTypedArray( arrayBuffer )\r\n            bufferGeometry.index = new BufferAttribute( typedArray, dataIndexes.itemSize, dataIndexes.normalized )\r\n\r\n        }\r\n\r\n        // Extract attributes\r\n        const dataAttributes = data.attributes\r\n        if ( dataAttributes ) {\r\n\r\n            let attributes = {}\r\n\r\n            // TODO: using loop instead !!\r\n            const positionAttributes = dataAttributes.position\r\n            if ( positionAttributes ) {\r\n\r\n                const arrayBuffer = this.__convertBase64ToArrayBuffer( positionAttributes.array )\r\n                const typedArray  = this.__convertArrayBufferToTypedArray( arrayBuffer )\r\n                const globalScale = this.globalScale\r\n\r\n                const positionArray = new Float32Array( typedArray )\r\n\r\n                if ( this._projectionSystem === 'zBack' ) {\r\n\r\n                    let x = null\r\n                    let y = null\r\n                    let z = null\r\n                    for ( let pi = 0, numPos = positionArray.length ; pi < numPos ; pi += 3 ) {\r\n                        x                       = positionArray[ pi ] / globalScale\r\n                        y                       = positionArray[ pi + 2 ] / globalScale\r\n                        z                       = -positionArray[ pi + 1 ] / globalScale\r\n                        positionArray[ pi ]     = x\r\n                        positionArray[ pi + 1 ] = y\r\n                        positionArray[ pi + 2 ] = z\r\n                    }\r\n\r\n                } else {\r\n\r\n                    for ( let posIndex = 0, numPos = positionArray.length ; posIndex < numPos ; posIndex++ ) {\r\n                        positionArray[ posIndex ] /= globalScale\r\n                    }\r\n\r\n                }\r\n\r\n                attributes[ 'position' ] = new BufferAttribute( positionArray, positionAttributes.itemSize, positionAttributes.normalized )\r\n\r\n            }\r\n\r\n            const normalAttributes = dataAttributes.normal\r\n            if ( normalAttributes ) {\r\n\r\n                const arrayBuffer      = this.__convertBase64ToArrayBuffer( normalAttributes.array )\r\n                const typedArray       = this.__convertArrayBufferToTypedArray( arrayBuffer )\r\n                attributes[ 'normal' ] = new BufferAttribute( typedArray, normalAttributes.itemSize, normalAttributes.normalized )\r\n\r\n            }\r\n\r\n            const uvAttributes = dataAttributes.uv\r\n            if ( uvAttributes ) {\r\n\r\n                const arrayBuffer  = this.__convertBase64ToArrayBuffer( uvAttributes.array )\r\n                const typedArray   = this.__convertArrayBufferToTypedArray( arrayBuffer )\r\n                attributes[ 'uv' ] = new BufferAttribute( typedArray, uvAttributes.itemSize, uvAttributes.normalized )\r\n\r\n            }\r\n\r\n            bufferGeometry.attributes = attributes\r\n\r\n        }\r\n\r\n        if ( isDefined( data.groups ) ) {\r\n            bufferGeometry.groups = data.groups\r\n        }\r\n\r\n        // Need to set null because only checked vs undefined data.boundingBox\r\n        if ( isDefined( data.boundingBox ) ) {\r\n            bufferGeometry.boundingBox = data.boundingBox\r\n        }\r\n\r\n        // idem... data.boundingSphere\r\n        if ( isDefined( data.boundingSphere ) ) {\r\n            bufferGeometry.boundingSphere = data.boundingSphere\r\n        }\r\n\r\n        //        if ( isDefined( data.drawRange ) ) {\r\n        //            bufferGeometry.drawRange = data.drawRange\r\n        //        }\r\n\r\n        if ( bufferGeometryType === 'ShapeBufferGeometry' ) {\r\n\r\n            bufferGeometry.shapes        = data.shapes.map( jsonShape => {return new Shape().fromJSON( jsonShape )} )\r\n            bufferGeometry.curveSegments = data.curveSegments\r\n\r\n        } else {\r\n\r\n        }\r\n\r\n        return bufferGeometry\r\n\r\n    }\r\n\r\n    __convertArrayBufferToTypedArray ( arrayBuffer ) {\r\n\r\n        const ONE_BYTE       = 1\r\n        const TWO_BYTE       = 2\r\n        const FOUR_BYTE      = 4\r\n        const HEIGHT_BYTE    = 8\r\n        const dataView       = new DataView( arrayBuffer )\r\n        const dataByteLength = arrayBuffer.byteLength - 1\r\n        const type           = dataView.getUint8( 0 )\r\n\r\n        let typedArray = null\r\n\r\n        switch ( type ) {\r\n\r\n            case ArrayType.Int8Array:\r\n                typedArray = new Int8Array( dataByteLength / ONE_BYTE )\r\n                for ( let index = 0, offset = 1 ; offset < dataByteLength ; index++, offset += ONE_BYTE ) {\r\n                    typedArray[ index ] = dataView.getInt8( offset )\r\n                }\r\n                break\r\n\r\n            case ArrayType.Uint8Array:\r\n                typedArray = new Uint8Array( dataByteLength / ONE_BYTE )\r\n                for ( let index = 0, offset = 1 ; offset < dataByteLength ; index++, offset += ONE_BYTE ) {\r\n                    typedArray[ index ] = dataView.getUint8( offset )\r\n                }\r\n                break\r\n\r\n            case ArrayType.Uint8ClampedArray:\r\n                typedArray = new Uint8ClampedArray( dataByteLength / ONE_BYTE )\r\n                for ( let index = 0, offset = 1 ; offset < dataByteLength ; index++, offset += ONE_BYTE ) {\r\n                    typedArray[ index ] = dataView.getUint8( offset )\r\n                }\r\n                break\r\n\r\n            case ArrayType.Int16Array:\r\n                typedArray = new Int16Array( dataByteLength / TWO_BYTE )\r\n                for ( let index = 0, offset = 1 ; offset < dataByteLength ; index++, offset += TWO_BYTE ) {\r\n                    typedArray[ index ] = dataView.getInt16( offset )\r\n                }\r\n                break\r\n\r\n            case ArrayType.Uint16Array:\r\n                typedArray = new Uint16Array( dataByteLength / TWO_BYTE )\r\n                for ( let index = 0, offset = 1 ; offset < dataByteLength ; index++, offset += TWO_BYTE ) {\r\n                    typedArray[ index ] = dataView.getUint16( offset )\r\n                }\r\n                break\r\n\r\n            case ArrayType.Int32Array:\r\n                typedArray = new Int32Array( dataByteLength / FOUR_BYTE )\r\n                for ( let index = 0, offset = 1 ; offset < dataByteLength ; index++, offset += FOUR_BYTE ) {\r\n                    typedArray[ index ] = dataView.getInt32( offset )\r\n                }\r\n                break\r\n\r\n            case ArrayType.Uint32Array:\r\n                typedArray = new Uint32Array( dataByteLength / FOUR_BYTE )\r\n                for ( let index = 0, offset = 1 ; offset < dataByteLength ; index++, offset += FOUR_BYTE ) {\r\n                    typedArray[ index ] = dataView.getUint32( offset )\r\n                }\r\n                break\r\n\r\n            case ArrayType.Float32Array:\r\n                typedArray = new Float32Array( dataByteLength / FOUR_BYTE )\r\n                for ( let index = 0, offset = 1 ; offset < dataByteLength ; index++, offset += FOUR_BYTE ) {\r\n                    typedArray[ index ] = dataView.getFloat32( offset )\r\n                }\r\n                break\r\n\r\n            case ArrayType.Float64Array:\r\n                typedArray = new Float64Array( dataByteLength / HEIGHT_BYTE )\r\n                for ( let index = 0, offset = 1 ; offset < dataByteLength ; index++, offset += HEIGHT_BYTE ) {\r\n                    typedArray[ index ] = dataView.getFloat64( offset )\r\n                }\r\n                break\r\n\r\n            default:\r\n                throw new RangeError( `Invalid switch parameter: ${type}` )\r\n\r\n        }\r\n\r\n        return typedArray\r\n\r\n    }\r\n\r\n    __convertBase64ToArrayBuffer ( base64 ) {\r\n\r\n        const chars  = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\r\n        const lookup = new Uint8Array( 256 )\r\n        for ( let i = 0 ; i < chars.length ; i++ ) {\r\n            lookup[ chars.charCodeAt( i ) ] = i\r\n        }\r\n\r\n        ////////\r\n\r\n        const base64Length = base64.length\r\n\r\n        let bufferLength = base64Length * 0.75\r\n        if ( base64[ base64Length - 1 ] === '=' ) {\r\n            bufferLength--\r\n            if ( base64[ base64Length - 2 ] === '=' ) {\r\n                bufferLength--\r\n            }\r\n        }\r\n\r\n        let arraybuffer = new ArrayBuffer( bufferLength )\r\n        let bytes       = new Uint8Array( arraybuffer )\r\n        let encoded1    = undefined\r\n        let encoded2    = undefined\r\n        let encoded3    = undefined\r\n        let encoded4    = undefined\r\n\r\n        for ( let i = 0, pointer = 0 ; i < base64Length ; i += 4 ) {\r\n            encoded1 = lookup[ base64.charCodeAt( i ) ]\r\n            encoded2 = lookup[ base64.charCodeAt( i + 1 ) ]\r\n            encoded3 = lookup[ base64.charCodeAt( i + 2 ) ]\r\n            encoded4 = lookup[ base64.charCodeAt( i + 3 ) ]\r\n\r\n            bytes[ pointer++ ] = ( encoded1 << 2 ) | ( encoded2 >> 4 )\r\n            bytes[ pointer++ ] = ( ( encoded2 & 15 ) << 4 ) | ( encoded3 >> 2 )\r\n            bytes[ pointer++ ] = ( ( encoded3 & 3 ) << 6 ) | ( encoded4 & 63 )\r\n        }\r\n\r\n        return arraybuffer\r\n\r\n    }\r\n\r\n}\r\n\r\nexport { GeometriesManager }\r\n","/**\r\n * @author [Tristan Valcke]{@link https://github.com/Itee}\r\n * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause}\r\n *\r\n * @file Todo\r\n *\r\n * @example Todo\r\n *\r\n */\r\n\r\nimport { TDataBaseManager } from 'itee-client'\r\nimport { isObject }         from 'itee-validators'\r\n\r\n/**\r\n *\r\n * @constructor\r\n */\r\nfunction TexturesManager () {\r\n\r\n    TDataBaseManager.call( this )\r\n    this.basePath = '/textures'\r\n\r\n}\r\n\r\nTexturesManager.prototype = Object.assign( Object.create( TDataBaseManager.prototype ), {\r\n\r\n    /**\r\n     *\r\n     */\r\n    constructor: TexturesManager,\r\n\r\n    /**\r\n     *\r\n     * @param data\r\n     * @return {*}\r\n     */\r\n    convert ( data ) {\r\n\r\n        if ( !data ) {\r\n            throw new Error( 'TexturesManager: Unable to convert null or undefined data !' )\r\n        }\r\n\r\n        const textureType = data.type\r\n        let texture       = undefined\r\n\r\n        switch ( textureType ) {\r\n\r\n            default:\r\n                throw new Error( `TTexturesManager: Unknown texture of type: ${textureType}` )\r\n                break\r\n\r\n        }\r\n\r\n        // Common object properties\r\n\r\n        if ( textureType === 'Line' ) {\r\n\r\n        }\r\n\r\n        return texture\r\n\r\n    }\r\n\r\n} )\r\n\r\nObject.defineProperties( TexturesManager.prototype, {\r\n\r\n    /**\r\n     *\r\n     */\r\n    _onJson: {\r\n        value: function _onJson ( jsonData, onSuccess, onProgress, onError ) {\r\n\r\n            // Normalize to array\r\n            const datas   = ( isObject( jsonData ) ) ? [ jsonData ] : jsonData\r\n            const results = {}\r\n\r\n            for ( let dataIndex = 0, numberOfDatas = datas.length, data = undefined ; dataIndex < numberOfDatas ; dataIndex++ ) {\r\n\r\n                data = datas[ dataIndex ]\r\n\r\n                try {\r\n                    results[ data._id ] = this.convert( data )\r\n                } catch ( err ) {\r\n                    onError( err )\r\n                }\r\n\r\n                onProgress( dataIndex / numberOfDatas )\r\n\r\n            }\r\n\r\n            onSuccess( results )\r\n        }\r\n    }\r\n\r\n} )\r\n\r\nexport { TexturesManager }\r\n","/**\r\n * @author [Tristan Valcke]{@link https://github.com/Itee}\r\n * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause}\r\n *\r\n * @class TScenesManager\r\n * @classdesc Todo...\r\n * @example Todo...\r\n * @requires TDataBaseManager\r\n *\r\n */\r\n\r\n/* eslint-env browser */\r\n\r\nimport { TDataBaseManager } from 'itee-client'\r\nimport {\r\n    isBlankString,\r\n    isDefined,\r\n    isEmptyString,\r\n    isNotBoolean,\r\n    isNotDefined,\r\n    isNotEmptyString,\r\n    isNotString,\r\n    isNull,\r\n    isObject,\r\n    isString,\r\n    isUndefined\r\n}                           from 'itee-validators'\r\nimport {\r\n    Color,\r\n    ImageLoader,\r\n    LinearFilter,\r\n    LineBasicMaterial,\r\n    MeshLambertMaterial,\r\n    MeshPhongMaterial,\r\n    PointsMaterial,\r\n    TextureLoader,\r\n    Vector2\r\n}                           from 'three-full'\r\nimport { TexturesManager }  from './TexturesManager'\r\n\r\nconst DEFAULT_IMAGE = new ImageLoader().load( 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH4gkKDRoGpGNegQAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAAMSURBVAjXY/j//z8ABf4C/tzMWecAAAAASUVORK5CYII=' )\r\n\r\nclass MaterialsManager extends TDataBaseManager {\r\n\r\n    /**\r\n     *\r\n     * @param basePath\r\n     * @param responseType\r\n     * @param bunchSize\r\n     * @param progressManager\r\n     * @param errorManager\r\n     * @param texturesPath\r\n     * @param texturesProvider\r\n     */\r\n    constructor ( parameters = {} ) {\r\n\r\n        const _parameters = {\r\n            ...{\r\n                basePath:         '/materials',\r\n                texturesPath:     '/textures',\r\n                texturesProvider: new TextureLoader(),\r\n                generateMipmap:   false,\r\n                autoFillTextures: true\r\n            }, ...parameters\r\n        }\r\n\r\n        super( _parameters )\r\n\r\n        this.texturesPath     = _parameters.texturesPath\r\n        this.texturesProvider = _parameters.texturesProvider\r\n        this.generateMipmap   = _parameters.generateMipmap\r\n        this.autoFillTextures = _parameters.autoFillTextures\r\n\r\n    }\r\n\r\n    get texturesPath () {\r\n        return this._texturesPath\r\n    }\r\n\r\n    set texturesPath ( value ) {\r\n\r\n        if ( isNull( value ) ) { throw new TypeError( 'Textures path cannot be null ! Expect a non empty string.' ) }\r\n        if ( isUndefined( value ) ) { throw new TypeError( 'Textures path cannot be undefined ! Expect a non empty string.' ) }\r\n        if ( isNotString( value ) ) { throw new TypeError( `Textures path cannot be an instance of ${value.constructor.name} ! Expect a non empty string.` ) }\r\n        if ( isEmptyString( value ) ) { throw new TypeError( 'Textures path cannot be empty ! Expect a non empty string.' ) }\r\n        if ( isBlankString( value ) ) { throw new TypeError( 'Textures path cannot contain only whitespace ! Expect a non empty string.' ) }\r\n\r\n        this._texturesPath = value\r\n\r\n    }\r\n\r\n    get texturesProvider () {\r\n        return this._texturesProvider\r\n    }\r\n\r\n    set texturesProvider ( value ) {\r\n\r\n        if ( isNull( value ) ) { throw new TypeError( 'Textures provider cannot be null ! Expect an instance of TextureLoader.' ) }\r\n        if ( isUndefined( value ) ) { throw new TypeError( 'Textures provider cannot be undefined ! Expect an instance of TextureLoader.' ) }\r\n        if ( !( value instanceof TexturesManager ) && !( value instanceof TextureLoader ) ) { throw new TypeError( `Textures provider cannot be an instance of ${value.constructor.name} ! Expect an instance of TTexturesManager.` ) }\r\n\r\n        this._texturesProvider = value\r\n\r\n    }\r\n\r\n    get generateMipmap () {\r\n        return this._generateMipmap\r\n    }\r\n\r\n    set generateMipmap ( value ) {\r\n\r\n        if ( isNull( value ) ) { throw new TypeError( 'Generate mipmap cannot be null ! Expect a boolean.' ) }\r\n        if ( isUndefined( value ) ) { throw new TypeError( 'Generate mipmap cannot be undefined ! Expect a boolean.' ) }\r\n        if ( isNotBoolean( value ) ) { throw new TypeError( `Generate mipmap cannot be an instance of ${value.constructor.name} ! Expect a boolean.` ) }\r\n\r\n        this._generateMipmap = value\r\n    }\r\n\r\n    get autoFillTextures () {\r\n        return this._autoFillTextures\r\n    }\r\n\r\n    set autoFillTextures ( value ) {\r\n\r\n        if ( isNull( value ) ) { throw new TypeError( 'Global scale cannot be null ! Expect a boolean.' ) }\r\n        if ( isUndefined( value ) ) { throw new TypeError( 'Global scale cannot be undefined ! Expect a positive number.' ) }\r\n        if ( isNotBoolean( value ) ) { throw new TypeError( 'Global scale cannot be null ! Expect a boolean.' ) }\r\n\r\n        this._autoFillTextures = value\r\n\r\n    }\r\n\r\n    setTexturesPath ( value ) {\r\n\r\n        this.texturesPath = value\r\n        return this\r\n\r\n    }\r\n\r\n    setTexturesProvider ( value ) {\r\n\r\n        this.texturesProvider = value\r\n        return this\r\n\r\n    }\r\n\r\n    setGenerateMipmap ( value ) {\r\n\r\n        this.generateMipmap = value\r\n        return this\r\n\r\n    }\r\n\r\n    setAutoFillTextures ( value ) {\r\n\r\n        this.autoFillTextures = value\r\n        return this\r\n\r\n    }\r\n\r\n    //// Methods\r\n\r\n    _onJson ( jsonData, onSuccess, onProgress, onError ) {\r\n\r\n        // Normalize to array\r\n        const datas   = ( isObject( jsonData ) ) ? [ jsonData ] : jsonData\r\n        const results = {}\r\n\r\n        for ( let dataIndex = 0, numberOfDatas = datas.length, data = undefined ; dataIndex < numberOfDatas ; dataIndex++ ) {\r\n\r\n            data = datas[ dataIndex ]\r\n\r\n            try {\r\n                results[ data._id ] = this.convert( data )\r\n            } catch ( err ) {\r\n                onError( err )\r\n            }\r\n\r\n            onProgress( new ProgressEvent( 'MaterialsManager', {\r\n                lengthComputable: true,\r\n                loaded:           dataIndex + 1,\r\n                total:            numberOfDatas\r\n            } ) )\r\n\r\n        }\r\n\r\n        if ( this._autoFillTextures ) {\r\n            this.fillTextures( results, onSuccess, onProgress, onError )\r\n        } else {\r\n            onSuccess( results )\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param data\r\n     * @return {undefined}\r\n     */\r\n    convert ( data ) {\r\n\r\n        if ( !data ) {\r\n            throw new Error( 'MaterialsManager: Unable to convert null or undefined data !' )\r\n        }\r\n\r\n        const type   = data.type\r\n        let material = null\r\n\r\n        switch ( type ) {\r\n\r\n            case 'MeshPhongMaterial': {\r\n                material = new MeshPhongMaterial()\r\n                this._fillBaseMaterialData( material, data )\r\n\r\n                const color = data.color\r\n                if ( isDefined( color ) ) {\r\n                    material.color = this._setColor( color )\r\n                }\r\n\r\n                const specular = data.specular\r\n                if ( isDefined( specular ) ) {\r\n                    material.specular = this._setColor( specular )\r\n                }\r\n\r\n                const shininess = data.shininess\r\n                if ( isDefined( shininess ) ) {\r\n                    material.shininess = shininess\r\n                }\r\n\r\n                const map = data.map\r\n                if ( isDefined( map ) ) {\r\n                    material.map = map\r\n                }\r\n\r\n                const lightMap = data.lightMap\r\n                if ( isDefined( lightMap ) ) {\r\n                    material.lightMap = lightMap\r\n                }\r\n\r\n                const lightMapIntensity = data.lightMapIntensity\r\n                if ( isDefined( lightMapIntensity ) ) {\r\n                    material.lightMapIntensity = lightMapIntensity\r\n                }\r\n\r\n                const aoMap = data.aoMap\r\n                if ( isDefined( aoMap ) ) {\r\n                    material.aoMap = aoMap\r\n                }\r\n\r\n                const aoMapIntensity = data.aoMapIntensity\r\n                if ( isDefined( aoMapIntensity ) ) {\r\n                    material.aoMapIntensity = aoMapIntensity\r\n                }\r\n\r\n                const emissive = data.emissive\r\n                if ( isDefined( emissive ) ) {\r\n                    material.emissive = this._setColor( emissive )\r\n                }\r\n\r\n                const emissiveIntensity = data.emissiveIntensity\r\n                if ( isDefined( emissiveIntensity ) ) {\r\n                    material.emissiveIntensity = emissiveIntensity\r\n                }\r\n\r\n                const emissiveMap = data.emissiveMap\r\n                if ( isDefined( emissiveMap ) ) {\r\n                    material.emissiveMap = emissiveMap\r\n                }\r\n\r\n                const bumpMap = data.bumpMap\r\n                if ( isDefined( bumpMap ) ) {\r\n                    material.bumpMap = bumpMap\r\n                }\r\n\r\n                const bumpScale = data.bumpScale\r\n                if ( isDefined( bumpScale ) ) {\r\n                    material.bumpScale = bumpScale\r\n                }\r\n\r\n                const normalMap = data.normalMap\r\n                if ( isDefined( normalMap ) ) {\r\n                    material.normalMap = normalMap\r\n                }\r\n\r\n                const normalScale = data.normalScale\r\n                if ( isDefined( normalScale ) ) {\r\n                    material.normalScale = this._setVector2( normalScale )\r\n                }\r\n\r\n                const displacementMap = data.displacementMap\r\n                if ( isDefined( displacementMap ) ) {\r\n                    material.displacementMap = displacementMap\r\n                }\r\n\r\n                const displacementScale = data.displacementScale\r\n                if ( isDefined( displacementScale ) ) {\r\n                    material.displacementScale = displacementScale\r\n                }\r\n\r\n                const displacementBias = data.displacementBias\r\n                if ( isDefined( displacementBias ) ) {\r\n                    material.displacementBias = displacementBias\r\n                }\r\n\r\n                const specularMap = data.specularMap\r\n                if ( isDefined( specularMap ) ) {\r\n                    material.specularMap = specularMap\r\n                }\r\n\r\n                const alphaMap = data.alphaMap\r\n                if ( isDefined( alphaMap ) ) {\r\n                    material.alphaMap = alphaMap\r\n                }\r\n\r\n                const envMap = data.envMap\r\n                if ( isDefined( envMap ) ) {\r\n                    material.envMap = envMap\r\n                }\r\n\r\n                const combine = data.combine\r\n                if ( isDefined( combine ) ) {\r\n                    material.combine = combine\r\n                }\r\n\r\n                const reflectivity = data.reflectivity\r\n                if ( isDefined( reflectivity ) ) {\r\n                    material.reflectivity = reflectivity\r\n                }\r\n\r\n                const refractionRatio = data.refractionRatio\r\n                if ( isDefined( refractionRatio ) ) {\r\n                    material.refractionRatio = refractionRatio\r\n                }\r\n\r\n                const wireframe = data.wireframe\r\n                if ( isDefined( wireframe ) ) {\r\n                    material.wireframe = wireframe\r\n                }\r\n\r\n                const wireframeLinewidth = data.wireframeLinewidth\r\n                if ( isDefined( wireframeLinewidth ) ) {\r\n                    material.wireframeLinewidth = wireframeLinewidth\r\n                }\r\n\r\n                const wireframeLinecap = data.wireframeLinecap\r\n                if ( isDefined( wireframeLinecap ) ) {\r\n                    material.wireframeLinecap = wireframeLinecap\r\n                }\r\n\r\n                const wireframeLinejoin = data.wireframeLinejoin\r\n                if ( isDefined( wireframeLinejoin ) ) {\r\n                    material.wireframeLinejoin = wireframeLinejoin\r\n                }\r\n\r\n                const skinning = data.skinning\r\n                if ( isDefined( skinning ) ) {\r\n                    material.skinning = skinning\r\n                }\r\n\r\n                const morphTargets = data.morphTargets\r\n                if ( isDefined( morphTargets ) ) {\r\n                    material.morphTargets = morphTargets\r\n                }\r\n\r\n                const morphNormals = data.morphNormals\r\n                if ( isDefined( morphNormals ) ) {\r\n                    material.morphNormals = morphNormals\r\n                }\r\n\r\n                break\r\n            }\r\n\r\n            case 'MeshLambertMaterial': {\r\n                material = new MeshLambertMaterial()\r\n                this._fillBaseMaterialData( material, data )\r\n\r\n                const color = data.color\r\n                if ( isDefined( color ) ) {\r\n                    material.color = this._setColor( color )\r\n                }\r\n\r\n                const map = data.map\r\n                if ( isDefined( map ) ) {\r\n                    material.map = map\r\n                }\r\n\r\n                const lightMap = data.lightMap\r\n                if ( isDefined( lightMap ) ) {\r\n                    material.lightMap = lightMap\r\n                }\r\n\r\n                const lightMapIntensity = data.lightMapIntensity\r\n                if ( isDefined( lightMapIntensity ) ) {\r\n                    material.lightMapIntensity = lightMapIntensity\r\n                }\r\n\r\n                const aoMap = data.aoMap\r\n                if ( isDefined( aoMap ) ) {\r\n                    material.aoMap = aoMap\r\n                }\r\n\r\n                const aoMapIntensity = data.aoMapIntensity\r\n                if ( isDefined( aoMapIntensity ) ) {\r\n                    material.aoMapIntensity = aoMapIntensity\r\n                }\r\n\r\n                const emissive = data.emissive\r\n                if ( isDefined( emissive ) ) {\r\n                    material.emissive = this._setColor( emissive )\r\n                }\r\n\r\n                const emissiveIntensity = data.emissiveIntensity\r\n                if ( isDefined( emissiveIntensity ) ) {\r\n                    material.emissiveIntensity = emissiveIntensity\r\n                }\r\n\r\n                const emissiveMap = data.emissiveMap\r\n                if ( isDefined( emissiveMap ) ) {\r\n                    material.emissiveMap = emissiveMap\r\n                }\r\n\r\n                const specularMap = data.specularMap\r\n                if ( isDefined( specularMap ) ) {\r\n                    material.specularMap = specularMap\r\n                }\r\n\r\n                const alphaMap = data.alphaMap\r\n                if ( isDefined( alphaMap ) ) {\r\n                    material.alphaMap = alphaMap\r\n                }\r\n\r\n                const envMap = data.envMap\r\n                if ( isDefined( envMap ) ) {\r\n                    material.envMap = envMap\r\n                }\r\n\r\n                const combine = data.combine\r\n                if ( isDefined( combine ) ) {\r\n                    material.combine = combine\r\n                }\r\n\r\n                const reflectivity = data.reflectivity\r\n                if ( isDefined( reflectivity ) ) {\r\n                    material.reflectivity = reflectivity\r\n                }\r\n\r\n                const refractionRatio = data.refractionRatio\r\n                if ( isDefined( refractionRatio ) ) {\r\n                    material.refractionRatio = refractionRatio\r\n                }\r\n\r\n                const wireframe = data.wireframe\r\n                if ( isDefined( wireframe ) ) {\r\n                    material.wireframe = wireframe\r\n                }\r\n\r\n                const wireframeLinewidth = data.wireframeLinewidth\r\n                if ( isDefined( wireframeLinewidth ) ) {\r\n                    material.wireframeLinewidth = wireframeLinewidth\r\n                }\r\n\r\n                const wireframeLinecap = data.wireframeLinecap\r\n                if ( isDefined( wireframeLinecap ) ) {\r\n                    material.wireframeLinecap = wireframeLinecap\r\n                }\r\n\r\n                const wireframeLinejoin = data.wireframeLinejoin\r\n                if ( isDefined( wireframeLinejoin ) ) {\r\n                    material.wireframeLinejoin = wireframeLinejoin\r\n                }\r\n\r\n                const skinning = data.skinning\r\n                if ( isDefined( skinning ) ) {\r\n                    material.skinning = skinning\r\n                }\r\n\r\n                const morphTargets = data.morphTargets\r\n                if ( isDefined( morphTargets ) ) {\r\n                    material.morphTargets = morphTargets\r\n                }\r\n\r\n                const morphNormals = data.morphNormals\r\n                if ( isDefined( morphNormals ) ) {\r\n                    material.morphNormals = morphNormals\r\n                }\r\n\r\n                break\r\n            }\r\n\r\n            case 'LineBasicMaterial': {\r\n                material = new LineBasicMaterial()\r\n                this._fillBaseMaterialData( material, data )\r\n\r\n                const color = data.color\r\n                if ( isDefined( color ) ) {\r\n                    material.color = this._setColor( color )\r\n                }\r\n\r\n                break\r\n            }\r\n\r\n            case 'PointsMaterial': {\r\n                material = new PointsMaterial()\r\n                this._fillBaseMaterialData( material, data )\r\n\r\n                const color = data.color\r\n                if ( isDefined( color ) ) {\r\n                    material.color = this._setColor( color )\r\n                }\r\n\r\n                const map = data.map\r\n                if ( isDefined( map ) ) {\r\n                    material.map = map\r\n                }\r\n\r\n                const morphTargets = data.morphTargets\r\n                if ( isDefined( morphTargets ) ) {\r\n                    material.morphTargets = morphTargets\r\n                }\r\n\r\n                const size = data.size\r\n                if ( isDefined( size ) ) {\r\n                    material.size = size\r\n                }\r\n\r\n                const sizeAttenuation = data.sizeAttenuation\r\n                if ( isDefined( sizeAttenuation ) ) {\r\n                    material.sizeAttenuation = sizeAttenuation\r\n                }\r\n\r\n                break\r\n            }\r\n\r\n            default:\r\n                throw new Error( `TMaterialsManager: Unmanaged material of type: ${type}` )\r\n                break\r\n\r\n        }\r\n\r\n        return material\r\n\r\n    }\r\n\r\n    _fillBaseMaterialData ( material, data ) {\r\n\r\n        const _id = data._id\r\n        if ( isDefined( _id ) && isString( _id ) ) {\r\n            material._id = _id\r\n        }\r\n\r\n        const uuid = data.uuid\r\n        if ( isDefined( uuid ) && isString( uuid ) ) {\r\n            material.uuid = uuid\r\n        }\r\n\r\n        const name = data.name\r\n        if ( isDefined( name ) && isString( name ) ) {\r\n            material.name = name\r\n        }\r\n\r\n        const fog = data.fog\r\n        if ( isDefined( fog ) ) {\r\n            material.fog = fog\r\n        }\r\n\r\n        const lights = data.lights\r\n        if ( isDefined( lights ) ) {\r\n            material.lights = lights\r\n        }\r\n\r\n        const blending = data.blending\r\n        if ( isDefined( blending ) ) {\r\n            material.blending = blending\r\n        }\r\n\r\n        const side = data.side\r\n        if ( isDefined( side ) ) {\r\n            material.side = side\r\n        }\r\n\r\n        const flatShading = data.flatShading\r\n        if ( isDefined( flatShading ) ) {\r\n            material.flatShading = flatShading\r\n        }\r\n\r\n        const vertexColors = data.vertexColors\r\n        if ( isDefined( vertexColors ) ) {\r\n            material.vertexColors = vertexColors\r\n        }\r\n\r\n        const opacity = data.opacity\r\n        if ( isDefined( opacity ) ) {\r\n            material.opacity = opacity\r\n        }\r\n\r\n        const transparent = data.transparent\r\n        if ( isDefined( transparent ) ) {\r\n            material.transparent = transparent\r\n        }\r\n\r\n        const blendSrc = data.blendSrc\r\n        if ( isDefined( blendSrc ) ) {\r\n            material.blendSrc = blendSrc\r\n        }\r\n\r\n        const blendDst = data.blendDst\r\n        if ( isDefined( blendDst ) ) {\r\n            material.blendDst = blendDst\r\n        }\r\n\r\n        const blendEquation = data.blendEquation\r\n        if ( isDefined( blendEquation ) ) {\r\n            material.blendEquation = blendEquation\r\n        }\r\n\r\n        const blendSrcAlpha = data.blendSrcAlpha\r\n        if ( isDefined( blendSrcAlpha ) ) {\r\n            material.blendSrcAlpha = blendSrcAlpha\r\n        }\r\n\r\n        const blendDstAlpha = data.blendDstAlpha\r\n        if ( isDefined( blendDstAlpha ) ) {\r\n            material.blendDstAlpha = blendDstAlpha\r\n        }\r\n\r\n        const blendEquationAlpha = data.blendEquationAlpha\r\n        if ( isDefined( blendEquationAlpha ) ) {\r\n            material.blendEquationAlpha = blendEquationAlpha\r\n        }\r\n\r\n        const depthFunc = data.depthFunc\r\n        if ( isDefined( depthFunc ) ) {\r\n            material.depthFunc = depthFunc\r\n        }\r\n\r\n        const depthTest = data.depthTest\r\n        if ( isDefined( depthTest ) ) {\r\n            material.depthTest = depthTest\r\n        }\r\n\r\n        const depthWrite = data.depthWrite\r\n        if ( isDefined( depthWrite ) ) {\r\n            material.depthWrite = depthWrite\r\n        }\r\n\r\n        const clippingPlanes = data.clippingPlanes\r\n        if ( isDefined( clippingPlanes ) ) {\r\n            material.clippingPlanes = clippingPlanes\r\n        }\r\n\r\n        const clipIntersection = data.clipIntersection\r\n        if ( isDefined( clipIntersection ) ) {\r\n            material.clipIntersection = clipIntersection\r\n        }\r\n\r\n        const clipShadows = data.clipShadows\r\n        if ( isDefined( clipShadows ) ) {\r\n            material.clipShadows = clipShadows\r\n        }\r\n\r\n        const colorWrite = data.colorWrite\r\n        if ( isDefined( colorWrite ) ) {\r\n            material.colorWrite = colorWrite\r\n        }\r\n\r\n        const precision = data.precision\r\n        if ( isDefined( precision ) ) {\r\n            material.precision = precision\r\n        }\r\n\r\n        const polygonOffset = data.polygonOffset\r\n        if ( isDefined( polygonOffset ) ) {\r\n            material.polygonOffset = polygonOffset\r\n        }\r\n\r\n        const polygonOffsetFactor = data.polygonOffsetFactor\r\n        if ( isDefined( polygonOffsetFactor ) ) {\r\n            material.polygonOffsetFactor = polygonOffsetFactor\r\n        }\r\n\r\n        const polygonOffsetUnits = data.polygonOffsetUnits\r\n        if ( isDefined( polygonOffsetUnits ) ) {\r\n            material.polygonOffsetUnits = polygonOffsetUnits\r\n        }\r\n\r\n        const dithering = data.dithering\r\n        if ( isDefined( dithering ) ) {\r\n            material.dithering = dithering\r\n        }\r\n\r\n        const alphaTest = data.alphaTest\r\n        if ( isDefined( alphaTest ) ) {\r\n            material.alphaTest = alphaTest\r\n        }\r\n\r\n        const premultipliedAlpha = data.premultipliedAlpha\r\n        if ( isDefined( premultipliedAlpha ) ) {\r\n            material.premultipliedAlpha = premultipliedAlpha\r\n        }\r\n\r\n        const overdraw = data.overdraw\r\n        if ( isDefined( overdraw ) ) {\r\n            material.overdraw = overdraw\r\n        }\r\n\r\n        const visible = data.visible\r\n        if ( isDefined( visible ) ) {\r\n            material.visible = visible\r\n        }\r\n\r\n        const userData = data.userData\r\n        if ( isDefined( userData ) ) {\r\n            material.userData = userData\r\n        }\r\n\r\n        const needsUpdate = data.needsUpdate\r\n        if ( isDefined( needsUpdate ) ) {\r\n            material.needsUpdate = needsUpdate\r\n        }\r\n\r\n    }\r\n\r\n    _setVector2 ( vec2 ) {\r\n\r\n        const x = vec2.x\r\n        const y = vec2.y\r\n        if ( isNotDefined( x ) || isNotDefined( y ) ) {\r\n            throw new Error( 'MaterialsManager: Unable to convert null or undefined vector 2 !' )\r\n        }\r\n\r\n        return new Vector2( x, y )\r\n\r\n    }\r\n\r\n    _setColor ( color ) {\r\n\r\n        const r = color.r\r\n        const g = color.g\r\n        const b = color.b\r\n        if ( isNotDefined( r ) || isNotDefined( g ) || isNotDefined( b ) ) {\r\n            throw new Error( 'MaterialsManager: Unable to convert null or undefined color !' )\r\n        }\r\n\r\n        return new Color( r, g, b )\r\n\r\n    }\r\n\r\n    fillTextures ( materials, onSuccess, onProgress, onError ) {\r\n\r\n        const texturesMap = this._retrieveTexturesOf( materials )\r\n\r\n        for ( let key in materials ) {\r\n\r\n            const material = materials[ key ]\r\n            const textures = texturesMap[ key ]\r\n\r\n            for ( let textureKey in textures ) {\r\n                material[ textureKey ] = textures[ textureKey ]\r\n            }\r\n\r\n        }\r\n\r\n        // Don't forget to return all input object to callback,\r\n        // else some ids won't never be considered as processed !\r\n        onSuccess( materials )\r\n\r\n    }\r\n\r\n    _retrieveTexturesOf ( materials ) {\r\n\r\n        const availableTextures = [ 'map', 'lightMap', 'aoMap', 'emissiveMap', 'bumpMap', 'normalMap', 'displacementMap', 'specularMap', 'alphaMap', 'envMap' ]\r\n        const texturesMap       = {}\r\n        const localCache        = {}\r\n\r\n        for ( let id in materials ) {\r\n\r\n            const material = materials[ id ]\r\n\r\n            let textures = {}\r\n            for ( let i = 0, numberOfAvailableTextures = availableTextures.length ; i < numberOfAvailableTextures ; i++ ) {\r\n                let mapType = availableTextures[ i ]\r\n\r\n                const map = material[ mapType ]\r\n                if ( isDefined( map ) && isString( map ) && isNotEmptyString( map ) ) {\r\n\r\n                    const texturePath  = `${this._texturesPath}/${map}`\r\n                    const cachedResult = localCache[ texturePath ]\r\n\r\n                    if ( isDefined( cachedResult ) ) {\r\n\r\n                        textures[ mapType ] = cachedResult\r\n\r\n                    } else {\r\n\r\n                        const texture = this._texturesProvider.load(\r\n                            texturePath,\r\n                            () => {},\r\n                            () => {},\r\n                            () => {\r\n\r\n                                if ( !texture.image ) {\r\n                                    texture.image       = DEFAULT_IMAGE\r\n                                    texture.needsUpdate = true\r\n                                }\r\n\r\n                            }\r\n                        )\r\n                        texture.name  = map\r\n\r\n                        if ( !this._generateMipmap ) {\r\n                            texture.generateMipmaps = false\r\n                            texture.magFilter       = LinearFilter\r\n                            texture.minFilter       = LinearFilter\r\n                        }\r\n\r\n                        localCache[ texturePath ] = texture\r\n                        textures[ mapType ]       = texture\r\n\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n\r\n            texturesMap[ id ] = textures\r\n\r\n        }\r\n\r\n        return texturesMap\r\n\r\n    }\r\n\r\n}\r\n\r\nexport { MaterialsManager }\r\n","/**\r\n * @author [Tristan Valcke]{@link https://github.com/Itee}\r\n * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause}\r\n *\r\n * @class ClassName\r\n * @classdesc Todo...\r\n * @example Todo...\r\n *\r\n */\r\n\r\n/* eslint-env browser */\r\n\r\nimport { TDataBaseManager }   from 'itee-client'\r\nimport {\r\n    isDefined,\r\n    isNotBoolean,\r\n    isNotEmptyArray,\r\n    isNull,\r\n    isUndefined\r\n}                            from 'itee-validators'\r\nimport {\r\n    AmbientLight,\r\n    Color,\r\n    DirectionalLight,\r\n    Fog,\r\n    FogExp2,\r\n    Group,\r\n    HemisphereLight,\r\n    Line,\r\n    LineLoop,\r\n    LineSegments,\r\n    LOD,\r\n    Mesh,\r\n    Object3D,\r\n    OrthographicCamera,\r\n    PerspectiveCamera,\r\n    PointLight,\r\n    Points,\r\n    RectAreaLight,\r\n    Scene,\r\n    SkinnedMesh,\r\n    SpotLight,\r\n    Sprite\r\n}                            from 'three-full'\r\nimport { GeometriesManager } from './GeometriesManager'\r\nimport { MaterialsManager }  from './MaterialsManager'\r\n\r\nclass ObjectsManager extends TDataBaseManager {\r\n\r\n    /**\r\n     *\r\n     * @param parameters\r\n     */\r\n    constructor ( parameters = {} ) {\r\n\r\n        const _parameters = {\r\n            ...{\r\n                basePath:           '/objects',\r\n                geometriesProvider: new GeometriesManager(),\r\n                materialsProvider:  new MaterialsManager(),\r\n                projectionSystem:   'zBack',\r\n                globalScale:        1,\r\n                autoFillObjects3D:  true\r\n            }, ...parameters\r\n        }\r\n\r\n        super( _parameters )\r\n\r\n        this.geometriesProvider = _parameters.geometriesProvider\r\n        this.materialsProvider  = _parameters.materialsProvider\r\n        this.projectionSystem   = _parameters.projectionSystem\r\n        this.globalScale        = _parameters.globalScale\r\n        this.autoFillObjects3D  = _parameters.autoFillObjects3D\r\n\r\n    }\r\n\r\n    //// Getter/Setter\r\n\r\n    get geometriesProvider () {\r\n        return this._geometriesProvider\r\n    }\r\n\r\n    set geometriesProvider ( value ) {\r\n\r\n        if ( isNull( value ) ) { throw new TypeError( 'Geometries provider cannot be null ! Expect an instance of GeometriesManager.' ) }\r\n        if ( isUndefined( value ) ) { throw new TypeError( 'Geometries provider cannot be undefined ! Expect an instance of GeometriesManager.' ) }\r\n        if ( !( value instanceof GeometriesManager ) ) { throw new TypeError( `Geometries provider cannot be an instance of ${value.constructor.name} ! Expect an instance of TGeometriesManager.` ) }\r\n\r\n        this._geometriesProvider = value\r\n\r\n    }\r\n\r\n    get materialsProvider () {\r\n        return this._materialsProvider\r\n    }\r\n\r\n    set materialsProvider ( value ) {\r\n\r\n        if ( isNull( value ) ) { throw new TypeError( 'Materials provider cannot be null ! Expect an instance of MaterialsManager.' ) }\r\n        if ( isUndefined( value ) ) { throw new TypeError( 'Materials provider cannot be undefined ! Expect an instance of MaterialsManager.' ) }\r\n        if ( !( value instanceof MaterialsManager ) ) { throw new TypeError( `Materials provider cannot be an instance of ${value.constructor.name} ! Expect an instance of TMaterialsManager.` ) }\r\n\r\n        this._materialsProvider = value\r\n\r\n    }\r\n\r\n    get projectionSystem () {\r\n        return this._projectionSystem\r\n    }\r\n\r\n    set projectionSystem ( value ) {\r\n\r\n        if ( isNull( value ) ) { throw new TypeError( 'Projection system cannot be null ! Expect a positive number.' ) }\r\n        if ( isUndefined( value ) ) { throw new TypeError( 'Projection system cannot be undefined ! Expect a positive number.' ) }\r\n\r\n        this._projectionSystem = value\r\n\r\n    }\r\n\r\n    get globalScale () {\r\n        return this._globalScale\r\n    }\r\n\r\n    set globalScale ( value ) {\r\n\r\n        if ( isNull( value ) ) { throw new TypeError( 'Global scale cannot be null ! Expect a positive number.' ) }\r\n        if ( isUndefined( value ) ) { throw new TypeError( 'Global scale cannot be undefined ! Expect a positive number.' ) }\r\n\r\n        this._globalScale = value\r\n\r\n    }\r\n\r\n    get autoFillObjects3D () {\r\n        return this._autoFillObjects3D\r\n    }\r\n\r\n    set autoFillObjects3D ( value ) {\r\n\r\n        if ( isNull( value ) ) { throw new TypeError( 'Global scale cannot be null ! Expect a boolean.' ) }\r\n        if ( isUndefined( value ) ) { throw new TypeError( 'Global scale cannot be undefined ! Expect a positive number.' ) }\r\n        if ( isNotBoolean( value ) ) { throw new TypeError( 'Global scale cannot be null ! Expect a boolean.' ) }\r\n\r\n        this._autoFillObjects3D = value\r\n\r\n    }\r\n\r\n    setGeometriesProvider ( value ) {\r\n\r\n        this.geometriesProvider = value\r\n        return this\r\n\r\n    }\r\n\r\n    setMaterialsProvider ( value ) {\r\n\r\n        this.materialsProvider = value\r\n        return this\r\n\r\n    }\r\n\r\n    setProjectionSystem ( value ) {\r\n\r\n        this.projectionSystem = value\r\n        return this\r\n\r\n    }\r\n\r\n    setGlobalScale ( value ) {\r\n\r\n        this.globalScale = value\r\n        return this\r\n\r\n    }\r\n\r\n    setAutoFillObjects3D ( value ) {\r\n\r\n        this.autoFillObjects3D = value\r\n        return this\r\n\r\n    }\r\n\r\n    //// Methods\r\n\r\n    _onJson ( jsonData, onSuccess, onProgress, onError ) {\r\n\r\n        // Convert data from db to instanced object and add them into a map\r\n        const results = {}\r\n        for ( let dataIndex = 0, numberOfDatas = jsonData.length, data = undefined ; dataIndex < numberOfDatas ; dataIndex++ ) {\r\n\r\n            data = jsonData[ dataIndex ]\r\n\r\n            try {\r\n                results[ data._id ] = this.convert( data )\r\n            } catch ( err ) {\r\n                onError( err )\r\n            }\r\n\r\n            onProgress( new ProgressEvent( 'ObjectsManager', {\r\n                lengthComputable: true,\r\n                loaded:           dataIndex + 1,\r\n                total:            numberOfDatas\r\n            } ) )\r\n\r\n        }\r\n\r\n        // In case autoFill is true query materials and geometry\r\n        if ( this._autoFillObjects3D ) {\r\n            this.fillObjects3D( results, onSuccess, onProgress, onError )\r\n        } else {\r\n            onSuccess( results )\r\n        }\r\n\r\n    }\r\n\r\n    _onArrayBuffer ( data, onSuccess, onProgress, onError ) {}\r\n\r\n    _onBlob ( data, onSuccess, onProgress, onError ) {}\r\n\r\n    _onText ( data, onSuccess, onProgress, onError ) {}\r\n\r\n    /**\r\n     *\r\n     * @param data\r\n     * @return {*}\r\n     */\r\n    convert ( data ) {\r\n\r\n        if ( !data ) {\r\n            throw new Error( 'ObjectsManager: Unable to convert null or undefined data !' )\r\n        }\r\n\r\n        const objectType = data.type\r\n        let object       = null\r\n\r\n        // Todo: Use factory instead and allow user to register its own object type !!!\r\n        switch ( objectType ) {\r\n\r\n            case 'Object3D':\r\n                object = new Object3D()\r\n                this._fillBaseObjectsData( object, data )\r\n                break\r\n\r\n            case 'Scene':\r\n                object = new Scene()\r\n                this._fillBaseObjectsData( object, data )\r\n                if ( isDefined( data.background ) ) {\r\n\r\n                    if ( Number.isInteger( data.background ) ) {\r\n\r\n                        object.background = new Color( data.background )\r\n\r\n                    }\r\n\r\n                }\r\n                if ( isDefined( data.fog ) ) {\r\n\r\n                    if ( data.fog.type === 'Fog' ) {\r\n\r\n                        object.fog = new Fog( data.fog.color, data.fog.near, data.fog.far )\r\n\r\n                    } else if ( data.fog.type === 'FogExp2' ) {\r\n\r\n                        object.fog = new FogExp2( data.fog.color, data.fog.density )\r\n\r\n                    }\r\n\r\n                }\r\n                object.overrideMaterial = data.overrideMaterial\r\n                object.autoUpdate       = data.autoUpdate\r\n                break\r\n\r\n            case 'PerspectiveCamera':\r\n                object = new PerspectiveCamera()\r\n                this._fillBaseObjectsData( object, data )\r\n                object.fov    = data.fov\r\n                object.aspect = data.aspect\r\n                object.near   = data.near\r\n                object.far    = data.far\r\n                if ( isDefined( data.focus ) ) {\r\n                    object.focus = data.focus\r\n                }\r\n                if ( isDefined( data.zoom ) ) {\r\n                    object.zoom = data.zoom\r\n                }\r\n                if ( isDefined( data.filmGauge ) ) {\r\n                    object.filmGauge = data.filmGauge\r\n                }\r\n                if ( isDefined( data.filmOffset ) ) {\r\n                    object.filmOffset = data.filmOffset\r\n                }\r\n                if ( isDefined( data.view ) ) {\r\n                    object.view = Object.assign( {}, data.view )\r\n                }\r\n                break\r\n\r\n            case 'OrthographicCamera':\r\n                object = new OrthographicCamera( data.left, data.right, data.top, data.bottom, data.near, data.far )\r\n                this._fillBaseObjectsData( object, data )\r\n                break\r\n\r\n            case 'AmbientLight':\r\n                object = new AmbientLight( data.color, data.intensity )\r\n                this._fillBaseObjectsData( object, data )\r\n                break\r\n\r\n            case 'DirectionalLight':\r\n                object = new DirectionalLight( data.color, data.intensity )\r\n                this._fillBaseObjectsData( object, data )\r\n                break\r\n\r\n            case 'PointLight':\r\n                object = new PointLight( data.color, data.intensity, data.distance, data.decay )\r\n                this._fillBaseObjectsData( object, data )\r\n                break\r\n\r\n            case 'RectAreaLight':\r\n                object = new RectAreaLight( data.color, data.intensity, data.width, data.height )\r\n                this._fillBaseObjectsData( object, data )\r\n                break\r\n\r\n            case 'SpotLight':\r\n                object = new SpotLight( data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay )\r\n                this._fillBaseObjectsData( object, data )\r\n                break\r\n\r\n            case 'HemisphereLight':\r\n                object = new HemisphereLight( data.color, data.groundColor, data.intensity )\r\n                this._fillBaseObjectsData( object, data )\r\n                break\r\n\r\n            case 'SkinnedMesh':\r\n                object = new SkinnedMesh()\r\n                this._fillBaseObjectsData( object, data )\r\n                object.geometry          = data.geometry\r\n                object.material          = data.material\r\n                object.drawMode          = data.drawMode\r\n                object.bindMode          = data.bindMode\r\n                object.bindMatrix        = data.bindMatrix\r\n                object.bindMatrixInverse = data.bindMatrixInverse\r\n                break\r\n\r\n            case 'Mesh':\r\n                object = new Mesh()\r\n                this._fillBaseObjectsData( object, data )\r\n                object.geometry = data.geometry\r\n                object.material = data.material\r\n                object.drawMode = data.drawMode\r\n                break\r\n\r\n            case 'LOD':\r\n                object = new LOD()\r\n                this._fillBaseObjectsData( object, data )\r\n                object.levels = data.levels\r\n                break\r\n\r\n            case 'Line':\r\n                object = new Line()\r\n                this._fillBaseObjectsData( object, data )\r\n                object.geometry = data.geometry\r\n                object.material = data.material\r\n                object.drawMode = data.drawMode\r\n                break\r\n\r\n            case 'LineLoop':\r\n                object = new LineLoop()\r\n                this._fillBaseObjectsData( object, data )\r\n                object.geometry = data.geometry\r\n                object.material = data.material\r\n                object.drawMode = data.drawMode\r\n                break\r\n\r\n            case 'LineSegments':\r\n                object = new LineSegments()\r\n                this._fillBaseObjectsData( object, data )\r\n                object.geometry = data.geometry\r\n                object.material = data.material\r\n                object.drawMode = data.drawMode\r\n                break\r\n\r\n            case 'Points':\r\n                object = new Points()\r\n                this._fillBaseObjectsData( object, data )\r\n                object.geometry = data.geometry\r\n                object.material = data.material\r\n                object.drawMode = data.drawMode\r\n                break\r\n\r\n            case 'Sprite':\r\n                object = new Sprite()\r\n                this._fillBaseObjectsData( object, data )\r\n                object.material = data.material\r\n                break\r\n\r\n            case 'Group':\r\n                object = new Group()\r\n                this._fillBaseObjectsData( object, data )\r\n                break\r\n\r\n            default:\r\n                throw new Error( `TObjectsManager: Unknown object of type: ${objectType}` )\r\n                break\r\n\r\n        }\r\n\r\n        return object\r\n\r\n    }\r\n\r\n    _fillBaseObjectsData ( object, data ) {\r\n\r\n        // Common object properties\r\n        object._id = data._id\r\n\r\n        if ( isDefined( data.uuid ) ) {\r\n            object.uuid = data.uuid\r\n        }\r\n\r\n        if ( isDefined( data.name ) ) {\r\n            object.name = data.name\r\n        }\r\n\r\n        // IMPLICIT\r\n        //        if ( isDefined( data.type ) ) {\r\n        //            object.type = data.type\r\n        //        }\r\n\r\n        if ( isDefined( data.parent ) ) {\r\n            object.parent = data.parent\r\n        }\r\n\r\n        if ( isNotEmptyArray( data.children ) ) {\r\n            object.children = data.children\r\n        }\r\n\r\n        if ( isDefined( data.up ) ) {\r\n            object.up.x = data.up.x\r\n            object.up.y = data.up.y\r\n            object.up.z = data.up.z\r\n        }\r\n\r\n        if ( isDefined( data.position ) ) {\r\n\r\n            if ( this._projectionSystem === 'zBack' ) {\r\n\r\n                object.position.x = data.position.x / this._globalScale\r\n                object.position.y = data.position.z / this._globalScale\r\n                object.position.z = -data.position.y / this._globalScale\r\n\r\n            } else {\r\n\r\n                object.position.x = data.position.x / this._globalScale\r\n                object.position.y = data.position.y / this._globalScale\r\n                object.position.z = data.position.z / this._globalScale\r\n\r\n            }\r\n\r\n        }\r\n\r\n        if ( isDefined( data.rotation ) ) {\r\n\r\n            if ( this._projectionSystem === 'zBack' ) {\r\n\r\n                object.rotation.x     = data.rotation.x\r\n                object.rotation.y     = data.rotation.z\r\n                object.rotation.z     = -data.rotation.y\r\n                object.rotation.order = data.rotation.order\r\n\r\n            } else {\r\n\r\n                object.rotation.x     = data.rotation.x\r\n                object.rotation.y     = data.rotation.y\r\n                object.rotation.z     = data.rotation.z\r\n                object.rotation.order = data.rotation.order\r\n\r\n            }\r\n\r\n        }\r\n\r\n        if ( isDefined( data.quaternion ) ) {\r\n\r\n            if ( this._projectionSystem === 'zBack' ) {\r\n\r\n                object.quaternion.x = data.quaternion.x\r\n                object.quaternion.y = data.quaternion.z\r\n                object.quaternion.z = -data.quaternion.y\r\n                object.quaternion.w = data.quaternion.w\r\n\r\n            } else {\r\n\r\n                object.quaternion.x = data.quaternion.x\r\n                object.quaternion.y = data.quaternion.y\r\n                object.quaternion.z = data.quaternion.z\r\n                object.quaternion.w = data.quaternion.w\r\n\r\n            }\r\n\r\n        }\r\n\r\n        if ( isDefined( data.scale ) ) {\r\n\r\n            if ( data.scale.x !== 0 && data.scale.y !== 0 && data.scale.z !== 0 ) {\r\n                object.scale.x = data.scale.x\r\n                object.scale.y = data.scale.y\r\n                object.scale.z = data.scale.z\r\n            } else {\r\n                console.warn( 'Try to assign null scale !' )\r\n            }\r\n\r\n        }\r\n\r\n        if ( isDefined( data.modelViewMatrix ) && isNotEmptyArray( data.modelViewMatrix ) ) {\r\n            object.modelViewMatrix.fromArray( data.modelViewMatrix )\r\n        }\r\n\r\n        if ( isDefined( data.normalMatrix ) && isNotEmptyArray( data.normalMatrix ) ) {\r\n            object.normalMatrix.fromArray( data.normalMatrix )\r\n        }\r\n\r\n        if ( isDefined( data.matrix ) && isNotEmptyArray( data.matrix ) ) {\r\n            object.matrix.fromArray( data.matrix )\r\n        }\r\n\r\n        if ( isDefined( data.matrixWorld ) && isNotEmptyArray( data.matrixWorld ) ) {\r\n            object.matrixWorld.fromArray( data.matrixWorld )\r\n        }\r\n\r\n        if ( isDefined( data.matrixAutoUpdate ) ) {\r\n            object.matrixAutoUpdate = data.matrixAutoUpdate\r\n        }\r\n\r\n        if ( isDefined( data.matrixWorldNeedsUpdate ) ) {\r\n            object.matrixWorldNeedsUpdate = data.matrixWorldNeedsUpdate\r\n        }\r\n\r\n        if ( isDefined( data.layers ) ) {\r\n            object.layers.mask = data.layers\r\n        }\r\n\r\n        if ( isDefined( data.visible ) ) {\r\n            object.visible = data.visible\r\n        }\r\n\r\n        if ( isDefined( data.castShadow ) ) {\r\n            object.castShadow = data.castShadow\r\n        }\r\n\r\n        if ( isDefined( data.receiveShadow ) ) {\r\n            object.receiveShadow = data.receiveShadow\r\n        }\r\n\r\n        if ( isDefined( data.frustumCulled ) ) {\r\n            object.frustumCulled = data.frustumCulled\r\n        }\r\n\r\n        if ( isDefined( data.renderOrder ) ) {\r\n            object.renderOrder = data.renderOrder\r\n        }\r\n\r\n        if ( isDefined( data.userData ) ) {\r\n            object.userData = data.userData\r\n        }\r\n\r\n    }\r\n\r\n    //// Callback\r\n\r\n    fillObjects3D ( objects, onSuccess, onProgress, onError ) {\r\n\r\n        const self = this\r\n\r\n        // Get objects that need geometry or materials\r\n        const objectsArray = []\r\n        for ( let id in objects ) {\r\n\r\n            const object = objects[ id ]\r\n            if ( object.geometry || object.material ) {\r\n                objectsArray.push( objects[ id ] )\r\n            }\r\n\r\n        }\r\n\r\n        // In case no objects need to be filled return result\r\n        if ( objectsArray.length === 0 ) {\r\n            onSuccess( objects )\r\n            return\r\n        }\r\n\r\n        // Else fill geometries and materials for filtered objects\r\n        let geometriesMap = undefined\r\n        this._retrieveGeometriesOf( objectsArray, ( geometries ) => {\r\n            geometriesMap = geometries\r\n            onEndDataFetching()\r\n        }, onProgress, onError )\r\n\r\n        let materialsMap = undefined\r\n        this._retrieveMaterialsOf( objectsArray, ( materials ) => {\r\n            materialsMap = materials\r\n            onEndDataFetching()\r\n        }, onProgress, onError )\r\n\r\n        function onEndDataFetching () {\r\n\r\n            if ( !geometriesMap || !materialsMap ) { return }\r\n\r\n            for ( let key in objects ) {\r\n                const mesh = objects[ key ]\r\n                self.applyGeometry( mesh, geometriesMap )\r\n                self.applyMaterials( mesh, materialsMap )\r\n            }\r\n\r\n            // Don't forget to return all input object to callback,\r\n            // else some ids won't never be considered as processed !\r\n            onSuccess( objects )\r\n\r\n        }\r\n\r\n    }\r\n\r\n    _retrieveGeometriesOf ( meshes, onSuccess, onProgress, onError ) {\r\n\r\n        const geometriesIds = meshes.map( object => object.geometry )\r\n                                    .filter( ( value, index, self ) => {\r\n                                        return value && self.indexOf( value ) === index\r\n                                    } )\r\n\r\n        if ( geometriesIds.length === 0 ) {\r\n            onSuccess( {} )\r\n            return\r\n        }\r\n\r\n        this._geometriesProvider.read(\r\n            geometriesIds,\r\n            null,\r\n            onSuccess,\r\n            onProgress,\r\n            onError\r\n        )\r\n\r\n    }\r\n\r\n    _retrieveMaterialsOf ( meshes, onSuccess, onProgress, onError ) {\r\n\r\n        const materialsArray       = meshes.map( object => object.material )\r\n        const concatMaterialsArray = [].concat.apply( [], materialsArray )\r\n        const materialsIds         = concatMaterialsArray.filter( ( value, index, self ) => {\r\n            return value && self.indexOf( value ) === index\r\n        } )\r\n\r\n        if ( materialsIds.length === 0 ) {\r\n            onSuccess( {} )\r\n            return\r\n        }\r\n\r\n        this._materialsProvider.read(\r\n            materialsIds,\r\n            null,\r\n            onSuccess,\r\n            onProgress,\r\n            onError\r\n        )\r\n\r\n    }\r\n\r\n    /*\r\n     ///// PROMISE\r\n\r\n     async fillObjects3DByPromises ( objects, onSuccess, onProgress, onError ) {\r\n\r\n     const self         = this\r\n     const objectsArray = []\r\n     for ( let id in objects ) {\r\n     objectsArray.push( objects[ id ] )\r\n     }\r\n\r\n     const [ geometriesMap, materialsMap ] = await Promise.all( [\r\n     this._getGeometriesPromiseOf( objectsArray, onProgress, onError ),\r\n     this._getMaterialsPromiseOf( objectsArray, onProgress, onError )\r\n     ] )\r\n\r\n     for ( let key in objects ) {\r\n     const mesh = objects[ key ]\r\n     self.applyGeometry( mesh, geometriesMap )\r\n     self.applyMaterials( mesh, materialsMap )\r\n     }\r\n\r\n     // Don't forget to return all input object to callback,\r\n     // else some ids won't never be considered as processed !\r\n     onSuccess( objects )\r\n\r\n     }\r\n\r\n     _getGeometriesPromiseOf ( meshes, onProgress, onError ) {\r\n\r\n     const self = this\r\n\r\n     return new Promise( function ( resolve, reject ) {\r\n\r\n     const geometriesIds = meshes.map( object => object.geometry )\r\n     .filter( ( value, index, self ) => {\r\n     return value && self.indexOf( value ) === index\r\n     } )\r\n\r\n     if ( geometriesIds.length === 0 ) {\r\n     resolve( {} )\r\n     return\r\n     }\r\n\r\n     self._geometriesProvider.read(\r\n     geometriesIds,\r\n     null,\r\n     geometries => {\r\n     resolve( geometries )\r\n     },\r\n     onProgress,\r\n     onError\r\n     )\r\n\r\n     } )\r\n\r\n     }\r\n\r\n     _getMaterialsPromiseOf ( meshes, onProgress, onError ) {\r\n\r\n     const self = this\r\n\r\n     return new Promise( function ( resolve, reject ) {\r\n\r\n     const materialsArray       = meshes.map( object => object.material )\r\n     const concatMaterialsArray = [].concat.apply( [], materialsArray )\r\n     const materialsIds         = concatMaterialsArray.filter( ( value, index, self ) => {\r\n     return value && self.indexOf( value ) === index\r\n     } )\r\n\r\n     if ( materialsIds.length === 0 ) {\r\n     resolve( {} )\r\n     return\r\n     }\r\n\r\n     self._materialsProvider.read(\r\n     materialsIds,\r\n     null,\r\n     materials => {\r\n     resolve( materials )\r\n     },\r\n     onProgress,\r\n     onError\r\n     )\r\n\r\n     } )\r\n\r\n     }\r\n\r\n     ///// ASYNC\r\n\r\n     async fillObjects3D ( objects, onSuccess, onProgress, onError ) {\r\n\r\n     const self         = this\r\n     const objectsArray = []\r\n     for ( let id in objects ) {\r\n\r\n     const object = objects[ id ]\r\n     if ( object.geometry || object.material ) {\r\n     objectsArray.push( objects[ id ] )\r\n     }\r\n\r\n     }\r\n\r\n     if ( objectsArray.length === 0 ) {\r\n     onSuccess( objects )\r\n     return\r\n     }\r\n\r\n     let geometriesMap = undefined\r\n     this._retrieveGeometriesOf( objectsArray, ( geometries ) => {\r\n     geometriesMap = geometries\r\n     onEndDataFetching()\r\n     }, onProgress, onError )\r\n\r\n     let materialsMap = undefined\r\n     this._retrieveMaterialsOf( objectsArray, ( materials ) => {\r\n     materialsMap = materials\r\n     onEndDataFetching()\r\n     }, onProgress, onError )\r\n\r\n     function onEndDataFetching () {\r\n\r\n     if ( !geometriesMap || !materialsMap ) { return }\r\n\r\n     for ( let key in objects ) {\r\n     const mesh = objects[ key ]\r\n     self.applyGeometry( mesh, geometriesMap )\r\n     self.applyMaterials( mesh, materialsMap )\r\n     }\r\n\r\n     // Don't forget to return all input object to callback,\r\n     // else some ids won't never be considered as processed !\r\n     onSuccess( objects )\r\n\r\n     }\r\n\r\n     }\r\n\r\n     _retrieveGeometriesOf ( meshes, onSucess, onProgress, onError ) {\r\n\r\n     const geometriesIds = meshes.map( object => object.geometry )\r\n     .filter( ( value, index, self ) => {\r\n     return value && self.indexOf( value ) === index\r\n     } )\r\n\r\n     if ( geometriesIds.length === 0 ) {\r\n     onSucess( {} )\r\n     return\r\n     }\r\n\r\n     this._geometriesProvider.read(\r\n     geometriesIds,\r\n     null,\r\n     onSucess,\r\n     onProgress,\r\n     onError\r\n     )\r\n\r\n     }\r\n\r\n     _retrieveMaterialsOf ( meshes, onSucess, onProgress, onError ) {\r\n\r\n     const materialsArray       = meshes.map( object => object.material )\r\n     const concatMaterialsArray = [].concat.apply( [], materialsArray )\r\n     const materialsIds         = concatMaterialsArray.filter( ( value, index, self ) => {\r\n     return value && self.indexOf( value ) === index\r\n     } )\r\n\r\n     if ( materialsIds.length === 0 ) {\r\n     onSucess( {} )\r\n     return\r\n     }\r\n\r\n     this._materialsProvider.read(\r\n     materialsIds,\r\n     null,\r\n     onSucess,\r\n     onProgress,\r\n     onError\r\n     )\r\n\r\n     }\r\n\r\n     /////////////\r\n     */\r\n\r\n    applyGeometry ( object, geometries ) {\r\n\r\n        const geometryId = object.geometry\r\n        if ( !geometryId ) {\r\n            return\r\n        }\r\n\r\n        const geometry = geometries[ geometryId ]\r\n        if ( !geometry ) {\r\n            console.error( 'Unable to retrieve geometry !!!' )\r\n            return\r\n        }\r\n\r\n        object.geometry = geometry\r\n\r\n    }\r\n\r\n    applyMaterials ( object, materials ) {\r\n\r\n        const materialIds = object.material\r\n        if ( !materialIds ) {\r\n            return\r\n        }\r\n\r\n        if ( Array.isArray( materialIds ) ) {\r\n\r\n            if ( materialIds.length === 1 ) {\r\n\r\n                const materialId = materialIds[ 0 ]\r\n                const material   = materials[ materialId ]\r\n                if ( !material ) {\r\n                    console.error( 'Unable to retrieve material !!!' )\r\n                    return null\r\n                }\r\n\r\n                object.material = material.clone()\r\n\r\n            } else {\r\n\r\n                object.material = []\r\n                for ( let materialIndex = 0, numberOfMaterial = materialIds.length ; materialIndex < numberOfMaterial ; materialIndex++ ) {\r\n                    const materialId = materialIds[ materialIndex ]\r\n                    const material   = materials[ materialId ]\r\n                    if ( !material ) {\r\n                        console.error( 'Unable to retrieve material !!!' )\r\n                        return null\r\n                    }\r\n\r\n                    object.material.push( material.clone() )\r\n                }\r\n            }\r\n\r\n        } else if ( typeof materialIds === 'string' ) {\r\n\r\n            const material = materials[ materialIds ]\r\n            if ( !material ) {\r\n                console.error( 'Unable to retrieve material !!!' )\r\n                return\r\n            }\r\n\r\n            object.material = material.clone()\r\n\r\n        } else {\r\n\r\n            console.error( 'Invalid material ids, expected string or array of string' )\r\n\r\n\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nexport { ObjectsManager }\r\n","/**\r\n * @author [Tristan Valcke]{@link https://github.com/Itee}\r\n * @license [BSD-3-Clause]{@link https://opensource.org/licenses/BSD-3-Clause}\r\n *\r\n * @class OrbitControlsHelper\r\n * @classdesc Todo...\r\n * @example Todo...\r\n *\r\n */\r\n\r\n/* eslint-env browser */\r\n\r\nimport {\r\n    BufferGeometry,\r\n    Color,\r\n    Float32BufferAttribute,\r\n    LineBasicMaterial,\r\n    LineSegments,\r\n    VertexColors\r\n} from 'three-full'\r\n\r\nclass OrbitControlsHelper extends LineSegments {\r\n\r\n    static _createInternalGeometry ( RADIUS, RADIALS, CIRCLES, DIVISIONS, color1, color2 ) {\r\n\r\n        const vertices = []\r\n        const colors   = []\r\n\r\n        let x, z, v, i, j, r, color\r\n\r\n        // create the radials\r\n        for ( i = 0 ; i <= RADIALS ; i++ ) {\r\n\r\n            v = ( i / RADIALS ) * ( Math.PI * 2 )\r\n\r\n            x = Math.sin( v ) * RADIUS\r\n            z = Math.cos( v ) * RADIUS\r\n\r\n            vertices.push( 0, 0, 0 )\r\n            vertices.push( x, 0, z )\r\n\r\n            color = ( i & 1 ) ? color1 : color2\r\n\r\n            colors.push( color.r, color.g, color.b )\r\n            colors.push( color.r, color.g, color.b )\r\n\r\n        }\r\n\r\n        // create the circles\r\n        for ( i = 0 ; i <= CIRCLES ; i++ ) {\r\n\r\n            color = ( i & 1 ) ? color1 : color2\r\n\r\n            r = RADIUS - ( RADIUS / CIRCLES * i )\r\n\r\n            for ( j = 0 ; j < DIVISIONS ; j++ ) {\r\n\r\n                // first vertex\r\n                v = ( j / DIVISIONS ) * ( Math.PI * 2 )\r\n\r\n                x = Math.sin( v ) * r\r\n                z = Math.cos( v ) * r\r\n\r\n                vertices.push( x, 0, z )\r\n                colors.push( color.r, color.g, color.b )\r\n\r\n                // second vertex\r\n                v = ( ( j + 1 ) / DIVISIONS ) * ( Math.PI * 2 )\r\n\r\n                x = Math.sin( v ) * r\r\n                z = Math.cos( v ) * r\r\n\r\n                vertices.push( x, 0, z )\r\n                colors.push( color.r, color.g, color.b )\r\n\r\n            }\r\n\r\n            // create axis\r\n            vertices.push(\r\n                -1, 0, 0, 1, 0, 0,\r\n                0, -1, 0, 0, 1, 0,\r\n                0, 0, -1, 0, 0, 1\r\n            )\r\n            colors.push(\r\n                1, 0, 0, 1, 0.6, 0,\r\n                0, 1, 0, 0.6, 1, 0,\r\n                0, 0, 1, 0, 0.6, 1\r\n            )\r\n\r\n        }\r\n\r\n        const positionBufferAttribute = new Float32BufferAttribute( vertices, 3 )\r\n        positionBufferAttribute.name  = 'TOrbitControlsHelperPositionBufferAttribute'\r\n\r\n        const colorBufferAttribute = new Float32BufferAttribute( colors, 3 )\r\n        colorBufferAttribute.name  = 'TOrbitControlsHelperColorBufferAttribute'\r\n\r\n        const geometry = new BufferGeometry()\r\n        geometry.addAttribute( 'position', positionBufferAttribute )\r\n        geometry.addAttribute( 'color', colorBufferAttribute )\r\n        geometry.name = 'TOrbitControlsHelperGeometry'\r\n\r\n        return geometry\r\n\r\n    }\r\n\r\n    static _createInternalMaterial () {\r\n\r\n        const material       = new LineBasicMaterial( { vertexColors: VertexColors } )\r\n        material.transparent = true\r\n        material.opacity     = 0.0\r\n        material.name        = 'TOrbitControlsHelperMaterial'\r\n\r\n        return material\r\n\r\n    }\r\n\r\n    constructor ( parameters = {} ) {\r\n\r\n        const _parameters = {\r\n            ...{\r\n                radius:     2,\r\n                radials:    16,\r\n                circles:    2,\r\n                divisions:  64,\r\n                innerColor: new Color( 0x444444 ),\r\n                outerColor: new Color( 0x888888 )\r\n            }, ...parameters\r\n        }\r\n\r\n        super( OrbitControlsHelper._createInternalGeometry( _parameters.radius, _parameters.radials, _parameters.circles, _parameters.divisions, _parameters.innerColor, _parameters.outerColor ), OrbitControlsHelper._createInternalMaterial() )\r\n\r\n        //        this.control     = control\r\n        this._intervalId = undefined\r\n\r\n        //        this.impose()\r\n\r\n    }\r\n\r\n    startOpacityAnimation () {\r\n\r\n        // In case fade off is running, kill it an restore opacity to 1\r\n        if ( this._intervalId !== undefined ) {\r\n\r\n            clearInterval( this._intervalId )\r\n            this._intervalId = undefined\r\n\r\n        }\r\n\r\n        this.material.opacity = 1.0\r\n\r\n    }\r\n\r\n    endOpacityAnimation () {\r\n\r\n        // Manage transparency interval\r\n        this._intervalId = setInterval( function () {\r\n\r\n            if ( this.material.opacity <= 0.0 ) {\r\n\r\n                this.material.opacity = 0.0\r\n                clearInterval( this._intervalId )\r\n                this._intervalId = undefined\r\n\r\n            } else {\r\n\r\n                this.material.opacity -= 0.1\r\n\r\n            }\r\n\r\n        }.bind( this ), 100 )\r\n\r\n    }\r\n\r\n}\r\n\r\nexport { OrbitControlsHelper }\r\n"],"names":["TLogger"],"mappings":"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"}